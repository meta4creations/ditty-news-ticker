{"version":3,"file":"dittyEditor.js","mappings":"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","sources":["webpack://ditty/./src/editor/components/Editor.js","webpack://ditty/./src/editor/components/Tabs.js","webpack://ditty/./src/editor/context/index.js","webpack://ditty/./src/editor/css/editor.scss?3841","webpack://ditty/external window [\"wp\",\"element\"]","webpack://ditty/external window [\"wp\",\"i18n\"]","webpack://ditty/webpack/bootstrap","webpack://ditty/webpack/runtime/compat get default export","webpack://ditty/webpack/runtime/define property getters","webpack://ditty/webpack/runtime/hasOwnProperty shorthand","webpack://ditty/webpack/runtime/make namespace object","webpack://ditty/./src/editor/dittyEditor.js"],"sourcesContent":["import { __ } from \"@wordpress/i18n\";\nimport { useState } from \"@wordpress/element\";\nimport Tabs from \"./Tabs\";\nimport { EditorContext } from \"../context\";\n\nexport default () => {\n  const [currentTabId, setCurrentTabId] = useState(\"items\");\n\n  const tabs = window.dittyHooks.applyFilters(\"dittyEditorTabs\", [\n    {\n      id: \"items\",\n      label: __(\"Items\", \"ditty-news-ticker\"),\n      icon: \"fas fa-stream\",\n    },\n    {\n      id: \"display\",\n      label: __(\"Display\", \"ditty-news-ticker\"),\n      icon: \"fas fa-tablet-alt\",\n    },\n    {\n      id: \"settings\",\n      label: __(\"Settings\", \"ditty-news-ticker\"),\n      icon: \"fas fa-cog\",\n    },\n  ]);\n\n  const handleTabClick = (tab) => {\n    setCurrentTabId(tab.id);\n  };\n\n  const renderCurrentPanel = () => {\n    return window.dittyHooks.applyFilters(\n      \"dittyEditorPanel\",\n      \"\",\n      currentTabId,\n      EditorContext\n    );\n  };\n\n  return (\n    <div className=\"ditty-editor__contents\">\n      <Tabs\n        tabs={tabs}\n        currentTabId={currentTabId}\n        tabClick={handleTabClick}\n        type=\"primary\"\n      />\n      <div className=\"ditty-editor__panels\">{renderCurrentPanel()}</div>;\n    </div>\n  );\n};\n","import { __ } from \"@wordpress/i18n\";\n\nconst Tabs = ({ tabs, type, currentTabId, tabClick }) => {\n  /**\n   * Render the tabs container class name\n   * @returns className\n   */\n  const renderTabsClass = () => {\n    let className = \"ditty-editor__tabs\";\n    if (type && \"\" !== type) {\n      className += ` ditty-editor__tabs--${type}`;\n    }\n    return className;\n  };\n\n  /**\n   * Render a tabs class name\n   * @param {object} tab\n   * @returns className\n   */\n  const renderButtonClass = (tab) => {\n    let className = \"ditty-editor__tab\";\n    if (tab.id === currentTabId) {\n      className += \" ditty-editor__tab--active\";\n    }\n    return className;\n  };\n\n  /**\n   * Render a tabs content\n   * @param {object} tab\n   * @returns className\n   */\n  const renderButtonContent = (tab) => {\n    return tab.id === currentTabId ? (\n      <span>{tab.label}</span>\n    ) : (\n      <i className={tab.icon}></i>\n    );\n  };\n\n  /**\n   * Return the tabs\n   */\n  return (\n    <div className={renderTabsClass()}>\n      {tabs.map((tab) => {\n        return (\n          <button\n            className={renderButtonClass(tab)}\n            key={tab.id}\n            onClick={() => tabClick(tab)}\n          >\n            {renderButtonContent(tab)}\n          </button>\n        );\n      })}\n    </div>\n  );\n};\nexport default Tabs;\n","import { Component } from \"@wordpress/element\";\n\nexport const EditorContext = React.createContext();\nEditorContext.displayName = \"EditorContext\";\n\nexport class EditorProvider extends Component {\n  data = this.props.data;\n  initialTitle = this.data.title ? this.data.title : \"\";\n  initialItems = this.data.items ? JSON.parse(this.data.items) : [];\n  initialDisplay = this.data.display ? this.data.display : 0;\n  id = this.data.id;\n\n  state = {\n    title: this.initialTitle,\n    items: this.initialItems,\n    displays: dittyEditorVars.displays,\n    layouts: dittyEditorVars.layouts,\n    currentDisplay: this.initialDisplay,\n    currentPanel: \"items\",\n  };\n\n  handleUpdateItems = (updatedItems) => {\n    const orderedItems = updatedItems.map((item, index) => {\n      item.item_index = index.toString();\n      return item;\n    });\n\n    this.setState({ items: orderedItems });\n  };\n\n  handleUpdateItem = (updatedItem) => {\n    const updatedItems = this.state.items.map((item) => {\n      return updatedItem.item_id === item.item_id ? updatedItem : item;\n    });\n    this.setState({ items: updatedItems });\n  };\n\n  handleSetCurrentPanel = (panel) => {\n    this.setState({ currentPanel: panel });\n  };\n\n  render() {\n    return (\n      <EditorContext.Provider\n        value={{\n          id: this.id,\n          title: this.state.title,\n          items: this.state.items,\n          displays: this.state.displays,\n          layouts: this.state.layouts,\n          currentPanel: this.state.currentPanel,\n          currentDisplay: this.state.currentDisplay,\n          actions: {\n            setCurrentPanel: this.handleSetCurrentPanel,\n            updateItems: this.handleUpdateItems,\n            updateItem: this.handleUpdateItem,\n          },\n        }}\n      >\n        {this.props.children}\n      </EditorContext.Provider>\n    );\n  }\n}\n\nexport const EditorConsumer = EditorContext.Consumer;\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const { render } = wp.element; //we are using wp.element here!\nimport { EditorProvider } from \"./context\";\nimport Editor from \"./components/Editor\";\nimport \"./css/editor.scss\";\n\nif (document.getElementById(\"ditty-editor\")) {\n  const $dittyEditor = document.getElementById(\"ditty-editor\");\n  render(\n    <EditorProvider data={$dittyEditor.dataset}>\n      <Editor />\n    </EditorProvider>,\n    document.getElementById(\"ditty-editor\")\n  );\n}\n"],"names":["__","useState","Tabs","EditorContext","currentTabId","setCurrentTabId","tabs","window","dittyHooks","applyFilters","id","label","icon","handleTabClick","tab","renderCurrentPanel","type","tabClick","renderTabsClass","className","renderButtonClass","renderButtonContent","map","Component","React","createContext","displayName","EditorProvider","data","props","initialTitle","title","initialItems","items","JSON","parse","initialDisplay","display","state","displays","dittyEditorVars","layouts","currentDisplay","currentPanel","handleUpdateItems","updatedItems","orderedItems","item","index","item_index","toString","setState","handleUpdateItem","updatedItem","item_id","handleSetCurrentPanel","panel","render","actions","setCurrentPanel","updateItems","updateItem","children","EditorConsumer","Consumer","wp","element","Editor","document","getElementById","$dittyEditor","dataset"],"sourceRoot":""}