(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var l in a)e.o(a,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:a[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,a=window.wp.element,l=window.wp.i18n,c=window.wp.blockEditor,n=window.wp.components,s=window.wp.apiFetch;var i=e.n(s);const o={};o.iconBlack=(0,a.createElement)("svg",{className:"ditty-logo ditty-icon--black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 69.8 71.1"},(0,a.createElement)("path",{d:"M0 46.4c0-17.2 8.6-29.1 24.6-29.1a19.93 19.93 0 0 1 6.6 1V0H45v59.2l1 10.3H34.2l-.9-5.2h-.5a15.21 15.21 0 0 1-13 6.8C3.8 71.1 0 58.4 0 46.4Zm31.2 7.4V28.6a13.7 13.7 0 0 0-6-1.3c-8.7 0-11.3 8.7-11.3 17.8 0 8.5 1.9 15.8 8.9 15.8 5.1 0 8.4-3.8 8.4-7.1ZM54.7 63.7a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4Z"})),o.iconWhite=(0,a.createElement)("svg",{className:"ditty-logo ditty-icon--white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 69.8 71.1"},(0,a.createElement)("path",{d:"M0 46.4c0-17.2 8.6-29.1 24.6-29.1a19.93 19.93 0 0 1 6.6 1V0H45v59.2l1 10.3H34.2l-.9-5.2h-.5a15.21 15.21 0 0 1-13 6.8C3.8 71.1 0 58.4 0 46.4Zm31.2 7.4V28.6a13.7 13.7 0 0 0-6-1.3c-8.7 0-11.3 8.7-11.3 17.8 0 8.5 1.9 15.8 8.9 15.8 5.1 0 8.4-3.8 8.4-7.1ZM54.7 63.7a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4Z"})),o.iconGreen=(0,a.createElement)("svg",{className:"ditty-logo ditty-icon--green",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 69.8 71.1"},(0,a.createElement)("path",{d:"M0 46.4c0-17.2 8.6-29.1 24.6-29.1a19.93 19.93 0 0 1 6.6 1V0H45v59.2l1 10.3H34.2l-.9-5.2h-.5a15.21 15.21 0 0 1-13 6.8C3.8 71.1 0 58.4 0 46.4Zm31.2 7.4V28.6a13.7 13.7 0 0 0-6-1.3c-8.7 0-11.3 8.7-11.3 17.8 0 8.5 1.9 15.8 8.9 15.8 5.1 0 8.4-3.8 8.4-7.1ZM54.7 63.7a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4Z"})),o.logoBlack=(0,a.createElement)("svg",{className:"ditty-logo ditty-logo--black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 258.8 99.21"},(0,a.createElement)("path",{d:"M0 49.5c0-17.2 8.6-29.1 24.6-29.1a19.93 19.93 0 0 1 6.6 1V3.1H45v59.2l1 10.3H34.2l-.9-5.2h-.5a15.21 15.21 0 0 1-13 6.8C3.8 74.2 0 61.5 0 49.5Zm31.2 7.4V31.7a13.7 13.7 0 0 0-6-1.3c-8.7 0-11.3 8.7-11.3 17.8 0 8.5 1.9 15.8 8.9 15.8 5.1 0 8.4-3.8 8.4-7.1ZM55.7 7.4A7.33 7.33 0 0 1 63.4 0c4.6 0 7.8 3.3 7.8 7.4s-3.2 7.4-7.8 7.4-7.7-3.1-7.7-7.4Zm14.8 14.5v50.7H56.4V21.9ZM95.8 3.1v18.8H112V3.1h14.1v18.8h13v10.9h-13v23.1c0 5.9 2.6 7.6 6.4 7.6a11.9 11.9 0 0 0 6.1-1.9l3.2 9c-3 2-8.2 3.5-13.3 3.5-15.2 0-16.5-8.7-16.5-17.8V32.8H95.8v23.1c0 5.9 2 7.6 5.7 7.6a11.64 11.64 0 0 0 5.7-1.6l2.1 9.4c-2.6 1.7-7.4 2.8-11.1 2.8-15.1 0-16.4-8.7-16.4-17.8V3.1ZM149.6 85.81c0-7.21 4.4-12.81 10.3-17.11-8.4-1.3-13-5.9-13-16V21.9h14v29.7c0 5.4.5 9.1 7 9.1 4 0 7.7-3.2 7.7-8.3V21.9h14v42.3a108.13 108.13 0 0 1-.9 13.9c-1.5 13.5-8.9 21.11-22.4 21.11-11.1 0-16.7-5.21-16.7-13.4Zm26.3-9.11v-9.5c-7.4 3.5-14 8.5-14 16.11 0 3.9 2.2 5.79 6 5.79 5.9 0 8-4.7 8-12.4ZM198.7 66.8a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4ZM221.2 66.8a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4ZM243.7 66.8a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4Z"})),o.logoWhite=(0,a.createElement)("svg",{className:"ditty-logo ditty-logo--white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 258.8 99.21"},(0,a.createElement)("path",{d:"M0 49.5c0-17.2 8.6-29.1 24.6-29.1a19.93 19.93 0 0 1 6.6 1V3.1H45v59.2l1 10.3H34.2l-.9-5.2h-.5a15.21 15.21 0 0 1-13 6.8C3.8 74.2 0 61.5 0 49.5Zm31.2 7.4V31.7a13.7 13.7 0 0 0-6-1.3c-8.7 0-11.3 8.7-11.3 17.8 0 8.5 1.9 15.8 8.9 15.8 5.1 0 8.4-3.8 8.4-7.1ZM55.7 7.4A7.33 7.33 0 0 1 63.4 0c4.6 0 7.8 3.3 7.8 7.4s-3.2 7.4-7.8 7.4-7.7-3.1-7.7-7.4Zm14.8 14.5v50.7H56.4V21.9ZM95.8 3.1v18.8H112V3.1h14.1v18.8h13v10.9h-13v23.1c0 5.9 2.6 7.6 6.4 7.6a11.9 11.9 0 0 0 6.1-1.9l3.2 9c-3 2-8.2 3.5-13.3 3.5-15.2 0-16.5-8.7-16.5-17.8V32.8H95.8v23.1c0 5.9 2 7.6 5.7 7.6a11.64 11.64 0 0 0 5.7-1.6l2.1 9.4c-2.6 1.7-7.4 2.8-11.1 2.8-15.1 0-16.4-8.7-16.4-17.8V3.1ZM149.6 85.81c0-7.21 4.4-12.81 10.3-17.11-8.4-1.3-13-5.9-13-16V21.9h14v29.7c0 5.4.5 9.1 7 9.1 4 0 7.7-3.2 7.7-8.3V21.9h14v42.3a108.13 108.13 0 0 1-.9 13.9c-1.5 13.5-8.9 21.11-22.4 21.11-11.1 0-16.7-5.21-16.7-13.4Zm26.3-9.11v-9.5c-7.4 3.5-14 8.5-14 16.11 0 3.9 2.2 5.79 6 5.79 5.9 0 8-4.7 8-12.4ZM198.7 66.8a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4ZM221.2 66.8a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4ZM243.7 66.8a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4Z"})),o.logoGreen=(0,a.createElement)("svg",{className:"ditty-logo ditty-logo--green",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 258.8 99.21"},(0,a.createElement)("path",{d:"M0 49.5c0-17.2 8.6-29.1 24.6-29.1a19.93 19.93 0 0 1 6.6 1V3.1H45v59.2l1 10.3H34.2l-.9-5.2h-.5a15.21 15.21 0 0 1-13 6.8C3.8 74.2 0 61.5 0 49.5Zm31.2 7.4V31.7a13.7 13.7 0 0 0-6-1.3c-8.7 0-11.3 8.7-11.3 17.8 0 8.5 1.9 15.8 8.9 15.8 5.1 0 8.4-3.8 8.4-7.1ZM55.7 7.4A7.33 7.33 0 0 1 63.4 0c4.6 0 7.8 3.3 7.8 7.4s-3.2 7.4-7.8 7.4-7.7-3.1-7.7-7.4Zm14.8 14.5v50.7H56.4V21.9ZM95.8 3.1v18.8H112V3.1h14.1v18.8h13v10.9h-13v23.1c0 5.9 2.6 7.6 6.4 7.6a11.9 11.9 0 0 0 6.1-1.9l3.2 9c-3 2-8.2 3.5-13.3 3.5-15.2 0-16.5-8.7-16.5-17.8V32.8H95.8v23.1c0 5.9 2 7.6 5.7 7.6a11.64 11.64 0 0 0 5.7-1.6l2.1 9.4c-2.6 1.7-7.4 2.8-11.1 2.8-15.1 0-16.4-8.7-16.4-17.8V3.1ZM149.6 85.81c0-7.21 4.4-12.81 10.3-17.11-8.4-1.3-13-5.9-13-16V21.9h14v29.7c0 5.4.5 9.1 7 9.1 4 0 7.7-3.2 7.7-8.3V21.9h14v42.3a108.13 108.13 0 0 1-.9 13.9c-1.5 13.5-8.9 21.11-22.4 21.11-11.1 0-16.7-5.21-16.7-13.4Zm26.3-9.11v-9.5c-7.4 3.5-14 8.5-14 16.11 0 3.9 2.2 5.79 6 5.79 5.9 0 8-4.7 8-12.4ZM198.7 66.8a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4ZM221.2 66.8a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4ZM243.7 66.8a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4Z"}));const r=o;(0,t.registerBlockType)("metaphorcreations/ditty",{version:Date.now(),icon:{src:r.iconGreen},transforms:{from:[{type:"block",blocks:["core/legacy-widget"],isMatch:e=>{let{idBase:t,instance:a}=e;return!!a?.raw&&"ditty-widget"===t},transform:e=>{let{instance:a}=e;const l=[(0,t.createBlock)("metaphorcreations/ditty",{ditty:a.raw.ditty,display:a.raw.display})];return a.raw.title&&l.unshift((0,t.createBlock)("core/heading",{content:a.raw.title})),l}}]},edit:function(e){let{isSelected:t,setAttributes:s,attributes:o}=e;const{ditty:d,display:m,customID:v,customClasses:w}=o,[y,h]=(0,a.useState)([]),[p,u]=(0,a.useState)([]),g=y.map((e=>({key:e.id,value:e.id,label:e.title.rendered})));g.unshift({key:0,value:0,label:(0,l.__)("No Ditty Selected","ditty-news-ticker")});const Z=p.map((e=>({key:e.id,value:e.id,label:e.title.rendered})));Z.unshift({key:0,value:0,label:(0,l.__)("Use Default Display","ditty-news-ticker")});const _=g.filter((e=>e.value===d)),E=_[0]?_[0].label:"",k=Z.filter((e=>e.value===m)),b=k[0]?k[0].label:"",V="wp-block-metaphorcreations-ditty";return(0,a.useEffect)((()=>{!async function(){const e=await i()({path:"/wp/v2/ditty"});h(e)}(),async function(){const e=await i()({path:"/wp/v2/ditty_display"});u(e)}()}),[]),(0,a.createElement)("div",(0,c.useBlockProps)(),(0,a.createElement)(c.InspectorControls,{key:"dittySelectTicker"},(0,a.createElement)(n.PanelBody,null,g?(0,a.createElement)(n.SelectControl,{label:(0,l.__)("Ditty","ditty-news-ticker"),value:d,options:g,onChange:e=>s({ditty:Number(e)})}):(0,a.createElement)(a.Fragment,null,(0,a.createElement)(n.Spinner,null),(0,l.__)("Loading Tickers","ditty-news-ticker")),Z?(0,a.createElement)(n.SelectControl,{label:(0,l.__)("Display","ditty-news-ticker"),value:m,options:Z,onChange:e=>s({display:Number(e)})}):(0,a.createElement)(a.Fragment,null,(0,a.createElement)(n.Spinner,null),(0,l.__)("Loading Displays","ditty-news-ticker")),(0,a.createElement)(n.TextControl,{label:(0,l.__)("Custom ID","ditty-news-ticker"),value:v,onChange:e=>s({customID:e})}),(0,a.createElement)(n.TextControl,{label:(0,l.__)("Custom Classes","ditty-news-ticker"),value:w,onChange:e=>s({customClasses:e})}))),(0,a.createElement)("div",{className:`${V}__contents`},r.logoBlack,!t&&(0,a.createElement)("div",{className:`${V}__info`},(0,a.createElement)("div",{className:`${V}__vals`},(0,l.__)("ID:","ditty-news-ticker")," ",(0,a.createElement)("strong",null,E)),(0,a.createElement)("div",{className:`${V}__vals`},(0,l.__)("Display:","ditty-news-ticker")," ",(0,a.createElement)("strong",null,b))),t&&(0,a.createElement)("div",{className:`${V}__controls`},(0,a.createElement)(n.SelectControl,{label:(0,l.__)("ID:","ditty-news-ticker"),labelPosition:"side",value:d,options:g,onChange:e=>s({ditty:Number(e)})}),(0,a.createElement)(n.SelectControl,{label:(0,l.__)("Display:","ditty-news-ticker"),labelPosition:"side",value:m,options:Z,onChange:e=>s({display:Number(e)})}))))},save:function(e){let{attributes:t}=e;return null}})})();