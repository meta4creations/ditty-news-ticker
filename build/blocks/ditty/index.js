(()=>{"use strict";const e=window.wp.blocks,t=window.React,l=window.wp.blockEditor,a=window.wp.data,c={};c.iconBlack=(0,t.createElement)("svg",{className:"ditty-logo ditty-icon--black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 69.31 71.1",fill:"currentColor"},(0,t.createElement)("path",{d:"M0 46.4c0-17.2 8.6-29.1 24.6-29.1a19.93 19.93 0 0 1 6.6 1V0H45v59.2l1 10.3H34.2l-.9-5.2h-.5a15.21 15.21 0 0 1-13 6.8C3.8 71.1 0 58.4 0 46.4Zm31.2 7.4V28.6a13.7 13.7 0 0 0-6-1.3c-8.7 0-11.3 8.7-11.3 17.8 0 8.5 1.9 15.8 8.9 15.8 5.1 0 8.4-3.8 8.4-7.1ZM61.91 65.6a7 7 0 0 1-7.2-7.4c0-5 2.8-7.7 7.1-7.7s7.5 2.6 7.5 7.4c0 5.1-3.1 7.7-7.4 7.7ZM61.91 43.1a7 7 0 0 1-7.2-7.4c0-5 2.8-7.7 7.1-7.7s7.5 2.6 7.5 7.4c0 5.1-3.1 7.7-7.4 7.7ZM61.91 20.6a7 7 0 0 1-7.2-7.4c0-5 2.8-7.7 7.1-7.7s7.5 2.6 7.5 7.4c0 5.1-3.1 7.7-7.4 7.7Z"})),c.iconWhite=(0,t.createElement)("svg",{className:"ditty-logo ditty-icon--white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 69.8 71.1"},(0,t.createElement)("path",{d:"M0 46.4c0-17.2 8.6-29.1 24.6-29.1a19.93 19.93 0 0 1 6.6 1V0H45v59.2l1 10.3H34.2l-.9-5.2h-.5a15.21 15.21 0 0 1-13 6.8C3.8 71.1 0 58.4 0 46.4Zm31.2 7.4V28.6a13.7 13.7 0 0 0-6-1.3c-8.7 0-11.3 8.7-11.3 17.8 0 8.5 1.9 15.8 8.9 15.8 5.1 0 8.4-3.8 8.4-7.1ZM54.7 63.7a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4Z"})),c.iconGreen=(0,t.createElement)("svg",{className:"ditty-logo ditty-icon--green",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 69.8 71.1"},(0,t.createElement)("path",{d:"M0 46.4c0-17.2 8.6-29.1 24.6-29.1a19.93 19.93 0 0 1 6.6 1V0H45v59.2l1 10.3H34.2l-.9-5.2h-.5a15.21 15.21 0 0 1-13 6.8C3.8 71.1 0 58.4 0 46.4Zm31.2 7.4V28.6a13.7 13.7 0 0 0-6-1.3c-8.7 0-11.3 8.7-11.3 17.8 0 8.5 1.9 15.8 8.9 15.8 5.1 0 8.4-3.8 8.4-7.1ZM54.7 63.7a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4Z"})),c.logoBlack=(0,t.createElement)("svg",{className:"ditty-logo ditty-logo--black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 258.8 99.21"},(0,t.createElement)("path",{d:"M0 49.5c0-17.2 8.6-29.1 24.6-29.1a19.93 19.93 0 0 1 6.6 1V3.1H45v59.2l1 10.3H34.2l-.9-5.2h-.5a15.21 15.21 0 0 1-13 6.8C3.8 74.2 0 61.5 0 49.5Zm31.2 7.4V31.7a13.7 13.7 0 0 0-6-1.3c-8.7 0-11.3 8.7-11.3 17.8 0 8.5 1.9 15.8 8.9 15.8 5.1 0 8.4-3.8 8.4-7.1ZM55.7 7.4A7.33 7.33 0 0 1 63.4 0c4.6 0 7.8 3.3 7.8 7.4s-3.2 7.4-7.8 7.4-7.7-3.1-7.7-7.4Zm14.8 14.5v50.7H56.4V21.9ZM95.8 3.1v18.8H112V3.1h14.1v18.8h13v10.9h-13v23.1c0 5.9 2.6 7.6 6.4 7.6a11.9 11.9 0 0 0 6.1-1.9l3.2 9c-3 2-8.2 3.5-13.3 3.5-15.2 0-16.5-8.7-16.5-17.8V32.8H95.8v23.1c0 5.9 2 7.6 5.7 7.6a11.64 11.64 0 0 0 5.7-1.6l2.1 9.4c-2.6 1.7-7.4 2.8-11.1 2.8-15.1 0-16.4-8.7-16.4-17.8V3.1ZM149.6 85.81c0-7.21 4.4-12.81 10.3-17.11-8.4-1.3-13-5.9-13-16V21.9h14v29.7c0 5.4.5 9.1 7 9.1 4 0 7.7-3.2 7.7-8.3V21.9h14v42.3a108.13 108.13 0 0 1-.9 13.9c-1.5 13.5-8.9 21.11-22.4 21.11-11.1 0-16.7-5.21-16.7-13.4Zm26.3-9.11v-9.5c-7.4 3.5-14 8.5-14 16.11 0 3.9 2.2 5.79 6 5.79 5.9 0 8-4.7 8-12.4ZM198.7 66.8a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4ZM221.2 66.8a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4ZM243.7 66.8a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4Z"})),c.logoWhite=(0,t.createElement)("svg",{className:"ditty-logo ditty-logo--white",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 258.8 99.21"},(0,t.createElement)("path",{d:"M0 49.5c0-17.2 8.6-29.1 24.6-29.1a19.93 19.93 0 0 1 6.6 1V3.1H45v59.2l1 10.3H34.2l-.9-5.2h-.5a15.21 15.21 0 0 1-13 6.8C3.8 74.2 0 61.5 0 49.5Zm31.2 7.4V31.7a13.7 13.7 0 0 0-6-1.3c-8.7 0-11.3 8.7-11.3 17.8 0 8.5 1.9 15.8 8.9 15.8 5.1 0 8.4-3.8 8.4-7.1ZM55.7 7.4A7.33 7.33 0 0 1 63.4 0c4.6 0 7.8 3.3 7.8 7.4s-3.2 7.4-7.8 7.4-7.7-3.1-7.7-7.4Zm14.8 14.5v50.7H56.4V21.9ZM95.8 3.1v18.8H112V3.1h14.1v18.8h13v10.9h-13v23.1c0 5.9 2.6 7.6 6.4 7.6a11.9 11.9 0 0 0 6.1-1.9l3.2 9c-3 2-8.2 3.5-13.3 3.5-15.2 0-16.5-8.7-16.5-17.8V32.8H95.8v23.1c0 5.9 2 7.6 5.7 7.6a11.64 11.64 0 0 0 5.7-1.6l2.1 9.4c-2.6 1.7-7.4 2.8-11.1 2.8-15.1 0-16.4-8.7-16.4-17.8V3.1ZM149.6 85.81c0-7.21 4.4-12.81 10.3-17.11-8.4-1.3-13-5.9-13-16V21.9h14v29.7c0 5.4.5 9.1 7 9.1 4 0 7.7-3.2 7.7-8.3V21.9h14v42.3a108.13 108.13 0 0 1-.9 13.9c-1.5 13.5-8.9 21.11-22.4 21.11-11.1 0-16.7-5.21-16.7-13.4Zm26.3-9.11v-9.5c-7.4 3.5-14 8.5-14 16.11 0 3.9 2.2 5.79 6 5.79 5.9 0 8-4.7 8-12.4ZM198.7 66.8a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4ZM221.2 66.8a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4ZM243.7 66.8a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4Z"})),c.logoGreen=(0,t.createElement)("svg",{className:"ditty-logo ditty-logo--green",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 258.8 99.21"},(0,t.createElement)("path",{d:"M0 49.5c0-17.2 8.6-29.1 24.6-29.1a19.93 19.93 0 0 1 6.6 1V3.1H45v59.2l1 10.3H34.2l-.9-5.2h-.5a15.21 15.21 0 0 1-13 6.8C3.8 74.2 0 61.5 0 49.5Zm31.2 7.4V31.7a13.7 13.7 0 0 0-6-1.3c-8.7 0-11.3 8.7-11.3 17.8 0 8.5 1.9 15.8 8.9 15.8 5.1 0 8.4-3.8 8.4-7.1ZM55.7 7.4A7.33 7.33 0 0 1 63.4 0c4.6 0 7.8 3.3 7.8 7.4s-3.2 7.4-7.8 7.4-7.7-3.1-7.7-7.4Zm14.8 14.5v50.7H56.4V21.9ZM95.8 3.1v18.8H112V3.1h14.1v18.8h13v10.9h-13v23.1c0 5.9 2.6 7.6 6.4 7.6a11.9 11.9 0 0 0 6.1-1.9l3.2 9c-3 2-8.2 3.5-13.3 3.5-15.2 0-16.5-8.7-16.5-17.8V32.8H95.8v23.1c0 5.9 2 7.6 5.7 7.6a11.64 11.64 0 0 0 5.7-1.6l2.1 9.4c-2.6 1.7-7.4 2.8-11.1 2.8-15.1 0-16.4-8.7-16.4-17.8V3.1ZM149.6 85.81c0-7.21 4.4-12.81 10.3-17.11-8.4-1.3-13-5.9-13-16V21.9h14v29.7c0 5.4.5 9.1 7 9.1 4 0 7.7-3.2 7.7-8.3V21.9h14v42.3a108.13 108.13 0 0 1-.9 13.9c-1.5 13.5-8.9 21.11-22.4 21.11-11.1 0-16.7-5.21-16.7-13.4Zm26.3-9.11v-9.5c-7.4 3.5-14 8.5-14 16.11 0 3.9 2.2 5.79 6 5.79 5.9 0 8-4.7 8-12.4ZM198.7 66.8a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4ZM221.2 66.8a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4ZM243.7 66.8a7 7 0 0 1 7.4-7.2c5 0 7.7 2.8 7.7 7.1s-2.6 7.5-7.4 7.5c-5.1 0-7.7-3.1-7.7-7.4Z"}));const s=c,i=window.wp.i18n,n=window.wp.components,o=({controlType:e="token",postType:l,label:c=(0,i.__)("Select Posts","madden-theme"),help:s,placeholder:o,value:r,onChange:d,valueKey:y="id"})=>{const{posts:p}=(0,a.useSelect)((e=>{const{getEntityRecords:t}=e("core");return{posts:t("postType",l,{per_page:-1,orderby:"title",order:"asc"})}})),m=p?p.map((e=>({value:e[y],label:e.title.rendered}))):[];return o&&m.unshift({value:"",label:o}),(0,t.createElement)(t.Fragment,null,!p&&(0,t.createElement)(n.Spinner,null),!!p&&"token"===e&&(0,t.createElement)(n.FormTokenField,{label:c,value:r?r.map((e=>e.title.replace("&amp;","&"))):[],suggestions:p?p.map((e=>e.title.rendered.replace("&amp;","&"))):[],onChange:e=>(e=>{const t=e.reduce(((e,t)=>{let l=p.find((e=>e.title.rendered.replace("&amp;","&")==t.replace("&amp;","&")));return l&&e.push({id:l.id,slug:l.slug,title:l.title.rendered}),e}),[]);d(t)})(e)}),!!p&&"select"===e&&(0,t.createElement)(n.SelectControl,{label:c,help:s,options:m,value:r,onChange:e=>{(e=>{if(e&&""!==e){let t=p.find((t=>String(t[y])===String(e))),l=Array.isArray(r)?[...r]:[];l.push({id:t.id,slug:t.slug,title:t.title.rendered}),d(l)}else d(!1);document.activeElement.blur()})(e)}}))},{__}=wp.i18n,{PanelBody:r,TextControl:d}=wp.components,y=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"metaphorcreations/ditty","version":"1.0.0","title":"Ditty","description":"Display your Ditty within the content of the post.","category":"widgets","icon":"smiley","keywords":["ticker","list","slider","display","content"],"textdomain":"ditty","attributes":{"ditty":{"type":"integer"},"display":{"type":"integer"},"layout":{"type":"integer"},"customID":{"type":"string"},"customClasses":{"type":"string"}},"supports":{"html":false},"editorScript":"file:./index.js","editorStyle":"file:./index.css","render":"file:./render.php"}');(0,e.registerBlockType)(y,{icon:{src:s.iconBlack},transforms:{from:[{type:"block",blocks:["core/legacy-widget"],isMatch:({idBase:e,instance:t})=>!!t?.raw&&"ditty-widget"===e,transform:({instance:t})=>{const l=[(0,e.createBlock)("metaphorcreations/ditty",{ditty:t.raw.ditty,display:t.raw.display})];return t.raw.title&&l.unshift((0,e.createBlock)("core/heading",{content:t.raw.title})),l}}]},edit:function({isSelected:e,setAttributes:c,attributes:i}){const{ditty:n,display:y,layout:p,customID:m,customClasses:u}=i,w=(0,a.useSelect)((e=>e("core").getEntityRecord("postType","ditty",n))),h=(0,a.useSelect)((e=>e("core").getEntityRecord("postType","ditty_display",y))),v=(0,a.useSelect)((e=>e("core").getEntityRecord("postType","ditty_layout",p))),g="wp-block-metaphorcreations-ditty";return(0,t.createElement)("div",{...(0,l.useBlockProps)()},(0,t.createElement)(l.InspectorControls,{key:"dittySelectTicker"},(0,t.createElement)(r,null,(0,t.createElement)(o,{controlType:"select",postType:"ditty",label:__("Ditty","ditty-news-ticker"),placeholder:__("Select a Ditty","ditty-news-ticker"),value:n,onChange:e=>{c({ditty:Number(e[0].id)})}}),(0,t.createElement)(o,{controlType:"select",postType:"ditty_display",label:__("Display (Optional)","ditty-news-ticker"),placeholder:__("Select a Display","ditty-news-ticker"),value:y,onChange:e=>{c({display:e&&Number(e[0].id)})}}),(0,t.createElement)(o,{controlType:"select",postType:"ditty_layout",label:__("Layout (Optional)","ditty-news-ticker"),help:__("All items will use this layout","ditty-news-ticker"),placeholder:__("Select a Layout","ditty-news-ticker"),value:p,onChange:e=>{console.log("selected",e),c({layout:e&&Number(e[0].id)})}}),(0,t.createElement)(d,{label:__("Custom ID","ditty-news-ticker"),value:m,onChange:e=>c({customID:e})}),(0,t.createElement)(d,{label:__("Custom Classes","ditty-news-ticker"),value:u,onChange:e=>c({customClasses:e})}))),(0,t.createElement)("div",{className:`${g}__contents`},s.logoBlack,!e&&(0,t.createElement)("div",{className:`${g}__info`},(0,t.createElement)("div",{className:`${g}__vals`},__("ID:","ditty-news-ticker")," ",(0,t.createElement)("strong",null,w&&w.title.rendered)),(0,t.createElement)("div",{className:`${g}__vals`},__("Display:","ditty-news-ticker")," ",(0,t.createElement)("strong",null,h&&h.title.rendered)),(0,t.createElement)("div",{className:`${g}__vals`},__("Layout:","ditty-news-ticker")," ",(0,t.createElement)("strong",null,v&&v.title.rendered))),e&&(0,t.createElement)("div",{className:`${g}__controls`},(0,t.createElement)(o,{controlType:"select",postType:"ditty",label:__("Ditty","ditty-news-ticker"),placeholder:__("Select a Ditty","ditty-news-ticker"),value:n,onChange:e=>{c({ditty:e&&Number(e[0].id)})}}),(0,t.createElement)(o,{controlType:"select",postType:"ditty_display",label:__("Display (Optional)","ditty-news-ticker"),placeholder:__("Select a Display","ditty-news-ticker"),value:y,onChange:e=>{c({display:e&&Number(e[0].id)})}}),(0,t.createElement)(o,{controlType:"select",postType:"ditty_layout",label:__("Layout (Optional)","ditty-news-ticker"),help:__("All items will use this layout","ditty-news-ticker"),placeholder:__("Select a Layout","ditty-news-ticker"),value:p,onChange:e=>{c({layout:e&&Number(e[0].id)})}}))))},save:function(){return null}})})();