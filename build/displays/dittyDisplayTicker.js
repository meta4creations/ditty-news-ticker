(()=>{"use strict";class t{constructor(t){this.config={element:null,id:0,cloneItems:"no",display:0,heightEase:"easeInOutQuint",heightSpeed:1.5,maxWidth:"",bgColor:"",padding:{},margin:{},borderColor:{},borderStyle:{},borderWidth:{},borderRadius:{},contentsBgColor:"",contentsPadding:{},contentsBorderColor:{},contentsBorderStyle:{},contentsBorderWidth:{},contentsBorderRadius:{},titleDisplay:"none",titleElement:"h3",titleElementPosition:"topLeft",titleFontSize:"",titleLineHeight:"",titleColor:"",titleBgColor:"",titleMargin:{},titlePadding:{},titleBorderColor:{},titleBorderStyle:{},titleBorderWidth:{},titleBorderRadius:{},itemTextColor:"",itemBgColor:"",itemBorderColor:{},itemBorderStyle:{},itemBorderWidth:{},itemBorderRadius:{},itemPadding:{},item:0,items:[],shuffle:0,showEditor:0,type:"",wrapItems:"no",...t},this.$ditty=this.config.element,this.$ditty.classList.remove("ditty--pre"),this.$ditty.classList.add(`ditty-${this.config.type}`),this.$title=this.$ditty.getElementsByClassName("ditty__title")[0],this.$titleContents=this.$ditty.getElementsByClassName("ditty__title__contents")[0],this.$titleElement=this.$ditty.getElementsByClassName("ditty__title__element")[0],this.$contents=this.$ditty.getElementsByClassName("ditty__contents")[0],this.$items=this.$contents.getElementsByClassName("ditty__items")[0],this.currentHeight=0,this.firstItemIndex=this.config.item,this.nextItem=null,this.item=this.config.item,this.items=this.$contents.getElementsByClassName("ditty-item"),this.total=this.items.length,this.activeItems=[],this.visibleItems=[],this.init=!1,this.itemsInit=!1,this.paused=!1}dittyInit(){this.init=!0,this.$ditty.classList.add("ditty--init")}dittyItemsInit(){this.itemsInit=!0,this.$ditty.classList.add("ditty--init")}getNextItemIndex(t){let i=parseInt(t)+1;return i>=parseInt(this.total)&&(i=0),i}addVisibleItem(t){this.visibleItems.push(t),this.setActiveItems()}removeVisibleItem(t){const i=this.visibleItems.filter((i=>i!==t));this.visibleItems=i,this.setActiveItems()}setActiveItems(){this.activeItems=[],this.visibleItems.forEach((t=>{const i=t.dataset.item_id;this.activeItems[i]=i})),window.dittyHooks.doAction("dittyActiveItemsUpdate",this.$ditty,this.activeItems)}itemEnabled(t){return void 0!==this.items[parseInt(t)]&&(void 0===this.items[parseInt(t)].dataset.isDisabled||!this.items[parseInt(t)].dataset.isDisabled)}setOption(t,i){if(void 0===i)return!1;switch(t){case"titleElement":this.config[t]=i,function(t,i,e){const s=t.getElementsByClassName("ditty__title__contents")[0],o=t.getElementsByClassName("ditty__title__element")[0],r=document.createElement(i.titleElement);r.classList.add("ditty__title__element"),r.innerHTML=o.innerHTML,o.remove(),s.append(r)}(this.$ditty,this.config,this.config.type);break;case"titleDisplay":case"titleElementPosition":case"titleFontSize":case"titleLineHeight":case"titleColor":case"titleBgColor":case"titleMargin":case"titlePadding":case"titleBorderColor":case"titleBorderStyle":case"titleBorderWidth":case"titleBorderRadius":case"minHeight":case"maxHeight":case"bgColor":case"padding":case"borderColor":case"borderStyle":case"borderWidth":case"borderRadius":case"contentsBgColor":case"contentsPadding":case"contentsBorderRadius":this.config[t]=i,function(t,i,e){const s=document.getElementById(`ditty-display--${i}`);console.log("display",i),console.log("type",e);let o="";o+=function(t,i,e){let s="";return s+=`.ditty[data-display="${i}"] .ditty__title {`,s+=""!=t.titleBgColor?`background-color:${t.titleBgColor};`:"",s+=""!=t.titleMargin.marginTop?`margin-top:${t.titleMargin.marginTop};`:"",s+=""!=t.titleMargin.marginRight?`margin-right:${t.titleMargin.marginRight};`:"",s+=""!=t.titleMargin.marginBottom?`margin-bottom:${t.titleMargin.marginBottom};`:"",s+=""!=t.titleMargin.marginLeft?`margin-left:${t.titleMargin.marginLeft};`:"",s+=""!=t.titlePadding.paddingTop?`padding-top:${t.titlePadding.paddingTop};`:"",s+=""!=t.titlePadding.paddingRight?`padding-right:${t.titlePadding.paddingRight};`:"",s+=""!=t.titlePadding.paddingBottom?`padding-bottom:${t.titlePadding.paddingBottom};`:"",s+=""!=t.titlePadding.paddingLeft?`padding-left:${t.titlePadding.paddingLeft};`:"","none"!=t.titleBorderStyle&&(s+=`border-style:${t.titleBorderStyle};`,s+=""!=t.titleBorderColor?`border-color:${t.titleBorderColor};`:"",s+=""!=t.titleBorderWidth.borderTopWidth?`border-top-width:${t.titleBorderWidth.borderTopWidth};`:"",s+=""!=t.titleBorderWidth.borderRightWidth?`border-right-width:${t.titleBorderWidth.borderRightWidth};`:"",s+=""!=t.titleBorderWidth.borderBottomWidth?`border-bottom-width:${t.titleBorderWidth.borderBottomWidth};`:"",s+=""!=t.titleBorderWidth.borderLeftWidth?`border-left-width:${t.titleBorderWidth.borderLeftWidth};`:""),s+=""!=t.titleBorderRadius.borderTopLeftRadius?`border-top-left-radius:${t.titleBorderRadius.borderTopLeftRadius};`:"",s+=""!=t.titleBorderRadius.borderTopRightRadius?`border-top-right-radius:${t.titleBorderRadius.borderTopRightRadius};`:"",s+=""!=t.titleBorderRadius.borderBottomLeftRadius?`border-bottom-left-radius:${t.titleBorderRadius.borderBottomLeftRadius};`:"",s+=""!=t.titleBorderRadius.borderBottomRightRadius?`border-bottom-right-radius:${t.titleBorderRadius.borderBottomRightRadius};`:"",s+="}",s+=`.ditty[data-display="${i}"] .ditty__title__element {`,s+=""!=t.titleColor?`color:${t.titleColor};`:"",s+=""!=t.titleFontSize?`font-size:${t.titleFontSize};`:"",s+=""!=t.titleLineHeight?`line-height:${t.titleLineHeight};`:"",s+="}",window.dittyHooks.applyFilters("dittyDisplayTitleStyles",s,t,i,e)}(t,i,e),o+=function(t,i,e){let s="";return s+=`.ditty[data-display="${i}"] {`,s+=""!=t.maxWidth?`max-width:${t.maxWidth};`:"",s+=""!=t.bgColor?`background-color:${t.bgColor};`:"",s+=""!=t.padding.paddingTop?`padding-top:${t.padding.paddingTop};`:"",s+=""!=t.padding.paddingRight?`padding-right:${t.padding.paddingRight};`:"",s+=""!=t.padding.paddingBottom?`padding-bottom:${t.padding.paddingBottom};`:"",s+=""!=t.padding.paddingLeft?`padding-left:${t.padding.paddingLeft};`:"",s+=""!=t.margin.marginTop?`margin-top:${t.margin.marginTop};`:"",s+=""!=t.margin.marginRight?`margin-right:${t.margin.marginRight};`:"",s+=""!=t.margin.marginBottom?`margin-bottom:${t.margin.marginBottom};`:"",s+=""!=t.margin.marginLeft?`margin-left:${t.margin.marginLeft};`:"","none"!=t.borderStyle&&(s+=`border-style:${t.borderStyle};`,s+=""!=t.borderColor?`border-color:${t.borderColor};`:"",s+=""!=t.borderWidth.borderTopWidth?`border-top-width:${t.borderWidth.borderTopWidth};`:"",s+=""!=t.borderWidth.borderRightWidth?`border-right-width:${t.borderWidth.borderRightWidth};`:"",s+=""!=t.borderWidth.borderBottomWidth?`border-bottom-width:${t.borderWidth.borderBottomWidth};`:"",s+=""!=t.borderWidth.borderLeftWidth?`border-left-width:${t.borderWidth.borderLeftWidth};`:""),s+=""!=t.borderRadius.borderTopLeftRadius?`border-top-left-radius:${t.borderRadius.borderTopLeftRadius};`:"",s+=""!=t.borderRadius.borderTopRightRadius?`border-top-right-radius:${t.borderRadius.borderTopRightRadius};`:"",s+=""!=t.borderRadius.borderBottomLeftRadius?`border-bottom-left-radius:${t.borderRadius.borderBottomLeftRadius};`:"",s+=""!=t.borderRadius.borderBottomRightRadius?`border-bottom-right-radius:${t.borderRadius.borderBottomRightRadius};`:"",s+="}",window.dittyHooks.applyFilters("dittyDisplayContainerStyles",s,t,i,e)}(t,i,e),o+=function(t,i,e){let s="";return s+=`.ditty[data-display="${i}"] .ditty__contents {`,s+=""!=t.contentsBgColor?`background-color:${t.contentsBgColor};`:"",s+=""!=t.contentsPadding.paddingTop?`padding-top:${t.contentsPadding.paddingTop};`:"",s+=""!=t.contentsPadding.paddingRight?`padding-right:${t.contentsPadding.paddingRight};`:"",s+=""!=t.contentsPadding.paddingBottom?`padding-bottom:${t.contentsPadding.paddingBottom};`:"",s+=""!=t.contentsPadding.paddingLeft?`padding-left:${t.contentsPadding.paddingLeft};`:"","none"!=t.contentsBorderStyle&&(s+=`border-style:${t.contentsBorderStyle};`,s+=""!=t.contentsBorderColor?`border-color:${t.contentsBorderColor};`:"",s+=""!=t.contentsBorderWidth.borderTopWidth?`border-top-width:${t.contentsBorderWidth.borderTopWidth};`:"",s+=""!=t.contentsBorderWidth.borderRightWidth?`border-right-width:${t.contentsBorderWidth.borderRightWidth};`:"",s+=""!=t.contentsBorderWidth.borderBottomWidth?`border-bottom-width:${t.contentsBorderWidth.borderBottomWidth};`:"",s+=""!=t.contentsBorderWidth.borderLeftWidth?`border-left-width:${t.contentsBorderWidth.borderLeftWidth};`:""),s+=""!=t.contentsBorderRadius.borderTopLeftRadius?`border-top-left-radius:${t.contentsBorderRadius.borderTopLeftRadius};`:"",s+=""!=t.contentsBorderRadius.borderTopRightRadius?`border-top-right-radius:${t.contentsBorderRadius.borderTopRightRadius};`:"",s+=""!=t.contentsBorderRadius.borderBottomLeftRadius?`border-bottom-left-radius:${t.contentsBorderRadius.borderBottomLeftRadius};`:"",s+=""!=t.contentsBorderRadius.borderBottomRightRadius?`border-bottom-right-radius:${t.contentsBorderRadius.borderBottomRightRadius};`:"",s+="}",window.dittyHooks.applyFilters("dittyDisplayContentStyles",s,t,i,e)}(t,i,e),o+=function(t,i,e){let s="";return s+=`.ditty[data-display="${i}"] .ditty-item__elements {`,s+=""!=t.itemTextColor?`color:${t.itemTextColor};`:"",s+=""!=t.itemBgColor?`background-color:${t.itemBgColor};`:"",s+=""!=t.itemPadding.paddingTop?`padding-top:${t.itemPadding.paddingTop};`:"",s+=""!=t.itemPadding.paddingRight?`padding-right:${t.itemPadding.paddingRight};`:"",s+=""!=t.itemPadding.paddingBottom?`padding-bottom:${t.itemPadding.paddingBottom};`:"",s+=""!=t.itemPadding.paddingLeft?`padding-left:${t.itemPadding.paddingLeft};`:"","none"!=t.itemBorderStyle&&(s+=`border-style:${t.itemBorderStyle};`,s+=""!=t.itemBorderColor?`border-color:${t.itemBorderColor};`:"",s+=""!=t.itemBorderWidth.borderTopWidth?`border-top-width:${t.itemBorderWidth.borderTopWidth};`:"",s+=""!=t.itemBorderWidth.borderRightWidth?`border-right-width:${t.itemBorderWidth.borderRightWidth};`:"",s+=""!=t.itemBorderWidth.borderBottomWidth?`border-bottom-width:${t.itemBorderWidth.borderBottomWidth};`:"",s+=""!=t.itemBorderWidth.borderLeftWidth?`border-left-width:${t.itemBorderWidth.borderLeftWidth};`:""),s+=""!=t.itemBorderRadius.borderTopLeftRadius?`border-top-left-radius:${t.itemBorderRadius.borderTopLeftRadius};`:"",s+=""!=t.itemBorderRadius.borderTopRightRadius?`border-top-right-radius:${t.itemBorderRadius.borderTopRightRadius};`:"",s+=""!=t.itemBorderRadius.borderBottomLeftRadius?`border-bottom-left-radius:${t.itemBorderRadius.borderBottomLeftRadius};`:"",s+=""!=t.itemBorderRadius.borderBottomRightRadius?`border-bottom-right-radius:${t.itemBorderRadius.borderBottomRightRadius};`:"",s+=""!=t.itemMaxWidth?`max-width:${t.itemMaxWidth};`:"",s+="nowrap"==t.itemElementsWrap?"white-space:nowrap;":"white-space:normal;",s+="}",window.dittyHooks.applyFilters("dittyDisplayItemStyles",s,t,i,e)}(t,i,e),s.innerHTML=window.dittyHooks.applyFilters("dittyDisplayStyles",o,t,i,e)}(this.config,this.config.display,this.config.type);break;default:this.config[t]=i}}getOption(t){switch(t){case"ditty":return this;case"type":return this.config.type;case"display":return this.config.display;case"items":return this.items;default:return this.config[t]}}options(t,i){if("object"==typeof t)for(const i in t)this.setOption(i,t[i]);else{if("string"!=typeof t)return this.config;if(void 0===i)return this.getOption(t);this.setOption(t,i)}}destroy(){console.log("destroy")}}window.dittyDisplays.ticker=class extends t{constructor(t){super({direction:"left",hoverPause:0,itemElementsWrap:"wrap",itemMaxWidth:"",minHeight:null,maxHeight:null,scrollDelay:2,scrollInit:"empty",spacing:20,speed:10,...t}),this.$ditty.classList.add(`ditty-ticker--${this.config.scrollInit}`),this.$firstItem=null,this.$lastItem=null,this.scrollPercent=.13,this.loop=null,this.xPosition=0,this.yPosition=0,this.heightInit=!1,this.initialize(),this.$ditty.addEventListener("mouseenter",(()=>this.mouseEnter(this))),this.$ditty.addEventListener("mouseleave",(()=>this.mouseLeave(this))),window.dittyHooks.addFilter("dittyDisplayStyles","ditty",this.updateDisplayStyles)}initialize(){if("filled"===this.config.scrollInit)this.fillTicker();else{for(let t=0;t<this.items.length;t++)this.resetItem(this.items[t]);this.running||(this.dittyInit(),this.dittyItemsInit(),this.startTicker())}}fillTicker(){const t=this.$items.offsetWidth,i=this.$items.offsetHeight;let e=this.firstItemIndex,s=0,o=0,r=!1;for("right"===this.config.direction?s=t:"down"===this.config.direction&&(o=i);!1===r;){const d=this.initializeFilledItem(e,s,o,t,i);e=d.index,s=d.posX,o=d.posY,r=d.filled}this.dittyInit();let d=0;const a=setInterval((()=>{this.visibleItems[d].classList.add("ditty-item--active"),d++,d>=this.visibleItems.length&&clearInterval(a)}),100);setTimeout((()=>{this.dittyItemsInit(),this.paused||this.startTicker()}),1e3*parseFloat(this.config.scrollDelay))}startTicker(){cancelAnimationFrame(this.loop),this.loop=requestAnimationFrame((()=>this.animateTicker()))}stopTicker(){cancelAnimationFrame(this.loop)}animateTicker(){this.positionItems(),this.loop=requestAnimationFrame((()=>this.animateTicker()))}positionItems(){if(0===this.visibleItems.length&&this.initializeItem(this.firstItemIndex),this.visibleItems.forEach(((t,i)=>{this.positionItem(t),0===i&&this.itemShouldTerminate(t)&&this.terminateItem(t)})),this.newItemShouldStart()){const t=this.getNextItemIndex(this.item);this.initializeItem(t)}}positionItem(t){let i=0,e=0;const s=parseFloat(this.config.speed)*this.scrollPercent;switch(this.config.direction){case"left":i=parseFloat(t.dataset.posX)-s;break;case"right":i=parseFloat(t.dataset.posX)+s;break;case"up":e=parseFloat(t.dataset.posY)-s;break;case"down":e=parseFloat(t.dataset.posY)+s}t.style.transform=`translate(${Number(i)}px, ${Number(e)}px)`,t.dataset.posX=i,t.dataset.posY=e}resetItem(t){let i=0,e=0;switch(this.config.direction){case"left":i=this.$items.offsetWidth;break;case"right":i=`-${t.offsetWidth}px`;break;case"up":e=this.$items.offsetHeight;break;case"down":e=`-${t.offsetHeight}`}t.style.display="block",t.style.transform=`translate(${Number(i)}px, ${Number(e)}px)`,t.dataset.posX=i,t.dataset.posY=e,t.classList.remove("ditty-item--active"),t.classList.remove("ditty-item--first"),t.classList.remove("ditty-item--last")}maybeCloneItem(t){if(void 0===this.items[t])return!1;let i=this.items[t];const e=this.visibleItems.filter((t=>t===i));return("yes"===this.config.cloneItems||!e.length)&&("yes"===this.config.cloneItems||"yes"===this.config.wrapItems||parseInt(this.firstItemIndex)!==parseInt(t)||0===this.visibleItems.length)&&(e.length&&(i=e[0].cloneNode(!0),i.classList.add("ditty-item--clone"),this.$items.appendChild(i)),i)}setItemClasses(){const t=this.$items.offsetWidth,i=this.$items.offsetHeight;let e=null,s=null,o=0,r=0;switch(this.config.direction){case"left":o=t,r=0;break;case"right":o=0,r=t;break;case"up":o=i,r=0;break;case"down":o=0,r=i}for(const t of this.visibleItems){const i="left"===this.config.direction||"right"===this.config.direction?Number(t.dataset.posX):Number(t.dataset.posY);switch(this.config.direction){case"left":case"up":i<=o&&(o=i,e=t),i>=r&&(r=i,s=t);break;case"right":case"down":i>=o&&(o=i,e=t),i<=r&&(r=i,s=t)}}this.visibleItems.forEach((t=>{e===t?t.classList.add("ditty-item--first"):t.classList.remove("ditty-item--first"),s===t?t.classList.add("ditty-item--last"):t.classList.remove("ditty-item--last")})),this.$firstItem=e,this.$lastItem=s}initializeItem(t){const i=this.maybeCloneItem(t);return!!i&&(this.resetItem(i),i.classList.add("ditty-item--active"),this.item=t,this.addVisibleItem(i),this.setItemClasses(),this.setCurrentHeight(),i)}initializeFilledItem(t,i,e,s,o){const r=this.maybeCloneItem(t);if(!r)return{filled:!0};let d=this.getNextItemIndex(t),a=!1,n=!1,h=!1;r.style.display="block","up"!==this.config.direction&&"down"!==this.config.direction||(r.style.position="absolute",r.style.top=0,r.style.left=0);const l=r.offsetWidth,m=r.offsetHeight;switch(this.config.direction){case"left":a=i+l+parseInt(this.config.spacing),a>s&&(h=!0);break;case"right":a=(i-=l)-parseInt(this.config.spacing),a<0&&(h=!0);break;case"up":n=e+m+parseInt(this.config.spacing),n>o&&(h=!0);break;case"down":n=(e-=m)-parseInt(this.config.spacing),n<0&&(h=!0)}return r.style.transform=`translate(${Number(i)}px, ${Number(e)}px)`,r.dataset.posX=i,r.dataset.posY=e,this.item=t,this.addVisibleItem(r),this.setCurrentHeight(),{index:d,posX:a,posY:n,filled:h}}newItemShouldStart(){if(0===this.visibleItems.length)return!1;const t=this.visibleItems.at(-1);let i=!1;switch(this.config.direction){case"left":parseFloat(t.dataset.posX)<=this.$items.offsetWidth-t.offsetWidth-this.config.spacing&&(i=!0);break;case"right":parseFloat(t.dataset.posX)>=this.config.spacing&&(i=!0);break;case"down":parseFloat(t.dataset.posY)>=this.config.spacing&&(i=!0);break;case"up":parseFloat(t.dataset.posY)<=this.$items.offsetHeight-t.offsetHeight-this.config.spacing&&(i=!0)}return i}itemShouldTerminate(t){let i=!1;switch(this.config.direction){case"left":parseFloat(t.dataset.posX)<-t.offsetWidth&&(i=!0);break;case"right":parseFloat(t.dataset.posX)>this.$items.offsetWidth&&(i=!0);break;case"up":parseFloat(t.dataset.posY)<-t.offsetHeight&&(i=!0);break;case"down":parseFloat(t.dataset.posY)>this.$items.offsetHeight&&(i=!0)}return i}terminateItem(t){this.removeVisibleItem(t),t.classList.contains("ditty-item--clone")?t.remove():this.resetItem(t),this.setItemClasses(),this.setCurrentHeight()}setCurrentHeight(){let t=this.currentHeight;!this.heightInit&&this.$firstItem&&(t=this.currentHeight=this.$firstItem.offsetHeight,this.$items.style.height=t+"px",this.heightInit=!0),"up"===this.config.direction||"down"===this.config.direction?(t=this.$items.offsetHeight,this.$items.style.height="100%"):(t=0,this.visibleItems.forEach((i=>{let e=i.offsetHeight;e>t&&(t=e)})),t!==this.currentHeight&&(this.currentHeight=t,jQuery(this.$items).stop().animate({height:t+"px"},1e3*Number(this.config.heightSpeed),this.config.heightEase)))}mouseEnter(t){t.config.hoverPause&&(this.paused=!0,t.stopTicker())}mouseLeave(t){t.config.hoverPause&&(this.paused=!1,this.itemsInit&&t.startTicker())}updateDisplayStyles(t,i,e,s){return"ticker"!==s||"up"!=i.direction&&"down"!=i.direction||(t+=`.ditty[data-display="${e}"] .ditty__items {`,t+=""!=i.minHeight?`min-height:${i.minHeight};`:"",t+=""!=i.maxHeight?`max-height:${i.maxHeight};`:"",t+="}"),t}destroy(){this.stopTicker()}}})();