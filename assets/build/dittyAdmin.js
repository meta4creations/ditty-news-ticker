!function(t){"use strict";var i={listType:"toggle",showAll:!0,activeFilter:"*",filter:".ditty-data-list__filter",filterSelector:"filter",item:".ditty-data-list__item",itemSelector:"filter"},e=function(e,s){this.elmt=e,this.settings=t.extend({},i,t.ditty_ui_data_list.defaults,s),this.$elmt=t(e),this.filters=[],this._init()};e.prototype={_init:function(){var i=this;this.$elmt.on("click",this.settings.filter,{self:this},this._filterClick),this.$elmt.find(this.settings.filter+".active").each(function(){i._filterList(t(this).data(i.settings.filterSelector))}),"*"!==this.settings.activeFilter&&this._filterList(this.settings.activeFilter),setTimeout(function(){i.trigger("init")},1)},_filterList:function(i){var e=this,s=this.filters;if("toggle"===this.settings.listType)this.filters.includes(i)?this.settings.showAll&&(this.filters=[],this.$elmt.find(this.settings.filter).removeClass("active"),this.$elmt.find(this.settings.item).show()):(this.filters=[i],this.$elmt.find(this.settings.filter).removeClass("active"),this.$elmt.find(this.settings.filter+"[data-"+this.settings.filterSelector+'="'+i+'"]').addClass("active"),this.$elmt.find(this.settings.item).hide(),this.$elmt.find(this.settings.item+"[data-"+this.settings.itemSelector+'="'+i+'"]').show());else if("filter"===this.settings.listType){if(this.$elmt.find(this.settings.item).hide(),this.filters.includes(i)){this.$elmt.find(this.settings.filter+"[data-"+this.settings.filterSelector+'="'+i+'"]').removeClass("active");for(var n=0;n<this.filters.length;n++)e.filters[n]===i&&e.filters.splice(n,1)}else this.$elmt.find(this.settings.filter+"[data-"+this.settings.filterSelector+'="'+i+'"]').addClass("active"),this.filters.push(i);t.each(this.filters,function(t,i){e.$elmt.find(this.settings.item+"[data-"+this.settings.itemSelector+'="'+i+'"]').show()}),0===this.filters.length&&e.$elmt.find(this.settings.item).show()}s!==this.filters&&e.trigger("update")},_filterClick:function(i){i.preventDefault();var e=i.data.self,s=t(i.target);s.is("a")||(s=s.parents("a")),e._filterList(s.data(e.settings.filterSelector))},_options:function(t){return this.settings[t]},trigger:function(t,i){var e=[this.settings,this.filters];i&&(e=i),this.$elmt.trigger("ditty_ui_data_list_"+t,e),"function"==typeof this.settings[t]&&this.settings[t].apply(this.$elmt,e)},options:function(e,s){if("object"==typeof e)this.settings=t.extend({},i,t.ditty_ui_data_list.defaults,e);else{if("string"!=typeof e)return this.settings;if(void 0===s)return this.settings[e];this.settings[e]=s}this.trigger("options_update")},destroy:function(){this.$elmt.off("click",this.settings.filter,{self:this},this._filterClick),this.trigger("destroy"),this.elmt._ditty_ui_data_list=null}},t.fn.ditty_ui_data_list=function(t){var i,s=arguments,n=!1;if(void 0===t||"object"==typeof t)return this.each(function(){this._ditty_ui_data_list||(this._ditty_ui_data_list=new e(this,t))});if("string"==typeof t){if(this.each(function(){var e=this._ditty_ui_data_list;if(!e)throw new Error("No Ditty_UI_Data_List applied to this element.");"function"==typeof e[t]&&"_"!==t[0]?i=e[t].apply(e,[].slice.call(s,1)):n=!0}),n)throw new Error('No method "'+t+'" in Ditty_UI_Data_List.');return void 0!==i?i:this}},t.ditty_ui_data_list={},t.ditty_ui_data_list.defaults=i}(jQuery),function(t){"use strict";var i={},e=function(e,s){this.elmt=e,this.settings=t.extend({},i,t.ditty_extension.defaults,s),this.$elmt=t(e),this.$panels=t(e).find(".ditty-extension__panels"),this.initPanel=this.$panels.data("init_panel"),this._init()};e.prototype={_init:function(){this.$elmt.on("click",".ditty-extension__tab",{self:this},this._tabClick),this.$elmt.on("click",'button[name="submit"]',{self:this},this._updatePanel),this.$elmt.on("click",".ditty-extension__license__submit",{self:this,action:"ditty_extension_license_activate"},this._licenseUpdate),this.$elmt.on("click",".ditty-extension__license__refresh",{self:this,action:"ditty_extension_license_refresh"},this._licenseUpdate),this.$elmt.on("click",".ditty-extension__license__deactivate",{self:this,action:"ditty_extension_license_deactivate"},this._licenseUpdate),this.$panels.on("ditty_slider_before_slide_update",{self:this},this._beforePanelUpdate),this._initSlider()},_initSlider:function(){var t={transition:"fade",transitionSpeed:.75,heightSpeed:.75,touchSwipe:!1,slidesEl:".ditty-extension__panel",slideId:""!==this.initPanel&&this.initPanel};this.$panels.ditty_slider(t)},_beforePanelUpdate:function(t,i,e){var s=t.data.self;s.$elmt.find(".ditty-extension__tab").removeClass("active"),s.$elmt.find('.ditty-extension__tab[data-slide_id="'+e.id+'"]').addClass("active")},_tabClick:function(i){i.preventDefault();var e=i.data.self,s=t(this),n=s.data("slide_id"),a="slideLeft",l=e.$elmt.find(".ditty-extension__tab.active");if(l===s)return!1;s.index()<l.index()&&(a="slideRight"),e.$panels.ditty_slider("options","transition",a),e.$panels.ditty_slider("showSlideById",n)},_upateInputs:function(i){t.each(i,function(i,e){t('input[name="'+i+'"]').length&&t('input[name="'+i+'"]').val(e)})},_updatePanel:function(i){i.preventDefault();var e=i.data.self,s=t(this),n=s.parents(".ditty-extension__panel"),a=s.parents(".ditty-extension__form"),l=s.find("i"),o=l.attr("class"),d=e.$elmt.data("extension"),r=n.data("slide_id");if(e.$elmt.hasClass("updating"))return!1;e.$elmt.addClass("updating"),l.attr("class",dittyAdminVars.updateIcon),a.ajaxSubmit({url:dittyAdminVars.ajaxurl,type:"post",dataType:"json",data:{action:"ditty_extension_panel_update",extension:d,panel:r,security:dittyAdminVars.security},success:function(i){l.attr("class",o),e.$elmt.removeClass("updating"),i.input_updates&&e._upateInputs(i.input_updates),t("#ditty-extensions").trigger("ditty_extension_panel_updated",[i,e.$elmt,n])},error:function(t,i,s){console.error("AJAX error:",{status:i,error:s,responseText:t.responseText}),alert("An error occurred while saving. Please try again."),e.$elmt.removeClass("updating")}})},_licenseUpdate:function(i){i.preventDefault();var e=i.data.self,s=i.data.action,n=t(this),a=e.$elmt.find(".ditty-extension__license__message"),l=n.siblings(".ditty-extension__license__input"),o=l.val(),d=n.data("extension"),r=n.data("extension_id"),_=n.data("extension_name"),f=n.children("i");if(e.$elmt.hasClass("updating"))return!1;e.$elmt.addClass("updating"),f.attr("class",dittyAdminVars.updateIcon);var c={action:s,license:o,extension:d,extension_id:r,extension_name:_,security:dittyAdminVars.security};t.post(dittyAdminVars.ajaxurl,c,function(t){t&&(e.$elmt.attr("data-license_status",t.status),a.html(t.message)),t.license_key&&("DELETE"===t.license_key?l.val(""):l.val(t.license_key)),f.attr("class",f.data("class")),e.$elmt.removeClass("updating")},"json").fail(function(t,i,e){console.error("AJAX Error:",i,e,t.responseText)})},_getOption:function(t){return this.settings[t]},_setOption:function(t,i){if(void 0===i)return!1;this.settings[t]=i},options:function(i,e){var s=this;if("object"==typeof i)t.each(i,function(t,i){s._setOption(t,i)});else{if("string"!=typeof i)return s.settings;if(void 0===e)return s._getOption(i);s._setOption(i,e)}},destroy:function(){this.$elmt.off("click",".ditty-extension__tab",{self:this},this._tabClick),this.$elmt.off("click",'button[name="submit"]',{self:this},this._updatePanel),this.$elmt.off("click",".ditty-extension__license__submit, .ditty-extension__license__refresh",{self:this,action:"ditty_extension_license_activate"},this._licenseUpdate),this.$elmt.off("click",".ditty-extension__license__deactivate",{self:this,action:"ditty_extension_license_deactivate"},this._licenseUpdate),this.$panels.off("ditty_slider_after_slide_update",{self:this},this._afterPanelUpdate),this.$panels.ditty_slider("destroy"),this.elmt._ditty_extension=null}},t.fn.ditty_extension=function(t){var i,s=arguments,n=!1;if(void 0===t||"object"==typeof t)return this.each(function(){this._ditty_extension||(this._ditty_extension=new e(this,t))});if("string"==typeof t){if(this.each(function(){var e=this._ditty_extension;if(!e)throw new Error("No Ditty_Extension applied to this element.");"function"==typeof e[t]&&"_"!==t[0]?i=e[t].apply(e,[].slice.call(s,1)):n=!0}),n)throw new Error('No method "'+t+'" in Ditty_Extension.');return void 0!==i?i:this}},t.ditty_extension={},t.ditty_extension.defaults=i}(jQuery),jQuery(function(t){!function(){"use strict";t.protip({defaults:{position:"top",size:"small",scheme:"black",classes:"ditty-protip"}}),t("#ditty-extensions").find(".ditty-extension").each(function(i){var e=t(this);e.find(".ditty-extension__panels").length&&e.ditty_extension(),t("#ditty-extensions").trigger("ditty_init_fields"),setTimeout(function(){e.addClass("ditty-extension--init")},250*i)})}()}),(()=>{"use strict";jQuery(function(t){t("#poststuff").trigger("ditty_init_fields"),t("body").on("click",'.ditty-export-posts input[type="checkbox"]',function(i){var e=t(i.target),s=e.parents(".ditty-input--checkboxes__group"),n=t(".ditty-export-button"),a=s.find('input[type="checkbox"]'),l=e.is(":checked");"select_all"===e.attr("value")&&a.each(function(){t(this)[0]!==e[0]&&t(this).prop("checked",l)});var o=!1;a.each(function(){t(this).is(":checked")&&(o=!0)}),o?n.attr("disabled",!1):n.attr("disabled","disabled")})})})();