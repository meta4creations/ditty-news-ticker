(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,n=window.wp.blocks,i=window.wp.data,r=window.wp.blockEditor,o=window.wp.components,s=window.wp.serverSideRender;var a=e.n(s);const l=window.wp.primitives,c=window.wp.i18n,d=window.wp.element,u=(e="ticker")=>{const n={ticker:(0,t.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},(0,t.createElement)(o.Path,{d:"M4 20h28v8H4v-8zm32 4l8-6v12l-8-6z"})),slider:(0,t.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},(0,t.createElement)(o.Path,{d:"M10 12h28v24H10V12zM2 18h6v12H2V18zm38 0h6v12h-6V18z"}))};return n?.[e]},h=function({name:e,onSelect:s}){const a=(0,i.useSelect)(t=>t(n.store).getBlockVariations(e,"block"),[e]),l=(0,r.useBlockProps)({className:"wp-block-metaphorcreations-ditty-display__placeholder"});return(0,d.useEffect)(()=>{a&&1===a.length&&s(a[0])},[s,a]),(0,t.createElement)("div",{...l},(0,t.createElement)(o.Placeholder,{instructions:(0,c.__)("Create a dynamic display. Select a layout:","ditty-news-ticker")},(0,t.createElement)("ul",{role:"list",className:"wp-block-metaphorcreations-ditty-display__variations","aria-label":(0,c.__)("Block variations","ditty-news-ticker")},a.map(e=>(0,t.createElement)("li",{key:e.name},(0,t.createElement)(o.Button,{__next40pxDefaultSize:!0,variant:"tertiary",icon:u(e.name),iconSize:48,onClick:()=>s(e),className:"wp-block-metaphorcreations-ditty-display__variation-button",label:`${e.title}: ${e.description}`}))))))},p=window.wp.apiFetch;var f=e.n(p);const m=window.wp.url;function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var v="(prefers-reduced-motion: reduce)";function y(e){e.length=0}function w(e,t,n){return Array.prototype.slice.call(e,t,n)}function b(e){return e.bind.apply(e,[null].concat(w(arguments,1)))}var k=setTimeout,_=function(){};function x(e){return requestAnimationFrame(e)}function E(e,t){return typeof t===e}function S(e){return!H(e)&&E("object",e)}var C=Array.isArray,I=b(E,"function"),P=b(E,"string"),B=b(E,"undefined");function H(e){return null===e}function M(e){try{return e instanceof(e.ownerDocument.defaultView||window).HTMLElement}catch(e){return!1}}function L(e){return C(e)?e:[e]}function N(e,t){L(e).forEach(t)}function R(e,t){return e.indexOf(t)>-1}function D(e,t){return e.push.apply(e,L(t)),e}function z(e,t,n){e&&N(t,function(t){t&&e.classList[n?"add":"remove"](t)})}function A(e,t){z(e,P(t)?t.split(" "):t,!0)}function T(e,t){N(t,e.appendChild.bind(e))}function O(e,t){N(e,function(e){var n=(t||e).parentNode;n&&n.insertBefore(e,t)})}function F(e,t){return M(e)&&(e.msMatchesSelector||e.matches).call(e,t)}function W(e,t){var n=e?w(e.children):[];return t?n.filter(function(e){return F(e,t)}):n}function $(e,t){return t?W(e,t)[0]:e.firstElementChild}var V=Object.keys;function X(e,t,n){return e&&(n?V(e).reverse():V(e)).forEach(function(n){"__proto__"!==n&&t(e[n],n)}),e}function j(e){return w(arguments,1).forEach(function(t){X(t,function(n,i){e[i]=t[i]})}),e}function Y(e){return w(arguments,1).forEach(function(t){X(t,function(t,n){C(t)?e[n]=t.slice():S(t)?e[n]=Y({},S(e[n])?e[n]:{},t):e[n]=t})}),e}function G(e,t){N(t||V(e),function(t){delete e[t]})}function U(e,t){N(e,function(e){N(t,function(t){e&&e.removeAttribute(t)})})}function q(e,t,n){S(t)?X(t,function(t,n){q(e,n,t)}):N(e,function(e){H(n)||""===n?U(e,t):e.setAttribute(t,String(n))})}function J(e,t,n){var i=document.createElement(e);return t&&(P(t)?A(i,t):q(i,t)),n&&T(n,i),i}function K(e,t,n){if(B(n))return getComputedStyle(e)[t];H(n)||(e.style[t]=""+n)}function Q(e,t){K(e,"display",t)}function Z(e){e.setActive&&e.setActive()||e.focus({preventScroll:!0})}function ee(e,t){return e.getAttribute(t)}function te(e,t){return e&&e.classList.contains(t)}function ne(e){return e.getBoundingClientRect()}function ie(e){N(e,function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})}function re(e){return $((new DOMParser).parseFromString(e,"text/html").body)}function oe(e,t){e.preventDefault(),t&&(e.stopPropagation(),e.stopImmediatePropagation())}function se(e,t){return e&&e.querySelector(t)}function ae(e,t){return t?w(e.querySelectorAll(t)):[]}function le(e,t){z(e,t,!1)}function ce(e){return e.timeStamp}function de(e){return P(e)?e:e?e+"px":""}var ue="splide",he="data-"+ue;function pe(e,t){if(!e)throw new Error("["+ue+"] "+(t||""))}var fe=Math.min,me=Math.max,ge=Math.floor,ve=Math.ceil,ye=Math.abs;function we(e,t,n){return ye(e-t)<n}function be(e,t,n,i){var r=fe(t,n),o=me(t,n);return i?r<e&&e<o:r<=e&&e<=o}function ke(e,t,n){var i=fe(t,n),r=me(t,n);return fe(me(i,e),r)}function _e(e){return+(e>0)-+(e<0)}function xe(e,t){return N(t,function(t){e=e.replace("%s",""+t)}),e}function Ee(e){return e<10?"0"+e:""+e}var Se={};function Ce(){var e=[];function t(e,t,n){N(e,function(e){e&&N(t,function(t){t.split(" ").forEach(function(t){var i=t.split(".");n(e,i[0],i[1])})})})}return{bind:function(n,i,r,o){t(n,i,function(t,n,i){var s="addEventListener"in t,a=s?t.removeEventListener.bind(t,n,r,o):t.removeListener.bind(t,r);s?t.addEventListener(n,r,o):t.addListener(r),e.push([t,n,i,r,a])})},unbind:function(n,i,r){t(n,i,function(t,n,i){e=e.filter(function(e){return!!(e[0]!==t||e[1]!==n||e[2]!==i||r&&e[3]!==r)||(e[4](),!1)})})},dispatch:function(e,t,n){var i,r=!0;return"function"==typeof CustomEvent?i=new CustomEvent(t,{bubbles:r,detail:n}):(i=document.createEvent("CustomEvent")).initCustomEvent(t,r,!1,n),e.dispatchEvent(i),i},destroy:function(){e.forEach(function(e){e[4]()}),y(e)}}}var Ie="mounted",Pe="ready",Be="move",He="moved",Me="click",Le="refresh",Ne="updated",Re="resize",De="resized",ze="scroll",Ae="scrolled",Te="destroy",Oe="navigation:mounted",Fe="autoplay:play",We="autoplay:pause",$e="lazyload:loaded",Ve="ei";function Xe(e){var t=e?e.event.bus:document.createDocumentFragment(),n=Ce();return e&&e.event.on(Te,n.destroy),j(n,{bus:t,on:function(e,i){n.bind(t,L(e).join(" "),function(e){i.apply(i,C(e.detail)?e.detail:[])})},off:b(n.unbind,t),emit:function(e){n.dispatch(t,e,w(arguments,1))}})}function je(e,t,n,i){var r,o,s=Date.now,a=0,l=!0,c=0;function d(){if(!l){if(a=e?fe((s()-r)/e,1):1,n&&n(a),a>=1&&(t(),r=s(),i&&++c>=i))return u();o=x(d)}}function u(){l=!0}function h(){o&&cancelAnimationFrame(o),a=0,o=0,l=!0}return{start:function(t){t||h(),r=s()-(t?a*e:0),l=!1,o=x(d)},rewind:function(){r=s(),a=0,n&&n(a)},pause:u,cancel:h,set:function(t){e=t},isPaused:function(){return l}}}var Ye="Arrow",Ge=Ye+"Left",Ue=Ye+"Right",qe=Ye+"Up",Je=Ye+"Down",Ke="ttb",Qe={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[qe,Ue],ArrowRight:[Je,Ge]};var Ze="role",et="tabindex",tt="aria-",nt=tt+"controls",it=tt+"current",rt=tt+"selected",ot=tt+"label",st=tt+"labelledby",at=tt+"hidden",lt=tt+"orientation",ct=tt+"roledescription",dt=tt+"live",ut=tt+"busy",ht=tt+"atomic",pt=[Ze,et,"disabled",nt,it,ot,st,at,lt,ct],ft=ue+"__",mt="is-",gt=ue,vt=ft+"track",yt=ft+"list",wt=ft+"slide",bt=wt+"--clone",kt=wt+"__container",_t=ft+"arrows",xt=ft+"arrow",Et=xt+"--prev",St=xt+"--next",Ct=ft+"pagination",It=Ct+"__page",Pt=ft+"progress__bar",Bt=ft+"toggle",Ht=ft+"sr",Mt=mt+"initialized",Lt=mt+"active",Nt=mt+"prev",Rt=mt+"next",Dt=mt+"visible",zt=mt+"loading",At=mt+"focus-in",Tt=mt+"overflow",Ot=[Lt,Dt,Nt,Rt,zt,At,Tt],Ft={slide:wt,clone:bt,arrows:_t,arrow:xt,prev:Et,next:St,pagination:Ct,page:It,spinner:ft+"spinner"},Wt="touchstart mousedown",$t="touchmove mousemove",Vt="touchend touchcancel mouseup click",Xt="slide",jt="loop",Yt="fade";var Gt=he+"-interval",Ut={passive:!1,capture:!0},qt={Spacebar:" ",Right:Ue,Left:Ge,Up:qe,Down:Je};function Jt(e){return e=P(e)?e:e.key,qt[e]||e}var Kt="keydown",Qt=he+"-lazy",Zt=Qt+"-srcset",en="["+Qt+"], ["+Zt+"]",tn=[" ","Enter"],nn=Object.freeze({__proto__:null,Media:function(e,t,n){var i=e.state,r=n.breakpoints||{},o=n.reducedMotion||{},s=Ce(),a=[];function l(e){e&&s.destroy()}function c(e,t){var n=matchMedia(t);s.bind(n,"change",d),a.push([e,n])}function d(){var t=i.is(7),r=n.direction,o=a.reduce(function(e,t){return Y(e,t[1].matches?t[0]:{})},{});G(n),u(o),n.destroy?e.destroy("completely"===n.destroy):t?(l(!0),e.mount()):r!==n.direction&&e.refresh()}function u(t,r,o){Y(n,t),r&&Y(Object.getPrototypeOf(n),t),!o&&i.is(1)||e.emit(Ne,n)}return{setup:function(){var e="min"===n.mediaQuery;V(r).sort(function(t,n){return e?+t-+n:+n-+t}).forEach(function(t){c(r[t],"("+(e?"min":"max")+"-width:"+t+"px)")}),c(o,v),d()},destroy:l,reduce:function(e){matchMedia(v).matches&&(e?Y(n,o):G(n,V(o)))},set:u}},Direction:function(e,t,n){return{resolve:function(e,t,i){var r="rtl"!==(i=i||n.direction)||t?i===Ke?0:-1:1;return Qe[e]&&Qe[e][r]||e.replace(/width|left|right/i,function(e,t){var n=Qe[e.toLowerCase()][r]||e;return t>0?n.charAt(0).toUpperCase()+n.slice(1):n})},orient:function(e){return e*("rtl"===n.direction?1:-1)}}},Elements:function(e,t,n){var i,r,o,s=Xe(e),a=s.on,l=s.bind,c=e.root,d=n.i18n,u={},h=[],p=[],f=[];function m(){var e,t,o;i=w("."+vt),r=$(i,"."+yt),pe(i&&r,"A track/list element is missing."),D(h,W(r,"."+wt+":not(."+bt+")")),X({arrows:_t,pagination:Ct,prev:Et,next:St,bar:Pt,toggle:Bt},function(e,t){u[t]=w("."+e)}),j(u,{root:c,track:i,list:r,slides:h}),t=c.id||""+(e=ue)+Ee(Se[e]=(Se[e]||0)+1),o=n.role,c.id=t,i.id=i.id||t+"-track",r.id=r.id||t+"-list",!ee(c,Ze)&&"SECTION"!==c.tagName&&o&&q(c,Ze,o),q(c,ct,d.carousel),q(r,Ze,"presentation"),v()}function g(e){var t=pt.concat("style");y(h),le(c,p),le(i,f),U([i,r],t),U(c,e?t:["style",ct])}function v(){le(c,p),le(i,f),p=b(gt),f=b(vt),A(c,p),A(i,f),q(c,ot,n.label),q(c,st,n.labelledby)}function w(e){var t=se(c,e);return t&&function(e,t){if(I(e.closest))return e.closest(t);for(var n=e;n&&1===n.nodeType&&!F(n,t);)n=n.parentElement;return n}(t,"."+gt)===c?t:void 0}function b(e){return[e+"--"+n.type,e+"--"+n.direction,n.drag&&e+"--draggable",n.isNavigation&&e+"--nav",e===gt&&Lt]}return j(u,{setup:m,mount:function(){a(Le,g),a(Le,m),a(Ne,v),l(document,Wt+" keydown",function(e){o="keydown"===e.type},{capture:!0}),l(c,"focusin",function(){z(c,At,!!o)})},destroy:g})},Slides:function(e,t,n){var i=Xe(e),r=i.on,o=i.emit,s=i.bind,a=t.Elements,l=a.slides,c=a.list,d=[];function u(){l.forEach(function(e,t){p(e,t,-1)})}function h(){m(function(e){e.destroy()}),y(d)}function p(t,n,i){var r=function(e,t,n,i){var r,o=Xe(e),s=o.on,a=o.emit,l=o.bind,c=e.Components,d=e.root,u=e.options,h=u.isNavigation,p=u.updateOnMove,f=u.i18n,m=u.pagination,g=u.slideFocus,v=c.Direction.resolve,y=ee(i,"style"),w=ee(i,ot),k=n>-1,_=$(i,"."+kt);function x(){var r=e.splides.map(function(e){var n=e.splide.Components.Slides.getAt(t);return n?n.slide.id:""}).join(" ");q(i,ot,xe(f.slideX,(k?n:t)+1)),q(i,nt,r),q(i,Ze,g?"button":""),g&&U(i,ct)}function E(){r||S()}function S(){if(!r){var n=e.index;(o=C())!==te(i,Lt)&&(z(i,Lt,o),q(i,it,h&&o||""),a(o?"active":"inactive",I)),function(){var t=function(){if(e.is(Yt))return C();var t=ne(c.Elements.track),n=ne(i),r=v("left",!0),o=v("right",!0);return ge(t[r])<=ve(n[r])&&ge(n[o])<=ve(t[o])}(),n=!t&&(!C()||k);if(e.state.is([4,5])||q(i,at,n||""),q(ae(i,u.focusableNodes||""),et,n?-1:""),g&&q(i,et,n?-1:0),t!==te(i,Dt)&&(z(i,Dt,t),a(t?"visible":"hidden",I)),!t&&document.activeElement===i){var r=c.Slides.getAt(e.index);r&&Z(r.slide)}}(),z(i,Nt,t===n-1),z(i,Rt,t===n+1)}var o}function C(){var i=e.index;return i===t||u.cloneStatus&&i===n}var I={index:t,slideIndex:n,slide:i,container:_,isClone:k,mount:function(){k||(i.id=d.id+"-slide"+Ee(t+1),q(i,Ze,m?"tabpanel":"group"),q(i,ct,f.slide),q(i,ot,w||xe(f.slideLabel,[t+1,e.length]))),l(i,"click",b(a,Me,I)),l(i,"keydown",b(a,"sk",I)),s([He,"sh",Ae],S),s(Oe,x),p&&s(Be,E)},destroy:function(){r=!0,o.destroy(),le(i,Ot),U(i,pt),q(i,"style",y),q(i,ot,w||"")},update:S,style:function(e,t,n){K(n&&_||i,e,t)},isWithin:function(n,i){var r=ye(n-t);return k||!u.rewind&&!e.is(jt)||(r=fe(r,e.length-r)),r<=i}};return I}(e,n,i,t);r.mount(),d.push(r),d.sort(function(e,t){return e.index-t.index})}function f(e){return e?g(function(e){return!e.isClone}):d}function m(e,t){f(t).forEach(e)}function g(e){return d.filter(I(e)?e:function(t){return P(e)?F(t.slide,e):R(L(e),t.index)})}return{mount:function(){u(),r(Le,h),r(Le,u)},destroy:h,update:function(){m(function(e){e.update()})},register:p,get:f,getIn:function(e){var i=t.Controller,r=i.toIndex(e),o=i.hasFocus()?1:n.perPage;return g(function(e){return be(e.index,r,r+o-1)})},getAt:function(e){return g(e)[0]},add:function(e,t){N(e,function(e){if(P(e)&&(e=re(e)),M(e)){var i=l[t];i?O(e,i):T(c,e),A(e,n.classes.slide),r=e,a=b(o,Re),d=ae(r,"img"),(u=d.length)?d.forEach(function(e){s(e,"load error",function(){--u||a()})}):a()}var r,a,d,u}),o(Le)},remove:function(e){ie(g(e).map(function(e){return e.slide})),o(Le)},forEach:m,filter:g,style:function(e,t,n){m(function(i){i.style(e,t,n)})},getLength:function(e){return e?l.length:d.length},isEnough:function(){return d.length>n.perPage}}},Layout:function(e,t,n){var i,r,o,s=Xe(e),a=s.on,l=s.bind,c=s.emit,d=t.Slides,u=t.Direction.resolve,h=t.Elements,p=h.root,f=h.track,m=h.list,g=d.getAt,v=d.style;function y(){i=n.direction===Ke,K(p,"maxWidth",de(n.width)),K(f,u("paddingLeft"),k(!1)),K(f,u("paddingRight"),k(!0)),w(!0)}function w(e){var t,s=ne(p);(e||r.width!==s.width||r.height!==s.height)&&(K(f,"height",(t="",i&&(pe(t=_(),"height or heightRatio is missing."),t="calc("+t+" - "+k(!1)+" - "+k(!0)+")"),t)),v(u("marginRight"),de(n.gap)),v("width",n.autoWidth?null:de(n.fixedWidth)||(i?"":x())),v("height",de(n.fixedHeight)||(i?n.autoHeight?null:x():_()),!0),r=s,c(De),o!==(o=H())&&(z(p,Tt,o),c("overflow",o)))}function k(e){var t=n.padding,i=u(e?"right":"left");return t&&de(t[i]||(S(t)?0:t))||"0px"}function _(){return de(n.height||ne(m).width*n.heightRatio)}function x(){var e=de(n.gap);return"calc((100%"+(e&&" + "+e)+")/"+(n.perPage||1)+(e&&" - "+e)+")"}function E(){return ne(m)[u("width")]}function C(e,t){var n=g(e||0);return n?ne(n.slide)[u("width")]+(t?0:B()):0}function I(e,t){var n=g(e);if(n){var i=ne(n.slide)[u("right")],r=ne(m)[u("left")];return ye(i-r)+(t?0:B())}return 0}function P(t){return I(e.length-1)-I(0)+C(0,t)}function B(){var e=g(0);return e&&parseFloat(K(e.slide,u("marginRight")))||0}function H(){return e.is(Yt)||P(!0)>E()}return{mount:function(){var e,t;y(),l(window,"resize load",(e=b(c,Re),t=je(0,e,null,1),function(){t.isPaused()&&t.start()})),a([Ne,Le],y),a(Re,w)},resize:w,listSize:E,slideSize:C,sliderSize:P,totalSize:I,getPadding:function(e){return parseFloat(K(f,u("padding"+(e?"Right":"Left"))))||0},isOverflow:H}},Clones:function(e,t,n){var i,r=Xe(e),o=r.on,s=t.Elements,a=t.Slides,l=t.Direction.resolve,c=[];function d(){o(Le,u),o([Ne,Re],p),(i=f())&&(function(t){var i=a.get().slice(),r=i.length;if(r){for(;i.length<t;)D(i,i);D(i.slice(-t),i.slice(0,t)).forEach(function(o,l){var d=l<t,u=function(t,i){var r=t.cloneNode(!0);return A(r,n.classes.clone),r.id=e.root.id+"-clone"+Ee(i+1),r}(o.slide,l);d?O(u,i[0].slide):T(s.list,u),D(c,u),a.register(u,l-t+(d?0:r),o.index)})}}(i),t.Layout.resize(!0))}function u(){h(),d()}function h(){ie(c),y(c),r.destroy()}function p(){var e=f();i!==e&&(i<e||!e)&&r.emit(Le)}function f(){var i=n.clones;if(e.is(jt)){if(B(i)){var r=n[l("fixedWidth")]&&t.Layout.slideSize(0);i=r&&ve(ne(s.track)[l("width")]/r)||n[l("autoWidth")]&&e.length||2*n.perPage}}else i=0;return i}return{mount:d,destroy:h}},Move:function(e,t,n){var i,r=Xe(e),o=r.on,s=r.emit,a=e.state.set,l=t.Layout,c=l.slideSize,d=l.getPadding,u=l.totalSize,h=l.listSize,p=l.sliderSize,f=t.Direction,m=f.resolve,g=f.orient,v=t.Elements,y=v.list,w=v.track;function b(){t.Controller.isBusy()||(t.Scroll.cancel(),k(e.index),t.Slides.update())}function k(e){_(C(e,!0))}function _(n,i){if(!e.is(Yt)){var r=i?n:function(n){if(e.is(jt)){var i=S(n),r=i>t.Controller.getEnd();(i<0||r)&&(n=x(n,r))}return n}(n);K(y,"transform","translate"+m("X")+"("+r+"px)"),n!==r&&s("sh")}}function x(e,t){var n=e-P(t),i=p();return e-g(i*(ve(ye(n)/i)||1))*(t?1:-1)}function E(){_(I(),!0),i.cancel()}function S(e){for(var n=t.Slides.get(),i=0,r=1/0,o=0;o<n.length;o++){var s=n[o].index,a=ye(C(s,!0)-e);if(!(a<=r))break;r=a,i=s}return i}function C(t,i){var r=g(u(t-1)-function(e){var t=n.focus;return"center"===t?(h()-c(e,!0))/2:+t*c(e)||0}(t));return i?function(t){return n.trimSpace&&e.is(Xt)&&(t=ke(t,0,g(p(!0)-h()))),t}(r):r}function I(){var e=m("left");return ne(y)[e]-ne(w)[e]+g(d(!1))}function P(e){return C(e?t.Controller.getEnd():0,!!n.trimSpace)}return{mount:function(){i=t.Transition,o([Ie,De,Ne,Le],b)},move:function(e,t,n,r){var o,l;e!==t&&(o=e>n,l=g(x(I(),o)),o?l>=0:l<=y[m("scrollWidth")]-ne(w)[m("width")])&&(E(),_(x(I(),e>n),!0)),a(4),s(Be,t,n,e),i.start(t,function(){a(3),s(He,t,n,e),r&&r()})},jump:k,translate:_,shift:x,cancel:E,toIndex:S,toPosition:C,getPosition:I,getLimit:P,exceededLimit:function(e,t){t=B(t)?I():t;var n=!0!==e&&g(t)<g(P(!1)),i=!1!==e&&g(t)>g(P(!0));return n||i},reposition:b}},Controller:function(e,t,n){var i,r,o,s,a=Xe(e),l=a.on,c=a.emit,d=t.Move,u=d.getPosition,h=d.getLimit,p=d.toPosition,f=t.Slides,m=f.isEnough,g=f.getLength,v=n.omitEnd,y=e.is(jt),w=e.is(Xt),k=b(I,!1),_=b(I,!0),x=n.start||0,E=x;function S(){r=g(!0),o=n.perMove,s=n.perPage,i=L();var e=ke(x,0,v?i:r-1);e!==x&&(x=e,d.reposition())}function C(){i!==L()&&c(Ve)}function I(e,t){var n=o||(z()?1:s),r=H(x+n*(e?-1:1),x,!(o||z()));return-1===r&&w&&!we(u(),h(!e),1)?e?0:i:t?r:M(r)}function H(t,a,l){if(m()||z()){var c=function(t){if(w&&"move"===n.trimSpace&&t!==x)for(var i=u();i===p(t,!0)&&be(t,0,e.length-1,!n.rewind);)t<x?--t:++t;return t}(t);c!==t&&(a=t,t=c,l=!1),t<0||t>i?t=o||!be(0,t,a,!0)&&!be(i,a,t,!0)?y?l?t<0?-(r%s||s):r:t:n.rewind?t<0?i:0:-1:N(R(t)):l&&t!==a&&(t=N(R(a)+(t<a?-1:1)))}else t=-1;return t}function M(e){return y?(e+r)%r||0:e}function L(){for(var e=r-(z()||y&&o?1:s);v&&e-- >0;)if(p(r-1,!0)!==p(e,!0)){e++;break}return ke(e,0,r-1)}function N(e){return ke(z()?e:s*e,0,i)}function R(e){return z()?fe(e,i):ge((e>=i?r-1:e)/s)}function D(e){e!==x&&(E=x,x=e)}function z(){return!B(n.focus)||n.isNavigation}function A(){return e.state.is([4,5])&&!!n.waitForTransition}return{mount:function(){S(),l([Ne,Le,Ve],S),l(De,C)},go:function(e,t,n){if(!A()){var r=function(e){var t=x;if(P(e)){var n=e.match(/([+\-<>])(\d+)?/)||[],r=n[1],o=n[2];"+"===r||"-"===r?t=H(x+ +(""+r+(+o||1)),x):">"===r?t=o?N(+o):k(!0):"<"===r&&(t=_(!0))}else t=y?e:ke(e,0,i);return t}(e),o=M(r);o>-1&&(t||o!==x)&&(D(o),d.move(r,o,E,n))}},scroll:function(e,n,r,o){t.Scroll.scroll(e,n,r,function(){var e=M(d.toIndex(u()));D(v?fe(e,i):e),o&&o()})},getNext:k,getPrev:_,getAdjacent:I,getEnd:L,setIndex:D,getIndex:function(e){return e?E:x},toIndex:N,toPage:R,toDest:function(e){var t=d.toIndex(e);return w?ke(t,0,i):t},hasFocus:z,isBusy:A}},Arrows:function(e,t,n){var i,r,o=Xe(e),s=o.on,a=o.bind,l=o.emit,c=n.classes,d=n.i18n,u=t.Elements,h=t.Controller,p=u.arrows,f=u.track,m=p,g=u.prev,v=u.next,y={};function w(){var e;!(e=n.arrows)||g&&v||(m=p||J("div",c.arrows),g=E(!0),v=E(!1),i=!0,T(m,[g,v]),!p&&O(m,f)),g&&v&&(j(y,{prev:g,next:v}),Q(m,e?"":"none"),A(m,r=_t+"--"+n.direction),e&&(s([Ie,He,Le,Ae,Ve],S),a(v,"click",b(x,">")),a(g,"click",b(x,"<")),S(),q([g,v],nt,f.id),l("arrows:mounted",g,v))),s(Ne,k)}function k(){_(),w()}function _(){o.destroy(),le(m,r),i?(ie(p?[g,v]:m),g=v=null):U([g,v],pt)}function x(e){h.go(e,!0)}function E(e){return re('<button class="'+c.arrow+" "+(e?c.prev:c.next)+'" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" width="40" height="40" focusable="false"><path d="'+(n.arrowPath||"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z")+'" />')}function S(){if(g&&v){var t=e.index,n=h.getPrev(),i=h.getNext(),r=n>-1&&t<n?d.last:d.prev,o=i>-1&&t>i?d.first:d.next;g.disabled=n<0,v.disabled=i<0,q(g,ot,r),q(v,ot,o),l("arrows:updated",g,v,n,i)}}return{arrows:y,mount:w,destroy:_,update:S}},Autoplay:function(e,t,n){var i,r,o=Xe(e),s=o.on,a=o.bind,l=o.emit,c=je(n.interval,e.go.bind(e,">"),function(e){var t=u.bar;t&&K(t,"width",100*e+"%"),l("autoplay:playing",e)}),d=c.isPaused,u=t.Elements,h=t.Elements,p=h.root,f=h.toggle,m=n.autoplay,g="pause"===m;function v(){d()&&t.Slides.isEnough()&&(c.start(!n.resetProgress),r=i=g=!1,b(),l(Fe))}function y(e){void 0===e&&(e=!0),g=!!e,b(),d()||(c.pause(),l(We))}function w(){g||(i||r?y(!1):v())}function b(){f&&(z(f,Lt,!g),q(f,ot,n.i18n[g?"play":"pause"]))}function k(e){var i=t.Slides.getAt(e);c.set(i&&+ee(i.slide,Gt)||n.interval)}return{mount:function(){m&&(n.pauseOnHover&&a(p,"mouseenter mouseleave",function(e){i="mouseenter"===e.type,w()}),n.pauseOnFocus&&a(p,"focusin focusout",function(e){r="focusin"===e.type,w()}),f&&a(f,"click",function(){g?v():y(!0)}),s([Be,ze,Le],c.rewind),s(Be,k),f&&q(f,nt,u.track.id),g||v(),b())},destroy:c.cancel,play:v,pause:y,isPaused:d}},Cover:function(e,t,n){var i=Xe(e).on;function r(e){t.Slides.forEach(function(t){var n=$(t.container||t.slide,"img");n&&n.src&&o(e,n,t)})}function o(e,t,n){n.style("background",e?'center/cover no-repeat url("'+t.src+'")':"",!0),Q(t,e?"none":"")}return{mount:function(){n.cover&&(i($e,b(o,!0)),i([Ie,Ne,Le],b(r,!0)))},destroy:b(r,!1)}},Scroll:function(e,t,n){var i,r,o=Xe(e),s=o.on,a=o.emit,l=e.state.set,c=t.Move,d=c.getPosition,u=c.getLimit,h=c.exceededLimit,p=c.translate,f=e.is(Xt),m=1;function g(e,n,o,s,u){var p=d();if(w(),o&&(!f||!h())){var g=t.Layout.sliderSize(),k=_e(e)*g*ge(ye(e)/g)||0;e=c.toPosition(t.Controller.toDest(e%g))+k}var _=we(p,e,1);m=1,n=_?0:n||me(ye(e-p)/1.5,800),r=s,i=je(n,v,b(y,p,e,u),1),l(5),a(ze),i.start()}function v(){l(3),r&&r(),a(Ae)}function y(e,t,i,o){var s,a,l=d(),c=(e+(t-e)*(s=o,(a=n.easingFunc)?a(s):1-Math.pow(1-s,4))-l)*m;p(l+c),f&&!i&&h()&&(m*=.6,ye(c)<10&&g(u(h(!0)),600,!1,r,!0))}function w(){i&&i.cancel()}function k(){i&&!i.isPaused()&&(w(),v())}return{mount:function(){s(Be,w),s([Ne,Le],k)},destroy:w,scroll:g,cancel:k}},Drag:function(e,t,n){var i,r,o,s,a,l,c,d,u=Xe(e),h=u.on,p=u.emit,f=u.bind,m=u.unbind,g=e.state,v=t.Move,y=t.Scroll,w=t.Controller,b=t.Elements.track,k=t.Media.reduce,x=t.Direction,E=x.resolve,C=x.orient,I=v.getPosition,P=v.exceededLimit,B=!1;function H(){var e=n.drag;$(!e),s="free"===e}function M(e){if(l=!1,!c){var t=W(e);i=e.target,r=n.noDrag,F(i,"."+It+", ."+xt)||r&&F(i,r)||!t&&e.button||(w.isBusy()?oe(e,!0):(d=t?b:window,a=g.is([4,5]),o=null,f(d,$t,L,Ut),f(d,Vt,N,Ut),v.cancel(),y.cancel(),D(e)))}var i,r}function L(t){if(g.is(6)||(g.set(6),p("drag")),t.cancelable)if(a){v.translate(i+z(t)/(B&&e.is(Xt)?5:1));var r=A(t)>200,o=B!==(B=P());(r||o)&&D(t),l=!0,p("dragging"),oe(t)}else(function(e){return ye(z(e))>ye(z(e,!0))})(t)&&(a=function(e){var t=n.dragMinThreshold,i=S(t),r=i&&t.mouse||0,o=(i?t.touch:+t)||10;return ye(z(e))>(W(e)?o:r)}(t),oe(t))}function N(i){g.is(6)&&(g.set(3),p("dragged")),a&&(function(i){var r=function(t){if(e.is(jt)||!B){var n=A(t);if(n&&n<200)return z(t)/n}return 0}(i),o=function(e){return I()+_e(e)*fe(ye(e)*(n.flickPower||600),s?1/0:t.Layout.listSize()*(n.flickMaxPages||1))}(r),a=n.rewind&&n.rewindByDrag;k(!1),s?w.scroll(o,0,n.snap):e.is(Yt)?w.go(C(_e(r))<0?a?"<":"-":a?">":"+"):e.is(Xt)&&B&&a?w.go(P(!0)?">":"<"):w.go(w.toDest(o),!0),k(!0)}(i),oe(i)),m(d,$t,L),m(d,Vt,N),a=!1}function R(e){!c&&l&&oe(e,!0)}function D(e){o=r,r=e,i=I()}function z(e,t){return O(e,t)-O(T(e),t)}function A(e){return ce(e)-ce(T(e))}function T(e){return r===e&&o||r}function O(e,t){return(W(e)?e.changedTouches[0]:e)["page"+E(t?"Y":"X")]}function W(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent}function $(e){c=e}return{mount:function(){f(b,$t,_,Ut),f(b,Vt,_,Ut),f(b,Wt,M,Ut),f(b,"click",R,{capture:!0}),f(b,"dragstart",oe),h([Ie,Ne],H)},disable:$,isDragging:function(){return a}}},Keyboard:function(e,t,n){var i,r,o=Xe(e),s=o.on,a=o.bind,l=o.unbind,c=e.root,d=t.Direction.resolve;function u(){var e=n.keyboard;e&&(i="global"===e?window:c,a(i,Kt,f))}function h(){l(i,Kt)}function p(){var e=r;r=!0,k(function(){r=e})}function f(t){if(!r){var n=Jt(t);n===d(Ge)?e.go("<"):n===d(Ue)&&e.go(">")}}return{mount:function(){u(),s(Ne,h),s(Ne,u),s(Be,p)},destroy:h,disable:function(e){r=e}}},LazyLoad:function(e,t,n){var i=Xe(e),r=i.on,o=i.off,s=i.bind,a=i.emit,l="sequential"===n.lazyLoad,c=[He,Ae],d=[];function u(){y(d),t.Slides.forEach(function(e){ae(e.slide,en).forEach(function(t){var i=ee(t,Qt),r=ee(t,Zt);if(i!==t.src||r!==t.srcset){var o=n.classes.spinner,s=t.parentElement,a=$(s,"."+o)||J("span",o,s);d.push([t,e,a]),t.src||Q(t,"none")}})}),l?m():(o(c),r(c,h),h())}function h(){(d=d.filter(function(t){var i=n.perPage*((n.preloadPages||1)+1)-1;return!t[1].isWithin(e.index,i)||p(t)})).length||o(c)}function p(e){var t=e[0];A(e[1].slide,zt),s(t,"load error",b(f,e)),q(t,"src",ee(t,Qt)),q(t,"srcset",ee(t,Zt)),U(t,Qt),U(t,Zt)}function f(e,t){var n=e[0],i=e[1];le(i.slide,zt),"error"!==t.type&&(ie(e[2]),Q(n,""),a($e,n,i),a(Re)),l&&m()}function m(){d.length&&p(d.shift())}return{mount:function(){n.lazyLoad&&(u(),r(Le,u))},destroy:b(y,d),check:h}},Pagination:function(e,t,n){var i,r,o=Xe(e),s=o.on,a=o.emit,l=o.bind,c=t.Slides,d=t.Elements,u=t.Controller,h=u.hasFocus,p=u.getIndex,f=u.go,m=t.Direction.resolve,g=d.pagination,v=[];function k(){i&&(ie(g?w(i.children):i),le(i,r),y(v),i=null),o.destroy()}function _(e){f(">"+e,!0)}function x(e,t){var n=v.length,i=Jt(t),r=E(),o=-1;i===m(Ue,!1,r)?o=++e%n:i===m(Ge,!1,r)?o=(--e+n)%n:"Home"===i?o=0:"End"===i&&(o=n-1);var s=v[o];s&&(Z(s.button),f(">"+o),oe(t,!0))}function E(){return n.paginationDirection||n.direction}function S(e){return v[u.toPage(e)]}function C(){var e=S(p(!0)),t=S(p());if(e){var n=e.button;le(n,Lt),U(n,rt),q(n,et,-1)}if(t){var r=t.button;A(r,Lt),q(r,rt,!0),q(r,et,"")}a("pagination:updated",{list:i,items:v},e,t)}return{items:v,mount:function t(){k(),s([Ne,Le,Ve],t);var o=n.pagination;g&&Q(g,o?"":"none"),o&&(s([Be,ze,Ae],C),function(){var t=e.length,o=n.classes,s=n.i18n,a=n.perPage,p=h()?u.getEnd()+1:ve(t/a);A(i=g||J("ul",o.pagination,d.track.parentElement),r=Ct+"--"+E()),q(i,Ze,"tablist"),q(i,ot,s.select),q(i,lt,E()===Ke?"vertical":"");for(var f=0;f<p;f++){var m=J("li",null,i),y=J("button",{class:o.page,type:"button"},m),w=c.getIn(f).map(function(e){return e.slide.id}),k=!h()&&a>1?s.pageX:s.slideX;l(y,"click",b(_,f)),n.paginationKeyboard&&l(y,"keydown",b(x,f)),q(m,Ze,"presentation"),q(y,Ze,"tab"),q(y,nt,w.join(" ")),q(y,ot,xe(k,f+1)),q(y,et,-1),v.push({li:m,button:y,page:f})}}(),C(),a("pagination:mounted",{list:i,items:v},S(e.index)))},destroy:k,getAt:S,update:C}},Sync:function(e,t,n){var i=n.isNavigation,r=n.slideFocus,o=[];function s(){var t,n;e.splides.forEach(function(t){t.isParent||(l(e,t.splide),l(t.splide,e))}),i&&((n=(t=Xe(e)).on)(Me,d),n("sk",u),n([Ie,Ne],c),o.push(t),t.emit(Oe,e.splides))}function a(){o.forEach(function(e){e.destroy()}),y(o)}function l(e,t){var n=Xe(e);n.on(Be,function(e,n,i){t.go(t.is(jt)?i:e)}),o.push(n)}function c(){q(t.Elements.list,lt,n.direction===Ke?"vertical":"")}function d(t){e.go(t.index)}function u(e,t){R(tn,Jt(t))&&(d(e),oe(t))}return{setup:b(t.Media.set,{slideFocus:B(r)?i:r},!0),mount:s,destroy:a,remount:function(){a(),s()}}},Wheel:function(e,t,n){var i=Xe(e).bind,r=0;function o(i){if(i.cancelable){var o=i.deltaY,s=o<0,a=ce(i),l=n.wheelMinThreshold||0,c=n.wheelSleep||0;ye(o)>l&&a-r>c&&(e.go(s?"<":">"),r=a),function(i){return!n.releaseWheel||e.state.is(4)||-1!==t.Controller.getAdjacent(i)}(s)&&oe(i)}}return{mount:function(){n.wheel&&i(t.Elements.track,"wheel",o,Ut)}}},Live:function(e,t,n){var i=Xe(e).on,r=t.Elements.track,o=n.live&&!n.isNavigation,s=J("span",Ht),a=je(90,b(l,!1));function l(e){q(r,ut,e),e?(T(r,s),a.start()):(ie(s),a.cancel())}function c(e){o&&q(r,dt,e?"off":"polite")}return{mount:function(){o&&(c(!t.Autoplay.isPaused()),q(r,ht,!0),s.textContent="â€¦",i(Fe,b(c,!0)),i(We,b(c,!1)),i([He,Ae],b(l,!0)))},disable:c,destroy:function(){U(r,[dt,ht,ut]),ie(s)}}}}),rn={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:Ft,i18n:{prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function on(e,t,n){var i=t.Slides;function r(){i.forEach(function(e){e.style("transform","translateX(-"+100*e.index+"%)")})}return{mount:function(){Xe(e).on([Ie,Le],r)},start:function(e,t){i.style("transition","opacity "+n.speed+"ms "+n.easing),k(t)},cancel:_}}function sn(e,t,n){var i,r=t.Move,o=t.Controller,s=t.Scroll,a=t.Elements.list,l=b(K,a,"transition");function c(){l(""),s.cancel()}return{mount:function(){Xe(e).bind(a,"transitionend",function(e){e.target===a&&i&&(c(),i())})},start:function(t,a){var c=r.toPosition(t,!0),d=r.getPosition(),u=function(t){var i=n.rewindSpeed;if(e.is(Xt)&&i){var r=o.getIndex(!0),s=o.getEnd();if(0===r&&t>=s||r>=s&&0===t)return i}return n.speed}(t);ye(c-d)>=1&&u>=1?n.useScroll?s.scroll(c,u,!1,a):(l("transform "+u+"ms "+n.easing),r.translate(c,!0),i=a):(r.jump(t),a())},cancel:c}}var an=function(){function e(t,n){var i;this.event=Xe(),this.Components={},this.state=(i=1,{set:function(e){i=e},is:function(e){return R(L(e),i)}}),this.splides=[],this._o={},this._E={};var r=P(t)?se(document,t):t;pe(r,r+" is invalid."),this.root=r,n=Y({label:ee(r,ot)||"",labelledby:ee(r,st)||""},rn,e.defaults,n||{});try{Y(n,JSON.parse(ee(r,he)))}catch(e){pe(!1,"Invalid JSON")}this._o=Object.create(Y({},n))}var t,n,i=e.prototype;return i.mount=function(e,t){var n=this,i=this.state,r=this.Components;return pe(i.is([1,7]),"Already mounted!"),i.set(1),this._C=r,this._T=t||this._T||(this.is(Yt)?on:sn),this._E=e||this._E,X(j({},nn,this._E,{Transition:this._T}),function(e,t){var i=e(n,r,n._o);r[t]=i,i.setup&&i.setup()}),X(r,function(e){e.mount&&e.mount()}),this.emit(Ie),A(this.root,Mt),i.set(3),this.emit(Pe),this},i.sync=function(e){return this.splides.push({splide:e}),e.splides.push({splide:this,isParent:!0}),this.state.is(3)&&(this._C.Sync.remount(),e.Components.Sync.remount()),this},i.go=function(e){return this._C.Controller.go(e),this},i.on=function(e,t){return this.event.on(e,t),this},i.off=function(e){return this.event.off(e),this},i.emit=function(e){var t;return(t=this.event).emit.apply(t,[e].concat(w(arguments,1))),this},i.add=function(e,t){return this._C.Slides.add(e,t),this},i.remove=function(e){return this._C.Slides.remove(e),this},i.is=function(e){return this._o.type===e},i.refresh=function(){return this.emit(Le),this},i.destroy=function(e){void 0===e&&(e=!0);var t=this.event,n=this.state;return n.is(1)?Xe(this).on(Pe,this.destroy.bind(this,e)):(X(this._C,function(t){t.destroy&&t.destroy(e)},!0),t.emit(Te),t.destroy(),e&&y(this.splides),n.set(7)),this},t=e,(n=[{key:"options",get:function(){return this._o},set:function(e){this._C.Media.set(e,!0,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ln({blockProps:e,innerBlocksProps:o,attributes:s,clientId:a}){const l=(0,d.useRef)(null),c=(0,d.useRef)(null),{ref:u,...h}=e||{},p=(0,i.useSelect)(e=>{const{getBlocks:t}=e(r.store);return t(a)},[a]),[g,v]=(0,d.useState)([]),[y,w]=(0,d.useState)(new Set);console.log("renderedBlocks",g);const b=e=>!!e&&(!!["ditty/posts-feed"].includes(e.name)||!!(e.innerBlocks&&e.innerBlocks.length>0)&&e.innerBlocks.some(e=>b(e)));(0,d.useEffect)(()=>{p&&0!==p.length&&p.forEach((e,t)=>{b(e)&&(console.log("index",t),(async e=>{const t=e.clientId;if(!y.has(t)&&!g[t]){w(e=>new Set(e).add(t));try{const t=(0,m.addQueryArgs)(`/wp/v2/block-renderer/${e.name}`,{context:"edit"}),n=await f()({path:t,method:"POST",data:{attributes:e.attributes||{}}}),i=n.rendered.match(/<li\b[^>]*>[\s\S]*?<\/li>/gi);n&&n.rendered&&i&&i.length>0&&v(e=>[...e,...i])}catch(e){console.error("Error rendering block:",e)}finally{w(e=>{const n=new Set(e);return n.delete(t),n})}}})(e))})},[p]);const k=(0,d.useMemo)(()=>{const e=e=>{if("string"==typeof e&&e.startsWith("var:preset|")){const t=e.split("|");if(3===t.length)return`var(--wp--preset--${t[1]}--${t[2]})`}return e},i=i=>{const r=i.clientId;if(b(i)&&g[r])return(0,t.createElement)(d.RawHTML,{key:r},g[r]);if(b(i)&&y.has(r))return console.log("hasDynamicBlocks",r),(0,t.createElement)("div",{className:"ditty-display__item ditty-display__item--loading"},(0,t.createElement)("div",{className:"ditty-display__item__elements"},"Loading..."));const o=i?.attributes||{},s=o.style||{},a=["wp-block-ditty-display-item","ditty-display__item"];o.className&&a.push(o.className),o.backgroundColor&&a.push(`has-${o.backgroundColor}-background-color`,"has-background"),o.textColor&&a.push(`has-${o.textColor}-color`,"has-text-color"),o.fontSize&&a.push(`has-${o.fontSize}-font-size`);const l={},c=s?.spacing?.padding;c&&(c.top&&(l.paddingTop=e(c.top)),c.right&&(l.paddingRight=e(c.right)),c.bottom&&(l.paddingBottom=e(c.bottom)),c.left&&(l.paddingLeft=e(c.left)));const u=s?.border?.radius;u&&("string"==typeof u||"number"==typeof u?l.borderRadius=e(u):(u.topLeft&&(l.borderTopLeftRadius=e(u.topLeft)),u.topRight&&(l.borderTopRightRadius=e(u.topRight)),u.bottomRight&&(l.borderBottomRightRadius=e(u.bottomRight)),u.bottomLeft&&(l.borderBottomLeftRadius=e(u.bottomLeft)))),s?.color?.background&&(l.backgroundColor=e(s.color.background)),s?.color?.text&&(l.color=e(s.color.text));const h=(0,n.serialize)(i?.innerBlocks||[]);return(0,t.createElement)("div",{className:a.join(" "),style:l},(0,t.createElement)("div",{className:"ditty-display__item__elements"},(0,t.createElement)(d.RawHTML,null,h)))};return Array.isArray(p)&&p.length?p.map(e=>({key:e.clientId,node:i(e),innerLen:(0,n.serialize)(e?.innerBlocks||[]).length})):[]},[p,g,y]),{splideOptions:_,splideOptionsKey:x}=(0,d.useMemo)(()=>{const e=function(e){const{sliderLoop:t=!0,sliderSpeed:n=400,sliderRewind:i=!1,sliderRewindSpeed:r=0,sliderRewindByDrag:o=!1,sliderHeight:s="",sliderFixedWidth:a="",sliderFixedHeight:l="",sliderHeightRatio:c=0,sliderAutoWidth:d=!1,sliderAutoHeight:u=!1,sliderStart:h=0,sliderPerPage:p=1,sliderPerMove:f=0,sliderFocus:m="",sliderArrows:g=!0,sliderPagination:v=!0,sliderPaginationDirection:y="",sliderEasing:w="cubic-bezier(0.25, 1, 0.5, 1)",sliderDrag:b="true",sliderSnap:k=!1,sliderAutoplay:_=!0,sliderInterval:x=3e3,sliderPauseOnHover:E=!0,sliderPauseOnFocus:S=!0,sliderResetProgress:C=!0,sliderDirection:I="ltr",sliderUpdateOnMove:P=!1}=e,B=e=>{if("string"==typeof e&&e.startsWith("var:preset|")){const t=e.split("|");if(3===t.length)return`var(--wp--preset--${t[1]}--${t[2]})`}return e},H={gap:B(e?.style?.spacing?.blockGap)||"25px"};return i?(H.type="slide",H.rewind=!0):H.type=!1!==t?"loop":"slide",void 0!==n&&(H.speed=parseInt(n,10)),r&&(H.rewindSpeed=parseInt(r,10)),void 0!==o&&(H.rewindByDrag=Boolean(o)),s&&(H.height=B(s)),a&&(H.fixedWidth=B(a)),l&&(H.fixedHeight=B(l)),c&&(H.heightRatio=parseFloat(c)),H.autoWidth=!0===d,H.autoHeight=!0===u,void 0!==h&&(H.start=parseInt(h,10)),void 0!==p&&(H.perPage=parseInt(p,10)),f&&(H.perMove=parseInt(f,10)),m&&(H.focus="center"===m?"center":parseInt(m,10)),H.arrows=!1!==g,H.pagination=!1!==v,y&&(H.paginationDirection=y),I&&(H.direction=I),w&&(H.easing=w),void 0!==P&&(H.updateOnMove=Boolean(P)),void 0!==b&&(H.drag="false"!==b&&("free"!==b||"free")),void 0!==k&&(H.snap=Boolean(k)),H.autoplay=!1!==_,void 0!==x&&(H.interval=parseInt(x,10)),H.pauseOnHover=!1!==E,H.pauseOnFocus=!1!==S,H.resetProgress=!1!==C,H}(s);return{splideOptions:e,splideOptionsKey:JSON.stringify(e)}},[s]),E=(0,d.useMemo)(()=>k.map(e=>`${e.key}:${e.innerLen}`).join("|"),[k]);return(0,d.useEffect)(()=>{if(l.current){if(c.current)c.current.options=_,c.current.refresh();else{const e=new an(l.current,_);e.mount(),c.current=e}return()=>{c.current&&(c.current.destroy(),c.current=null)}}},[x,E]),(0,t.createElement)("div",{...h,ref:e=>{l.current=e,u&&("function"==typeof u?u(e):void 0!==u?.current&&(u.current=e))},className:`${h.className||""} splide`.trim(),draggable:!1,onDragStart:e=>e.preventDefault()},(0,t.createElement)("div",{className:"splide__track"},(0,t.createElement)("ul",{className:"splide__list"},k.map((e,n)=>(0,t.createElement)("li",{key:e.key||n,className:"splide__slide"},e.node)))))}an.defaults={},an.STATES={CREATED:1,MOUNTED:2,IDLE:3,MOVING:4,SCROLLING:5,DRAGGING:6,DESTROYED:7};const cn={direction:"left",speed:10,spacing:25,hoverPause:!1,cloneItems:!0,scrollPercent:.13};class dn{constructor(e,t={}){this.element=e,this.config={...cn,...t},this.itemsContainer=e.querySelector(".ditty-display__items"),this.originalItems=[],this.activeItems=[],this.running=!1,this.paused=!1,this.isVisible=!0,this.animationId=null,this.scrollIncrement=0,this.nextItemIndex=0,this.currentItem=null,this.currentHeight=0,this.visibilityObserver=null,this.mutationObserver=null,this._tick=this._tick.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this),this._init()}_init(){if(!this.itemsContainer)return void console.warn("DittyTicker: No items container found");this.config.spacing<0&&(this.config.spacing=0);const e=this.itemsContainer.querySelectorAll(".ditty-display__item");this.originalItems=Array.from(e).map(e=>({element:e,html:e.outerHTML})),0!==this.originalItems.length?(this._applySpacing(),this._updateContainerHeight(),this._setupEventListeners(),this._initVisibilityObserver(),this.element.classList.add("ditty-display--initialized"),this._startInitialItems()):console.warn("DittyTicker: No items found")}_updateContainerHeight(){if(this._isVertical())return void(this.currentHeight=this.itemsContainer.offsetHeight);let e=0;this.originalItems.forEach(({element:t})=>{const n=t.style.visibility,i=t.style.position;t.style.visibility="hidden",t.style.position="absolute";const r=t.offsetHeight;r>e&&(e=r),t.style.visibility=n,t.style.position=i}),e>0&&(this.itemsContainer.style.height=`${e}px`,this.currentHeight=e)}_applySpacing(){const e=(parseInt(this.config.spacing,10)||0)/2;this.originalItems.forEach(({element:t})=>{"left"===this.config.direction||"right"===this.config.direction?(t.style.paddingLeft=`${e}px`,t.style.paddingRight=`${e}px`):this._isVertical()&&(t.style.paddingTop=`${e}px`,t.style.paddingBottom=`${e}px`)})}_isVertical(){return"up"===this.config.direction||"down"===this.config.direction}_setupEventListeners(){this.config.hoverPause&&(this.element.addEventListener("mouseenter",this._onMouseEnter),this.element.addEventListener("mouseleave",this._onMouseLeave))}_onMouseEnter(){this.config.hoverPause&&this.running&&(this.stop(),this.paused=!0)}_onMouseLeave(){this.config.hoverPause&&this.paused&&(this.paused=!1,this.start())}_initVisibilityObserver(){"undefined"!=typeof IntersectionObserver&&(this.visibilityObserver=new IntersectionObserver(e=>{e.forEach(e=>{const t=this.isVisible;this.isVisible=e.isIntersecting,t!==this.isVisible&&(this.isVisible&&!this.paused?this.start():!this.isVisible&&this.running&&this.stop())})},{threshold:.01}),this.visibilityObserver.observe(this.element))}_startInitialItems(){this.activeItems=[],this._initializeItem(0),this.isVisible&&this.start()}_initializeItem(e){const t=e%this.originalItems.length,n=this.originalItems[t];if(!n)return null;const i=n.element.cloneNode(!0);i.classList.add("ditty-display__item--active"),e>=this.originalItems.length&&i.classList.add("ditty-display__item--clone");const r=i.getAttribute("style")||"",o=(parseInt(this.config.spacing,10)||0)/2,s=[];r&&s.push(r.replace(/;$/,"")),this._isVertical()?(s.push(`padding-top:${o}px`),s.push(`padding-bottom:${o}px`)):(s.push(`padding-left:${o}px`),s.push(`padding-right:${o}px`)),s.push("position:absolute"),s.push("top:0"),s.push("left:0"),i.setAttribute("style",s.join(";")),this.itemsContainer.appendChild(i);const a=i.offsetHeight;a>this.currentHeight&&(this.currentHeight=a,this.itemsContainer.style.height=`${a}px`);const l=this._getResetPosition(i),c={element:i,posX:l.posX,posY:l.posY,index:e};return this._setTransform(i,l),this.activeItems.push(c),this.currentItem=c,this.nextItemIndex=e+1,c}_getResetPosition(e){const t=this.itemsContainer.offsetWidth,n=e.offsetWidth,i=this.itemsContainer.offsetHeight,r=e.offsetHeight;let o=0,s=0;switch(this.config.direction){case"left":o=t;break;case"right":o=-n;break;case"up":s=i;break;case"down":s=-r}return{posX:o,posY:s}}_setTransform(e,t){const n=0!==t.posX?`${t.posX}px`:"0",i=0!==t.posY?`${t.posY}px`:"0";e.style.transform=`translate(${n}, ${i})`}_calculatePosition(e){let t=e.posX,n=e.posY;switch(this.config.direction){case"left":t=parseFloat(e.posX)-this.scrollIncrement;break;case"right":t=parseFloat(e.posX)+this.scrollIncrement;break;case"up":n=parseFloat(e.posY)-this.scrollIncrement;break;case"down":n=parseFloat(e.posY)+this.scrollIncrement}return{posX:t,posY:n}}_shouldAddNewItem(e){if(e!==this.currentItem)return!1;const t=this.itemsContainer.offsetWidth,n=e.element.offsetWidth,i=this.itemsContainer.offsetHeight,r=e.element.offsetHeight;switch(this.config.direction){case"left":return e.posX<=t-n;case"right":return e.posX>=0;case"up":return e.posY<=i-r;case"down":return e.posY>=0}return!1}_shouldTerminate(e){const t=this.itemsContainer.offsetWidth,n=e.element.offsetWidth,i=this.itemsContainer.offsetHeight,r=e.element.offsetHeight;switch(this.config.direction){case"left":return e.posX<-n;case"right":return e.posX>t;case"up":return e.posY<-r;case"down":return e.posY>i}return!1}_terminateItem(e){const t=this.activeItems[e];t&&t.element&&t.element.remove(),this.activeItems.splice(e,1)}_positionItems(){0===this.activeItems.length&&this._initializeItem(0);for(let e=this.activeItems.length-1;e>=0;e--){const t=this.activeItems[e];if(!t)continue;const n=this._calculatePosition(t);t.posX=n.posX,t.posY=n.posY,this._setTransform(t.element,n),this._shouldAddNewItem(t)&&(this.config.cloneItems||this.nextItemIndex<this.originalItems.length)&&this._initializeItem(this.nextItemIndex),this._shouldTerminate(t)&&this._terminateItem(e)}}_tick(){this.running&&!this.paused&&this.isVisible&&(this.scrollIncrement=parseFloat(this.config.speed)*this.config.scrollPercent,this._positionItems(),this.animationId=requestAnimationFrame(this._tick))}start(){this.running||this.paused||this.isVisible&&(this.running=!0,this.animationId&&cancelAnimationFrame(this.animationId),this.animationId=requestAnimationFrame(this._tick),this.element.dispatchEvent(new CustomEvent("dittyTickerStart")))}stop(){this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null),this.running=!1,this.element.dispatchEvent(new CustomEvent("dittyTickerStop"))}pause(){this.paused=!0,this.stop()}resume(){this.paused=!1,this.start()}toggle(){this.running?this.pause():this.resume()}destroy(){this.stop(),this.element.removeEventListener("mouseenter",this._onMouseEnter),this.element.removeEventListener("mouseleave",this._onMouseLeave),this.visibilityObserver&&this.visibilityObserver.disconnect(),this.mutationObserver&&this.mutationObserver.disconnect(),this.activeItems.forEach(e=>{e.element&&e.element.classList.contains("ditty-display__item--clone")&&e.element.remove()}),this.activeItems=[],this.element.classList.remove("ditty-display--initialized")}}function un({blockProps:e,innerBlocksProps:o,attributes:s,clientId:a}){const l=(0,d.useRef)(null),c=(0,d.useRef)(null),{ref:u,...h}=e||{},p=(0,i.useSelect)(e=>{const{getBlocks:t}=e(r.store);return t(a)},[a]),g=(0,d.useMemo)(()=>function(e){const{direction:t="left",speed:n=10,hoverPause:i=!1,cloneItems:r=!0}=e;let o=25;const s=e?.style?.spacing?.blockGap;if(s&&"string"==typeof s)if(s.startsWith("var:preset|"))o=25;else{const e=parseInt(s,10);isNaN(e)||(o=e)}return{direction:t,speed:parseInt(n,10),spacing:o,hoverPause:Boolean(i),cloneItems:Boolean(r)}}(s),[s.direction,s.speed,s.hoverPause,s.cloneItems,s?.style?.spacing?.blockGap]),v=JSON.stringify(g),[y,w]=(0,d.useState)({}),[b,k]=(0,d.useState)(new Set),_=e=>!!e&&(!!["ditty/posts-feed"].includes(e.name)||!!(e.innerBlocks&&e.innerBlocks.length>0)&&e.innerBlocks.some(e=>_(e)));(0,d.useEffect)(()=>{p&&0!==p.length&&p.forEach(e=>{_(e)&&(async e=>{const t=e.clientId,n=e?.innerBlocks?.[0];if(n&&!b.has(t)&&!y[t]){k(e=>new Set(e).add(t));try{const e=(0,m.addQueryArgs)(`/wp/v2/block-renderer/${n.name}`,{context:"edit"}),i=await f()({path:e,method:"POST",data:{attributes:n.attributes||{}}});i&&i.rendered&&w(e=>({...e,[t]:i.rendered}))}catch(e){console.error("Error rendering block:",e)}finally{k(e=>{const n=new Set(e);return n.delete(t),n})}}})(e)})},[p]);const x=(0,d.useMemo)(()=>{const e=e=>{if("string"==typeof e&&e.startsWith("var:preset|")){const t=e.split("|");if(3===t.length)return`var(--wp--preset--${t[1]}--${t[2]})`}return e},i=(i,r)=>{const o=i.clientId;if(_(i)&&y[o])return(0,t.createElement)(d.RawHTML,{key:r},y[o]);if(_(i)&&b.has(o))return(0,t.createElement)("div",{key:r,className:"ditty-display__item ditty-display__item--loading"},(0,t.createElement)("div",{className:"ditty-display__item__elements"},"Loading..."));const a=i?.attributes||{},l=a.style||{},c=["wp-block-ditty-display-item","ditty-display__item"];a.className&&c.push(a.className),a.backgroundColor&&c.push(`has-${a.backgroundColor}-background-color`,"has-background"),a.textColor&&c.push(`has-${a.textColor}-color`,"has-text-color"),a.fontSize&&c.push(`has-${a.fontSize}-font-size`);const u={},h=l?.spacing?.padding;h&&(h.top&&(u.paddingTop=e(h.top)),h.right&&(u.paddingRight=e(h.right)),h.bottom&&(u.paddingBottom=e(h.bottom)),h.left&&(u.paddingLeft=e(h.left)));const p=l?.border?.radius;p&&("string"==typeof p||"number"==typeof p?u.borderRadius=e(p):(p.topLeft&&(u.borderTopLeftRadius=e(p.topLeft)),p.topRight&&(u.borderTopRightRadius=e(p.topRight)),p.bottomRight&&(u.borderBottomRightRadius=e(p.bottomRight)),p.bottomLeft&&(u.borderBottomLeftRadius=e(p.bottomLeft)))),l?.color?.background&&(u.backgroundColor=e(l.color.background)),l?.color?.text&&(u.color=e(l.color.text));const f=s?.itemMaxWidth||"",m=s?.itemElementsWrap||"nowrap",g={};f&&(g.maxWidth=e(f)),"nowrap"===m&&(g.whiteSpace="nowrap");const v=(0,n.serialize)(i?.innerBlocks||[]);return(0,t.createElement)("div",{key:r,className:c.join(" "),style:u},(0,t.createElement)("div",{className:"ditty-display__item__elements",style:g},(0,t.createElement)(d.RawHTML,null,v)))};return Array.isArray(p)&&p.length?p.map(e=>({key:e.clientId,node:i(e,e.clientId),innerLen:(0,n.serialize)(e?.innerBlocks||[]).length})):[]},[s?.itemElementsWrap,s?.itemMaxWidth,p,y,b]),E=JSON.stringify(x.map(e=>({key:e.key,innerLen:e.innerLen}))),S={},C={};return("up"===s.direction||"down"===s.direction)&&(s.fillHeight&&(S.flexDirection="column",S.flex="1",S.height="100%",C.flexDirection="column",C.flex="1",C.height="100%"),s.minHeight&&(S.minHeight=s.minHeight,C.minHeight=s.minHeight)),(0,d.useEffect)(()=>{if(l.current){c.current&&(c.current.destroy(),c.current=null);try{const e=new dn(l.current,g);c.current=e}catch(e){console.warn("DittyTicker initialization failed:",e)}return()=>{c.current&&(c.current.destroy(),c.current=null)}}},[v,E]),(0,t.createElement)("div",{...h,ref:e=>{l.current=e,u&&("function"==typeof u?u(e):void 0!==u?.current&&(u.current=e))},className:`${h.className||""} ditty-display ditty-type-ticker`.trim()},(0,t.createElement)("div",{className:"ditty-display__contents",style:S},(0,t.createElement)("div",{className:"ditty-display__items",style:C},x.map((e,t)=>e.node))))}const{__}=wp.i18n,hn=[["ditty/display-item"],["ditty/display-item"],["ditty/display-item"]],pn=JSON.parse('{"UU":"ditty/display"}'),fn=(0,t.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},(0,t.createElement)(o.Path,{d:"M4 20h28v8H4v-8zm32 4l8-6v12l-8-6z"})),mn=(0,t.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},(0,t.createElement)(o.Path,{d:"M10 12h28v24H10V12zM2 18h6v12H2V18zm38 0h6v12h-6V18z"})),gn=[{name:"ticker",title:(0,c.__)("Ticker","ditty-news-ticker"),description:(0,c.__)("A continuously scrolling ticker display.","ditty-news-ticker"),attributes:{type:"ticker",style:{spacing:{blockGap:"25px"}}},isDefault:!0,scope:["block","inserter","transform"],isActive:e=>"ticker"===e.type,icon:fn,innerBlocks:[["ditty/display-item"],["ditty/display-item"],["ditty/display-item"]]},{name:"slider",title:(0,c.__)("Slider","ditty-news-ticker"),description:(0,c.__)("A slider/carousel display.","ditty-news-ticker"),attributes:{type:"slider",style:{spacing:{blockGap:"25px"}}},scope:["block","inserter","transform"],isActive:e=>"slider"===e.type,icon:mn,innerBlocks:[["ditty/display-item"],["ditty/display-item"],["ditty/display-item"]]}],vn=(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},(0,t.createElement)("path",{d:"M4 6h16v2H4V6zm0 5h16v2H4v-2zm0 5h16v2H4v-2z"}));(0,n.registerBlockType)(pn.UU,{icon:vn,variations:gn,edit:function({attributes:e,setAttributes:n,clientId:s,name:c}){const{type:u,direction:p,speed:f,hoverPause:m,cloneItems:g,itemMaxWidth:v,itemElementsWrap:y,minHeight:w,fillHeight:b,editMode:k="edit",sliderLoop:_,sliderSpeed:x,sliderRewind:E,sliderRewindSpeed:S,sliderRewindByDrag:C,sliderHeight:I,sliderFixedWidth:P,sliderFixedHeight:B,sliderHeightRatio:H,sliderAutoWidth:M,sliderAutoHeight:L,sliderStart:N,sliderPerPage:R,sliderPerMove:D,sliderFocus:z,sliderArrows:A,sliderPagination:T,sliderPaginationDirection:O,sliderEasing:F,sliderDrag:W,sliderSnap:$,sliderAutoplay:V,sliderInterval:X,sliderPauseOnHover:j,sliderPauseOnFocus:Y,sliderResetProgress:G,sliderDirection:U,sliderUpdateOnMove:q}=e,{hasInnerBlocks:J}=(0,i.useSelect)(e=>{const{getBlocks:t}=e(r.store);return{hasInnerBlocks:t(s).length>0}},[s]),K={};"ticker"===u&&("up"===p||"down"===p)&&(b&&(K.flexDirection="column",K.flex="1",K.height="100%"),w&&(K.minHeight=w));const Q=(0,r.useBlockProps)({className:`ditty-display-editor ditty-display-type-${u}`,style:K}),[Z,ee]=function({attributes:e={},hasInnerBlocks:t=!1}){const{style:n,backgroundColor:i,textColor:r}=e,[o,s]=(0,d.useState)(!(t||i||r||n));return(0,d.useEffect)(()=>{(t||i||r||n)&&s(!1)},[i,r,n,t]),[o,s]}({attributes:e,hasInnerBlocks:J}),te=(0,r.useInnerBlocksProps)(Q,{allowedBlocks:["ditty/display-item","ditty/display-posts-feed"],template:hn,templateLock:!1,renderAppender:r.InnerBlocks.ButtonBlockAppender}),{selectBlock:ne}=(0,i.useDispatch)(r.store);return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(r.BlockControls,null,(0,t.createElement)(o.ToolbarGroup,null,(0,t.createElement)(o.ToolbarButton,{icon:"edit"===k?"visibility":"edit",label:__("edit"===k?"Switch to Preview":"Switch to Edit","ditty-news-ticker"),onClick:()=>{n({editMode:"edit"===k?"preview":"edit"})},isPressed:"preview"===k}))),(0,t.createElement)(r.InspectorControls,null,(0,t.createElement)(o.PanelBody,{title:__("Display Settings","ditty-news-ticker"),initialOpen:!0},(0,t.createElement)(o.SelectControl,{__next40pxDefaultSize:!0,label:__("Direction","ditty-news-ticker"),value:p,options:"ticker"===u?[{label:__("Left","ditty-news-ticker"),value:"left"},{label:__("Right","ditty-news-ticker"),value:"right"},{label:__("Up","ditty-news-ticker"),value:"up"},{label:__("Down","ditty-news-ticker"),value:"down"}]:[{label:__("Left","ditty-news-ticker"),value:"left"},{label:__("Right","ditty-news-ticker"),value:"right"}],onChange:e=>n({direction:e}),__nextHasNoMarginBottom:!0}),(0,t.createElement)(o.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Speed","ditty-news-ticker"),value:f,onChange:e=>n({speed:e}),min:1,max:100}),(0,t.createElement)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Pause on Hover","ditty-news-ticker"),checked:m,onChange:e=>n({hoverPause:e})}),"ticker"===u&&(0,t.createElement)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Clone Items","ditty-news-ticker"),help:__("Clone items for seamless looping","ditty-news-ticker"),checked:g,onChange:e=>n({cloneItems:e})}),"ticker"===u&&("up"===p||"down"===p)&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Fill Parent Height","ditty-news-ticker"),help:__("Stretch ticker to match parent container height","ditty-news-ticker"),checked:b,onChange:e=>n({fillHeight:e})}),(0,t.createElement)(o.__experimentalUnitControl,{label:__("Min Height","ditty-news-ticker"),value:w,onChange:e=>n({minHeight:e})}))),"ticker"===u&&(0,t.createElement)(o.PanelBody,{title:__("Item Settings","ditty-news-ticker"),initialOpen:!1},(0,t.createElement)(o.__experimentalUnitControl,{label:__("Max Width","ditty-news-ticker"),value:v,onChange:e=>n({itemMaxWidth:e})}),(0,t.createElement)(o.SelectControl,{__next40pxDefaultSize:!0,label:__("Text Wrap","ditty-news-ticker"),value:y,options:[{label:__("No Wrap","ditty-news-ticker"),value:"nowrap"},{label:__("Wrap","ditty-news-ticker"),value:"wrap"}],onChange:e=>n({itemElementsWrap:e})})),"slider"===u&&(0,t.createElement)(o.PanelBody,{title:__("Slider Layout","ditty-news-ticker"),initialOpen:!1},(0,t.createElement)(o.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Slides Per Page","ditty-news-ticker"),help:__("Number of slides to display at once","ditty-news-ticker"),value:R,onChange:e=>n({sliderPerPage:e}),min:1,max:10}),(0,t.createElement)(o.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Slides Per Move","ditty-news-ticker"),help:__("Number of slides to move at once (0 = same as per page)","ditty-news-ticker"),value:D,onChange:e=>n({sliderPerMove:e}),min:0,max:10}),(0,t.createElement)(o.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Start Index","ditty-news-ticker"),help:__("The initial slide index to display","ditty-news-ticker"),value:N,onChange:e=>n({sliderStart:e}),min:0,max:20}),(0,t.createElement)(o.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Focus","ditty-news-ticker"),help:__("Which slide should be active when multiple slides are shown","ditty-news-ticker"),value:z,options:[{label:__("Default","ditty-news-ticker"),value:""},{label:__("Center","ditty-news-ticker"),value:"center"},{label:__("Index 0","ditty-news-ticker"),value:"0"},{label:__("Index 1","ditty-news-ticker"),value:"1"},{label:__("Index 2","ditty-news-ticker"),value:"2"}],onChange:e=>n({sliderFocus:e})}),(0,t.createElement)(o.__experimentalUnitControl,{label:__("Height","ditty-news-ticker"),help:__("Defines the slider height (CSS format)","ditty-news-ticker"),value:I,onChange:e=>n({sliderHeight:e})}),(0,t.createElement)(o.__experimentalUnitControl,{label:__("Fixed Width","ditty-news-ticker"),help:__("Fixes width of slides (CSS format)","ditty-news-ticker"),value:P,onChange:e=>n({sliderFixedWidth:e})}),(0,t.createElement)(o.__experimentalUnitControl,{label:__("Fixed Height","ditty-news-ticker"),help:__("Fixes height of slides (CSS format)","ditty-news-ticker"),value:B,onChange:e=>n({sliderFixedHeight:e})}),(0,t.createElement)(o.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Height Ratio","ditty-news-ticker"),help:__("Height by ratio to slider width (e.g., 0.5 = 50% height)","ditty-news-ticker"),type:"number",value:H,onChange:e=>n({sliderHeightRatio:parseFloat(e)||0}),min:0,max:2,step:.1}),(0,t.createElement)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Auto Width","ditty-news-ticker"),help:__("Width determined by slide content","ditty-news-ticker"),checked:M,onChange:e=>n({sliderAutoWidth:e})}),(0,t.createElement)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Auto Height","ditty-news-ticker"),help:__("Height determined by slide content","ditty-news-ticker"),checked:L,onChange:e=>n({sliderAutoHeight:e})})),"slider"===u&&(0,t.createElement)(o.PanelBody,{title:__("Slider Navigation","ditty-news-ticker"),initialOpen:!1},(0,t.createElement)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Loop","ditty-news-ticker"),help:__("Enable continuous loop mode","ditty-news-ticker"),checked:_,onChange:e=>n({sliderLoop:e})}),(0,t.createElement)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Rewind","ditty-news-ticker"),help:__("Rewind to start/end instead of looping","ditty-news-ticker"),checked:E,onChange:e=>n({sliderRewind:e})}),E&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(o.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Rewind Speed (ms)","ditty-news-ticker"),help:__("Transition speed for rewind (0 = use main speed)","ditty-news-ticker"),value:S,onChange:e=>n({sliderRewindSpeed:e}),min:0,max:2e3,step:100}),(0,t.createElement)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Rewind By Drag","ditty-news-ticker"),help:__("Allow rewind by dragging","ditty-news-ticker"),checked:C,onChange:e=>n({sliderRewindByDrag:e})})),(0,t.createElement)(o.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Direction","ditty-news-ticker"),value:U,options:[{label:__("Left to Right","ditty-news-ticker"),value:"ltr"},{label:__("Right to Left","ditty-news-ticker"),value:"rtl"},{label:__("Top to Bottom","ditty-news-ticker"),value:"ttb"}],onChange:e=>n({sliderDirection:e})}),(0,t.createElement)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Show Arrows","ditty-news-ticker"),checked:A,onChange:e=>n({sliderArrows:e})}),(0,t.createElement)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Show Pagination","ditty-news-ticker"),checked:T,onChange:e=>n({sliderPagination:e})}),T&&(0,t.createElement)(o.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Pagination Direction","ditty-news-ticker"),help:__("Override pagination direction (leave empty for auto)","ditty-news-ticker"),value:O,options:[{label:__("Auto","ditty-news-ticker"),value:""},{label:__("Left to Right","ditty-news-ticker"),value:"ltr"},{label:__("Right to Left","ditty-news-ticker"),value:"rtl"},{label:__("Top to Bottom","ditty-news-ticker"),value:"ttb"}],onChange:e=>n({sliderPaginationDirection:e})})),"slider"===u&&(0,t.createElement)(o.PanelBody,{title:__("Slider Animation","ditty-news-ticker"),initialOpen:!1},(0,t.createElement)(o.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Transition Speed (ms)","ditty-news-ticker"),help:__("Speed of slide transitions in milliseconds","ditty-news-ticker"),value:x,onChange:e=>n({sliderSpeed:e}),min:0,max:2e3,step:100}),(0,t.createElement)(o.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Easing Function","ditty-news-ticker"),help:__("CSS timing function (e.g., ease, linear, cubic-bezier)","ditty-news-ticker"),value:F,onChange:e=>n({sliderEasing:e})}),(0,t.createElement)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Update on Move","ditty-news-ticker"),help:__("Update active status before transition completes","ditty-news-ticker"),checked:q,onChange:e=>n({sliderUpdateOnMove:e})})),"slider"===u&&(0,t.createElement)(o.PanelBody,{title:__("Slider Interaction","ditty-news-ticker"),initialOpen:!1},(0,t.createElement)(o.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Drag","ditty-news-ticker"),help:__("Enable dragging to navigate slides","ditty-news-ticker"),value:W,options:[{label:__("Enabled","ditty-news-ticker"),value:"true"},{label:__("Disabled","ditty-news-ticker"),value:"false"},{label:__("Free Drag","ditty-news-ticker"),value:"free"}],onChange:e=>n({sliderDrag:e})}),"free"===W&&(0,t.createElement)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Snap","ditty-news-ticker"),help:__("Snap to closest slide in free drag mode","ditty-news-ticker"),checked:$,onChange:e=>n({sliderSnap:e})})),"slider"===u&&(0,t.createElement)(o.PanelBody,{title:__("Slider Autoplay","ditty-news-ticker"),initialOpen:!1},(0,t.createElement)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Enable Autoplay","ditty-news-ticker"),checked:V,onChange:e=>n({sliderAutoplay:e})}),V&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(o.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Interval (ms)","ditty-news-ticker"),help:__("Time between automatic slide transitions","ditty-news-ticker"),value:X,onChange:e=>n({sliderInterval:e}),min:500,max:1e4,step:500}),(0,t.createElement)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Pause on Hover","ditty-news-ticker"),checked:j,onChange:e=>n({sliderPauseOnHover:e})}),(0,t.createElement)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Pause on Focus","ditty-news-ticker"),help:__("Pause when slider contains focused element","ditty-news-ticker"),checked:Y,onChange:e=>n({sliderPauseOnFocus:e})}),(0,t.createElement)(o.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Reset Progress","ditty-news-ticker"),help:__("Reset progress when autoplay restarts","ditty-news-ticker"),checked:G,onChange:e=>n({sliderResetProgress:e})})))),"preview"===k?"slider"===u?(0,t.createElement)(ln,{blockProps:Q,innerBlocksProps:te,attributes:e,clientId:s}):"ticker"===u?(0,t.createElement)(un,{blockProps:Q,innerBlocksProps:te,attributes:e,clientId:s}):(0,t.createElement)("div",{...Q},(0,t.createElement)(a(),{block:c,attributes:e})):(0,t.createElement)(t.Fragment,null,Z&&(0,t.createElement)(l.View,null,te.children,(0,t.createElement)(h,{name:c,onSelect:e=>{n(e.attributes),ne(s,-1),ee(!1)}})),!Z&&(0,t.createElement)("div",{...te})))},save:function(){return(0,t.createElement)(r.InnerBlocks.Content,null)}})})();