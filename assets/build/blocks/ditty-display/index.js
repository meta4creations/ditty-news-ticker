(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,n=window.wp.blocks,i=window.wp.data,o=window.wp.blockEditor,r=window.wp.components,a=window.wp.serverSideRender;var s=e.n(a);const l=window.wp.primitives,c=window.wp.i18n,u=window.wp.element,d=(e="ticker")=>{const n={ticker:(0,t.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},(0,t.createElement)(r.Path,{d:"M4 20h28v8H4v-8zm32 4l8-6v12l-8-6z"})),carousel:(0,t.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},(0,t.createElement)(r.Path,{d:"M10 12h28v24H10V12zM2 18h6v12H2V18zm38 0h6v12h-6V18z"}))};return n?.[e]},f=function({name:e,onSelect:a}){const s=(0,i.useSelect)(t=>t(n.store).getBlockVariations(e,"block"),[e]),l=(0,o.useBlockProps)({className:"wp-block-metaphorcreations-ditty-display__placeholder"});return(0,u.useEffect)(()=>{s&&1===s.length&&a(s[0])},[a,s]),(0,t.createElement)("div",{...l},(0,t.createElement)(r.Placeholder,{instructions:(0,c.__)("Create a dynamic display. Select a layout:","ditty-news-ticker")},(0,t.createElement)("ul",{role:"list",className:"wp-block-metaphorcreations-ditty-display__variations","aria-label":(0,c.__)("Block variations","ditty-news-ticker")},s.map(e=>(0,t.createElement)("li",{key:e.name},(0,t.createElement)(r.Button,{__next40pxDefaultSize:!0,variant:"tertiary",icon:d(e.name),iconSize:48,onClick:()=>a(e),className:"wp-block-metaphorcreations-ditty-display__variation-button",label:`${e.title}: ${e.description}`}))))))};function p(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var g="(prefers-reduced-motion: reduce)";function h(e){e.length=0}function m(e,t,n){return Array.prototype.slice.call(e,t,n)}function v(e){return e.bind.apply(e,[null].concat(m(arguments,1)))}var y=setTimeout,w=function(){};function b(e){return requestAnimationFrame(e)}function k(e,t){return typeof t===e}function x(e){return!P(e)&&k("object",e)}var E=Array.isArray,_=v(k,"function"),C=v(k,"string"),S=v(k,"undefined");function P(e){return null===e}function B(e){try{return e instanceof(e.ownerDocument.defaultView||window).HTMLElement}catch(e){return!1}}function M(e){return E(e)?e:[e]}function H(e,t){M(e).forEach(t)}function D(e,t){return e.indexOf(t)>-1}function N(e,t){return e.push.apply(e,M(t)),e}function R(e,t,n){e&&H(t,function(t){t&&e.classList[n?"add":"remove"](t)})}function z(e,t){R(e,C(t)?t.split(" "):t,!0)}function L(e,t){H(t,e.appendChild.bind(e))}function A(e,t){H(e,function(e){var n=(t||e).parentNode;n&&n.insertBefore(e,t)})}function T(e,t){return B(e)&&(e.msMatchesSelector||e.matches).call(e,t)}function I(e,t){var n=e?m(e.children):[];return t?n.filter(function(e){return T(e,t)}):n}function O(e,t){return t?I(e,t)[0]:e.firstElementChild}var F=Object.keys;function W(e,t,n){return e&&(n?F(e).reverse():F(e)).forEach(function(n){"__proto__"!==n&&t(e[n],n)}),e}function U(e){return m(arguments,1).forEach(function(t){W(t,function(n,i){e[i]=t[i]})}),e}function j(e){return m(arguments,1).forEach(function(t){W(t,function(t,n){E(t)?e[n]=t.slice():x(t)?e[n]=j({},x(e[n])?e[n]:{},t):e[n]=t})}),e}function G(e,t){H(t||F(e),function(t){delete e[t]})}function V(e,t){H(e,function(e){H(t,function(t){e&&e.removeAttribute(t)})})}function $(e,t,n){x(t)?W(t,function(t,n){$(e,n,t)}):H(e,function(e){P(n)||""===n?V(e,t):e.setAttribute(t,String(n))})}function X(e,t,n){var i=document.createElement(e);return t&&(C(t)?z(i,t):$(i,t)),n&&L(n,i),i}function K(e,t,n){if(S(n))return getComputedStyle(e)[t];P(n)||(e.style[t]=""+n)}function Y(e,t){K(e,"display",t)}function q(e){e.setActive&&e.setActive()||e.focus({preventScroll:!0})}function J(e,t){return e.getAttribute(t)}function Q(e,t){return e&&e.classList.contains(t)}function Z(e){return e.getBoundingClientRect()}function ee(e){H(e,function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})}function te(e){return O((new DOMParser).parseFromString(e,"text/html").body)}function ne(e,t){e.preventDefault(),t&&(e.stopPropagation(),e.stopImmediatePropagation())}function ie(e,t){return e&&e.querySelector(t)}function oe(e,t){return t?m(e.querySelectorAll(t)):[]}function re(e,t){R(e,t,!1)}function ae(e){return e.timeStamp}function se(e){return C(e)?e:e?e+"px":""}var le="splide",ce="data-"+le;function ue(e,t){if(!e)throw new Error("["+le+"] "+(t||""))}var de=Math.min,fe=Math.max,pe=Math.floor,ge=Math.ceil,he=Math.abs;function me(e,t,n){return he(e-t)<n}function ve(e,t,n,i){var o=de(t,n),r=fe(t,n);return i?o<e&&e<r:o<=e&&e<=r}function ye(e,t,n){var i=de(t,n),o=fe(t,n);return de(fe(i,e),o)}function we(e){return+(e>0)-+(e<0)}function be(e,t){return H(t,function(t){e=e.replace("%s",""+t)}),e}function ke(e){return e<10?"0"+e:""+e}var xe={};function Ee(){var e=[];function t(e,t,n){H(e,function(e){e&&H(t,function(t){t.split(" ").forEach(function(t){var i=t.split(".");n(e,i[0],i[1])})})})}return{bind:function(n,i,o,r){t(n,i,function(t,n,i){var a="addEventListener"in t,s=a?t.removeEventListener.bind(t,n,o,r):t.removeListener.bind(t,o);a?t.addEventListener(n,o,r):t.addListener(o),e.push([t,n,i,o,s])})},unbind:function(n,i,o){t(n,i,function(t,n,i){e=e.filter(function(e){return!!(e[0]!==t||e[1]!==n||e[2]!==i||o&&e[3]!==o)||(e[4](),!1)})})},dispatch:function(e,t,n){var i,o=!0;return"function"==typeof CustomEvent?i=new CustomEvent(t,{bubbles:o,detail:n}):(i=document.createEvent("CustomEvent")).initCustomEvent(t,o,!1,n),e.dispatchEvent(i),i},destroy:function(){e.forEach(function(e){e[4]()}),h(e)}}}var _e="mounted",Ce="ready",Se="move",Pe="moved",Be="click",Me="refresh",He="updated",De="resize",Ne="resized",Re="scroll",ze="scrolled",Le="destroy",Ae="navigation:mounted",Te="autoplay:play",Ie="autoplay:pause",Oe="lazyload:loaded",Fe="ei";function We(e){var t=e?e.event.bus:document.createDocumentFragment(),n=Ee();return e&&e.event.on(Le,n.destroy),U(n,{bus:t,on:function(e,i){n.bind(t,M(e).join(" "),function(e){i.apply(i,E(e.detail)?e.detail:[])})},off:v(n.unbind,t),emit:function(e){n.dispatch(t,e,m(arguments,1))}})}function Ue(e,t,n,i){var o,r,a=Date.now,s=0,l=!0,c=0;function u(){if(!l){if(s=e?de((a()-o)/e,1):1,n&&n(s),s>=1&&(t(),o=a(),i&&++c>=i))return d();r=b(u)}}function d(){l=!0}function f(){r&&cancelAnimationFrame(r),s=0,r=0,l=!0}return{start:function(t){t||f(),o=a()-(t?s*e:0),l=!1,r=b(u)},rewind:function(){o=a(),s=0,n&&n(s)},pause:d,cancel:f,set:function(t){e=t},isPaused:function(){return l}}}var je="Arrow",Ge=je+"Left",Ve=je+"Right",$e=je+"Up",Xe=je+"Down",Ke="ttb",Ye={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[$e,Ve],ArrowRight:[Xe,Ge]};var qe="role",Je="tabindex",Qe="aria-",Ze=Qe+"controls",et=Qe+"current",tt=Qe+"selected",nt=Qe+"label",it=Qe+"labelledby",ot=Qe+"hidden",rt=Qe+"orientation",at=Qe+"roledescription",st=Qe+"live",lt=Qe+"busy",ct=Qe+"atomic",ut=[qe,Je,"disabled",Ze,et,nt,it,ot,rt,at],dt=le+"__",ft="is-",pt=le,gt=dt+"track",ht=dt+"list",mt=dt+"slide",vt=mt+"--clone",yt=mt+"__container",wt=dt+"arrows",bt=dt+"arrow",kt=bt+"--prev",xt=bt+"--next",Et=dt+"pagination",_t=Et+"__page",Ct=dt+"progress__bar",St=dt+"toggle",Pt=dt+"sr",Bt=ft+"initialized",Mt=ft+"active",Ht=ft+"prev",Dt=ft+"next",Nt=ft+"visible",Rt=ft+"loading",zt=ft+"focus-in",Lt=ft+"overflow",At=[Mt,Nt,Ht,Dt,Rt,zt,Lt],Tt={slide:mt,clone:vt,arrows:wt,arrow:bt,prev:kt,next:xt,pagination:Et,page:_t,spinner:dt+"spinner"},It="touchstart mousedown",Ot="touchmove mousemove",Ft="touchend touchcancel mouseup click",Wt="slide",Ut="loop",jt="fade";var Gt=ce+"-interval",Vt={passive:!1,capture:!0},$t={Spacebar:" ",Right:Ve,Left:Ge,Up:$e,Down:Xe};function Xt(e){return e=C(e)?e:e.key,$t[e]||e}var Kt="keydown",Yt=ce+"-lazy",qt=Yt+"-srcset",Jt="["+Yt+"], ["+qt+"]",Qt=[" ","Enter"],Zt=Object.freeze({__proto__:null,Media:function(e,t,n){var i=e.state,o=n.breakpoints||{},r=n.reducedMotion||{},a=Ee(),s=[];function l(e){e&&a.destroy()}function c(e,t){var n=matchMedia(t);a.bind(n,"change",u),s.push([e,n])}function u(){var t=i.is(7),o=n.direction,r=s.reduce(function(e,t){return j(e,t[1].matches?t[0]:{})},{});G(n),d(r),n.destroy?e.destroy("completely"===n.destroy):t?(l(!0),e.mount()):o!==n.direction&&e.refresh()}function d(t,o,r){j(n,t),o&&j(Object.getPrototypeOf(n),t),!r&&i.is(1)||e.emit(He,n)}return{setup:function(){var e="min"===n.mediaQuery;F(o).sort(function(t,n){return e?+t-+n:+n-+t}).forEach(function(t){c(o[t],"("+(e?"min":"max")+"-width:"+t+"px)")}),c(r,g),u()},destroy:l,reduce:function(e){matchMedia(g).matches&&(e?j(n,r):G(n,F(r)))},set:d}},Direction:function(e,t,n){return{resolve:function(e,t,i){var o="rtl"!==(i=i||n.direction)||t?i===Ke?0:-1:1;return Ye[e]&&Ye[e][o]||e.replace(/width|left|right/i,function(e,t){var n=Ye[e.toLowerCase()][o]||e;return t>0?n.charAt(0).toUpperCase()+n.slice(1):n})},orient:function(e){return e*("rtl"===n.direction?1:-1)}}},Elements:function(e,t,n){var i,o,r,a=We(e),s=a.on,l=a.bind,c=e.root,u=n.i18n,d={},f=[],p=[],g=[];function m(){var e,t,r;i=w("."+gt),o=O(i,"."+ht),ue(i&&o,"A track/list element is missing."),N(f,I(o,"."+mt+":not(."+vt+")")),W({arrows:wt,pagination:Et,prev:kt,next:xt,bar:Ct,toggle:St},function(e,t){d[t]=w("."+e)}),U(d,{root:c,track:i,list:o,slides:f}),t=c.id||""+(e=le)+ke(xe[e]=(xe[e]||0)+1),r=n.role,c.id=t,i.id=i.id||t+"-track",o.id=o.id||t+"-list",!J(c,qe)&&"SECTION"!==c.tagName&&r&&$(c,qe,r),$(c,at,u.carousel),$(o,qe,"presentation"),y()}function v(e){var t=ut.concat("style");h(f),re(c,p),re(i,g),V([i,o],t),V(c,e?t:["style",at])}function y(){re(c,p),re(i,g),p=b(pt),g=b(gt),z(c,p),z(i,g),$(c,nt,n.label),$(c,it,n.labelledby)}function w(e){var t=ie(c,e);return t&&function(e,t){if(_(e.closest))return e.closest(t);for(var n=e;n&&1===n.nodeType&&!T(n,t);)n=n.parentElement;return n}(t,"."+pt)===c?t:void 0}function b(e){return[e+"--"+n.type,e+"--"+n.direction,n.drag&&e+"--draggable",n.isNavigation&&e+"--nav",e===pt&&Mt]}return U(d,{setup:m,mount:function(){s(Me,v),s(Me,m),s(He,y),l(document,It+" keydown",function(e){r="keydown"===e.type},{capture:!0}),l(c,"focusin",function(){R(c,zt,!!r)})},destroy:v})},Slides:function(e,t,n){var i=We(e),o=i.on,r=i.emit,a=i.bind,s=t.Elements,l=s.slides,c=s.list,u=[];function d(){l.forEach(function(e,t){p(e,t,-1)})}function f(){m(function(e){e.destroy()}),h(u)}function p(t,n,i){var o=function(e,t,n,i){var o,r=We(e),a=r.on,s=r.emit,l=r.bind,c=e.Components,u=e.root,d=e.options,f=d.isNavigation,p=d.updateOnMove,g=d.i18n,h=d.pagination,m=d.slideFocus,y=c.Direction.resolve,w=J(i,"style"),b=J(i,nt),k=n>-1,x=O(i,"."+yt);function E(){var o=e.splides.map(function(e){var n=e.splide.Components.Slides.getAt(t);return n?n.slide.id:""}).join(" ");$(i,nt,be(g.slideX,(k?n:t)+1)),$(i,Ze,o),$(i,qe,m?"button":""),m&&V(i,at)}function _(){o||C()}function C(){if(!o){var n=e.index;(r=S())!==Q(i,Mt)&&(R(i,Mt,r),$(i,et,f&&r||""),s(r?"active":"inactive",P)),function(){var t=function(){if(e.is(jt))return S();var t=Z(c.Elements.track),n=Z(i),o=y("left",!0),r=y("right",!0);return pe(t[o])<=ge(n[o])&&pe(n[r])<=ge(t[r])}(),n=!t&&(!S()||k);if(e.state.is([4,5])||$(i,ot,n||""),$(oe(i,d.focusableNodes||""),Je,n?-1:""),m&&$(i,Je,n?-1:0),t!==Q(i,Nt)&&(R(i,Nt,t),s(t?"visible":"hidden",P)),!t&&document.activeElement===i){var o=c.Slides.getAt(e.index);o&&q(o.slide)}}(),R(i,Ht,t===n-1),R(i,Dt,t===n+1)}var r}function S(){var i=e.index;return i===t||d.cloneStatus&&i===n}var P={index:t,slideIndex:n,slide:i,container:x,isClone:k,mount:function(){k||(i.id=u.id+"-slide"+ke(t+1),$(i,qe,h?"tabpanel":"group"),$(i,at,g.slide),$(i,nt,b||be(g.slideLabel,[t+1,e.length]))),l(i,"click",v(s,Be,P)),l(i,"keydown",v(s,"sk",P)),a([Pe,"sh",ze],C),a(Ae,E),p&&a(Se,_)},destroy:function(){o=!0,r.destroy(),re(i,At),V(i,ut),$(i,"style",w),$(i,nt,b||"")},update:C,style:function(e,t,n){K(n&&x||i,e,t)},isWithin:function(n,i){var o=he(n-t);return k||!d.rewind&&!e.is(Ut)||(o=de(o,e.length-o)),o<=i}};return P}(e,n,i,t);o.mount(),u.push(o),u.sort(function(e,t){return e.index-t.index})}function g(e){return e?y(function(e){return!e.isClone}):u}function m(e,t){g(t).forEach(e)}function y(e){return u.filter(_(e)?e:function(t){return C(e)?T(t.slide,e):D(M(e),t.index)})}return{mount:function(){d(),o(Me,f),o(Me,d)},destroy:f,update:function(){m(function(e){e.update()})},register:p,get:g,getIn:function(e){var i=t.Controller,o=i.toIndex(e),r=i.hasFocus()?1:n.perPage;return y(function(e){return ve(e.index,o,o+r-1)})},getAt:function(e){return y(e)[0]},add:function(e,t){H(e,function(e){if(C(e)&&(e=te(e)),B(e)){var i=l[t];i?A(e,i):L(c,e),z(e,n.classes.slide),o=e,s=v(r,De),u=oe(o,"img"),(d=u.length)?u.forEach(function(e){a(e,"load error",function(){--d||s()})}):s()}var o,s,u,d}),r(Me)},remove:function(e){ee(y(e).map(function(e){return e.slide})),r(Me)},forEach:m,filter:y,style:function(e,t,n){m(function(i){i.style(e,t,n)})},getLength:function(e){return e?l.length:u.length},isEnough:function(){return u.length>n.perPage}}},Layout:function(e,t,n){var i,o,r,a=We(e),s=a.on,l=a.bind,c=a.emit,u=t.Slides,d=t.Direction.resolve,f=t.Elements,p=f.root,g=f.track,h=f.list,m=u.getAt,y=u.style;function w(){i=n.direction===Ke,K(p,"maxWidth",se(n.width)),K(g,d("paddingLeft"),k(!1)),K(g,d("paddingRight"),k(!0)),b(!0)}function b(e){var t,a=Z(p);(e||o.width!==a.width||o.height!==a.height)&&(K(g,"height",(t="",i&&(ue(t=E(),"height or heightRatio is missing."),t="calc("+t+" - "+k(!1)+" - "+k(!0)+")"),t)),y(d("marginRight"),se(n.gap)),y("width",n.autoWidth?null:se(n.fixedWidth)||(i?"":_())),y("height",se(n.fixedHeight)||(i?n.autoHeight?null:_():E()),!0),o=a,c(Ne),r!==(r=H())&&(R(p,Lt,r),c("overflow",r)))}function k(e){var t=n.padding,i=d(e?"right":"left");return t&&se(t[i]||(x(t)?0:t))||"0px"}function E(){return se(n.height||Z(h).width*n.heightRatio)}function _(){var e=se(n.gap);return"calc((100%"+(e&&" + "+e)+")/"+(n.perPage||1)+(e&&" - "+e)+")"}function C(){return Z(h)[d("width")]}function S(e,t){var n=m(e||0);return n?Z(n.slide)[d("width")]+(t?0:M()):0}function P(e,t){var n=m(e);if(n){var i=Z(n.slide)[d("right")],o=Z(h)[d("left")];return he(i-o)+(t?0:M())}return 0}function B(t){return P(e.length-1)-P(0)+S(0,t)}function M(){var e=m(0);return e&&parseFloat(K(e.slide,d("marginRight")))||0}function H(){return e.is(jt)||B(!0)>C()}return{mount:function(){var e,t;w(),l(window,"resize load",(e=v(c,De),t=Ue(0,e,null,1),function(){t.isPaused()&&t.start()})),s([He,Me],w),s(De,b)},resize:b,listSize:C,slideSize:S,sliderSize:B,totalSize:P,getPadding:function(e){return parseFloat(K(g,d("padding"+(e?"Right":"Left"))))||0},isOverflow:H}},Clones:function(e,t,n){var i,o=We(e),r=o.on,a=t.Elements,s=t.Slides,l=t.Direction.resolve,c=[];function u(){r(Me,d),r([He,De],p),(i=g())&&(function(t){var i=s.get().slice(),o=i.length;if(o){for(;i.length<t;)N(i,i);N(i.slice(-t),i.slice(0,t)).forEach(function(r,l){var u=l<t,d=function(t,i){var o=t.cloneNode(!0);return z(o,n.classes.clone),o.id=e.root.id+"-clone"+ke(i+1),o}(r.slide,l);u?A(d,i[0].slide):L(a.list,d),N(c,d),s.register(d,l-t+(u?0:o),r.index)})}}(i),t.Layout.resize(!0))}function d(){f(),u()}function f(){ee(c),h(c),o.destroy()}function p(){var e=g();i!==e&&(i<e||!e)&&o.emit(Me)}function g(){var i=n.clones;if(e.is(Ut)){if(S(i)){var o=n[l("fixedWidth")]&&t.Layout.slideSize(0);i=o&&ge(Z(a.track)[l("width")]/o)||n[l("autoWidth")]&&e.length||2*n.perPage}}else i=0;return i}return{mount:u,destroy:f}},Move:function(e,t,n){var i,o=We(e),r=o.on,a=o.emit,s=e.state.set,l=t.Layout,c=l.slideSize,u=l.getPadding,d=l.totalSize,f=l.listSize,p=l.sliderSize,g=t.Direction,h=g.resolve,m=g.orient,v=t.Elements,y=v.list,w=v.track;function b(){t.Controller.isBusy()||(t.Scroll.cancel(),k(e.index),t.Slides.update())}function k(e){x(P(e,!0))}function x(n,i){if(!e.is(jt)){var o=i?n:function(n){if(e.is(Ut)){var i=C(n),o=i>t.Controller.getEnd();(i<0||o)&&(n=E(n,o))}return n}(n);K(y,"transform","translate"+h("X")+"("+o+"px)"),n!==o&&a("sh")}}function E(e,t){var n=e-M(t),i=p();return e-m(i*(ge(he(n)/i)||1))*(t?1:-1)}function _(){x(B(),!0),i.cancel()}function C(e){for(var n=t.Slides.get(),i=0,o=1/0,r=0;r<n.length;r++){var a=n[r].index,s=he(P(a,!0)-e);if(!(s<=o))break;o=s,i=a}return i}function P(t,i){var o=m(d(t-1)-function(e){var t=n.focus;return"center"===t?(f()-c(e,!0))/2:+t*c(e)||0}(t));return i?function(t){return n.trimSpace&&e.is(Wt)&&(t=ye(t,0,m(p(!0)-f()))),t}(o):o}function B(){var e=h("left");return Z(y)[e]-Z(w)[e]+m(u(!1))}function M(e){return P(e?t.Controller.getEnd():0,!!n.trimSpace)}return{mount:function(){i=t.Transition,r([_e,Ne,He,Me],b)},move:function(e,t,n,o){var r,l;e!==t&&(r=e>n,l=m(E(B(),r)),r?l>=0:l<=y[h("scrollWidth")]-Z(w)[h("width")])&&(_(),x(E(B(),e>n),!0)),s(4),a(Se,t,n,e),i.start(t,function(){s(3),a(Pe,t,n,e),o&&o()})},jump:k,translate:x,shift:E,cancel:_,toIndex:C,toPosition:P,getPosition:B,getLimit:M,exceededLimit:function(e,t){t=S(t)?B():t;var n=!0!==e&&m(t)<m(M(!1)),i=!1!==e&&m(t)>m(M(!0));return n||i},reposition:b}},Controller:function(e,t,n){var i,o,r,a,s=We(e),l=s.on,c=s.emit,u=t.Move,d=u.getPosition,f=u.getLimit,p=u.toPosition,g=t.Slides,h=g.isEnough,m=g.getLength,y=n.omitEnd,w=e.is(Ut),b=e.is(Wt),k=v(M,!1),x=v(M,!0),E=n.start||0,_=E;function P(){o=m(!0),r=n.perMove,a=n.perPage,i=N();var e=ye(E,0,y?i:o-1);e!==E&&(E=e,u.reposition())}function B(){i!==N()&&c(Fe)}function M(e,t){var n=r||(A()?1:a),o=H(E+n*(e?-1:1),E,!(r||A()));return-1===o&&b&&!me(d(),f(!e),1)?e?0:i:t?o:D(o)}function H(t,s,l){if(h()||A()){var c=function(t){if(b&&"move"===n.trimSpace&&t!==E)for(var i=d();i===p(t,!0)&&ve(t,0,e.length-1,!n.rewind);)t<E?--t:++t;return t}(t);c!==t&&(s=t,t=c,l=!1),t<0||t>i?t=r||!ve(0,t,s,!0)&&!ve(i,s,t,!0)?w?l?t<0?-(o%a||a):o:t:n.rewind?t<0?i:0:-1:R(z(t)):l&&t!==s&&(t=R(z(s)+(t<s?-1:1)))}else t=-1;return t}function D(e){return w?(e+o)%o||0:e}function N(){for(var e=o-(A()||w&&r?1:a);y&&e-- >0;)if(p(o-1,!0)!==p(e,!0)){e++;break}return ye(e,0,o-1)}function R(e){return ye(A()?e:a*e,0,i)}function z(e){return A()?de(e,i):pe((e>=i?o-1:e)/a)}function L(e){e!==E&&(_=E,E=e)}function A(){return!S(n.focus)||n.isNavigation}function T(){return e.state.is([4,5])&&!!n.waitForTransition}return{mount:function(){P(),l([He,Me,Fe],P),l(Ne,B)},go:function(e,t,n){if(!T()){var o=function(e){var t=E;if(C(e)){var n=e.match(/([+\-<>])(\d+)?/)||[],o=n[1],r=n[2];"+"===o||"-"===o?t=H(E+ +(""+o+(+r||1)),E):">"===o?t=r?R(+r):k(!0):"<"===o&&(t=x(!0))}else t=w?e:ye(e,0,i);return t}(e),r=D(o);r>-1&&(t||r!==E)&&(L(r),u.move(o,r,_,n))}},scroll:function(e,n,o,r){t.Scroll.scroll(e,n,o,function(){var e=D(u.toIndex(d()));L(y?de(e,i):e),r&&r()})},getNext:k,getPrev:x,getAdjacent:M,getEnd:N,setIndex:L,getIndex:function(e){return e?_:E},toIndex:R,toPage:z,toDest:function(e){var t=u.toIndex(e);return b?ye(t,0,i):t},hasFocus:A,isBusy:T}},Arrows:function(e,t,n){var i,o,r=We(e),a=r.on,s=r.bind,l=r.emit,c=n.classes,u=n.i18n,d=t.Elements,f=t.Controller,p=d.arrows,g=d.track,h=p,m=d.prev,y=d.next,w={};function b(){var e;!(e=n.arrows)||m&&y||(h=p||X("div",c.arrows),m=_(!0),y=_(!1),i=!0,L(h,[m,y]),!p&&A(h,g)),m&&y&&(U(w,{prev:m,next:y}),Y(h,e?"":"none"),z(h,o=wt+"--"+n.direction),e&&(a([_e,Pe,Me,ze,Fe],C),s(y,"click",v(E,">")),s(m,"click",v(E,"<")),C(),$([m,y],Ze,g.id),l("arrows:mounted",m,y))),a(He,k)}function k(){x(),b()}function x(){r.destroy(),re(h,o),i?(ee(p?[m,y]:h),m=y=null):V([m,y],ut)}function E(e){f.go(e,!0)}function _(e){return te('<button class="'+c.arrow+" "+(e?c.prev:c.next)+'" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" width="40" height="40" focusable="false"><path d="'+(n.arrowPath||"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z")+'" />')}function C(){if(m&&y){var t=e.index,n=f.getPrev(),i=f.getNext(),o=n>-1&&t<n?u.last:u.prev,r=i>-1&&t>i?u.first:u.next;m.disabled=n<0,y.disabled=i<0,$(m,nt,o),$(y,nt,r),l("arrows:updated",m,y,n,i)}}return{arrows:w,mount:b,destroy:x,update:C}},Autoplay:function(e,t,n){var i,o,r=We(e),a=r.on,s=r.bind,l=r.emit,c=Ue(n.interval,e.go.bind(e,">"),function(e){var t=d.bar;t&&K(t,"width",100*e+"%"),l("autoplay:playing",e)}),u=c.isPaused,d=t.Elements,f=t.Elements,p=f.root,g=f.toggle,h=n.autoplay,m="pause"===h;function v(){u()&&t.Slides.isEnough()&&(c.start(!n.resetProgress),o=i=m=!1,b(),l(Te))}function y(e){void 0===e&&(e=!0),m=!!e,b(),u()||(c.pause(),l(Ie))}function w(){m||(i||o?y(!1):v())}function b(){g&&(R(g,Mt,!m),$(g,nt,n.i18n[m?"play":"pause"]))}function k(e){var i=t.Slides.getAt(e);c.set(i&&+J(i.slide,Gt)||n.interval)}return{mount:function(){h&&(n.pauseOnHover&&s(p,"mouseenter mouseleave",function(e){i="mouseenter"===e.type,w()}),n.pauseOnFocus&&s(p,"focusin focusout",function(e){o="focusin"===e.type,w()}),g&&s(g,"click",function(){m?v():y(!0)}),a([Se,Re,Me],c.rewind),a(Se,k),g&&$(g,Ze,d.track.id),m||v(),b())},destroy:c.cancel,play:v,pause:y,isPaused:u}},Cover:function(e,t,n){var i=We(e).on;function o(e){t.Slides.forEach(function(t){var n=O(t.container||t.slide,"img");n&&n.src&&r(e,n,t)})}function r(e,t,n){n.style("background",e?'center/cover no-repeat url("'+t.src+'")':"",!0),Y(t,e?"none":"")}return{mount:function(){n.cover&&(i(Oe,v(r,!0)),i([_e,He,Me],v(o,!0)))},destroy:v(o,!1)}},Scroll:function(e,t,n){var i,o,r=We(e),a=r.on,s=r.emit,l=e.state.set,c=t.Move,u=c.getPosition,d=c.getLimit,f=c.exceededLimit,p=c.translate,g=e.is(Wt),h=1;function m(e,n,r,a,d){var p=u();if(b(),r&&(!g||!f())){var m=t.Layout.sliderSize(),k=we(e)*m*pe(he(e)/m)||0;e=c.toPosition(t.Controller.toDest(e%m))+k}var x=me(p,e,1);h=1,n=x?0:n||fe(he(e-p)/1.5,800),o=a,i=Ue(n,y,v(w,p,e,d),1),l(5),s(Re),i.start()}function y(){l(3),o&&o(),s(ze)}function w(e,t,i,r){var a,s,l=u(),c=(e+(t-e)*(a=r,(s=n.easingFunc)?s(a):1-Math.pow(1-a,4))-l)*h;p(l+c),g&&!i&&f()&&(h*=.6,he(c)<10&&m(d(f(!0)),600,!1,o,!0))}function b(){i&&i.cancel()}function k(){i&&!i.isPaused()&&(b(),y())}return{mount:function(){a(Se,b),a([He,Me],k)},destroy:b,scroll:m,cancel:k}},Drag:function(e,t,n){var i,o,r,a,s,l,c,u,d=We(e),f=d.on,p=d.emit,g=d.bind,h=d.unbind,m=e.state,v=t.Move,y=t.Scroll,b=t.Controller,k=t.Elements.track,E=t.Media.reduce,_=t.Direction,C=_.resolve,S=_.orient,P=v.getPosition,B=v.exceededLimit,M=!1;function H(){var e=n.drag;U(!e),a="free"===e}function D(e){if(l=!1,!c){var t=W(e);i=e.target,o=n.noDrag,T(i,"."+_t+", ."+bt)||o&&T(i,o)||!t&&e.button||(b.isBusy()?ne(e,!0):(u=t?k:window,s=m.is([4,5]),r=null,g(u,Ot,N,Vt),g(u,Ft,R,Vt),v.cancel(),y.cancel(),L(e)))}var i,o}function N(t){if(m.is(6)||(m.set(6),p("drag")),t.cancelable)if(s){v.translate(i+A(t)/(M&&e.is(Wt)?5:1));var o=I(t)>200,r=M!==(M=B());(o||r)&&L(t),l=!0,p("dragging"),ne(t)}else(function(e){return he(A(e))>he(A(e,!0))})(t)&&(s=function(e){var t=n.dragMinThreshold,i=x(t),o=i&&t.mouse||0,r=(i?t.touch:+t)||10;return he(A(e))>(W(e)?r:o)}(t),ne(t))}function R(i){m.is(6)&&(m.set(3),p("dragged")),s&&(function(i){var o=function(t){if(e.is(Ut)||!M){var n=I(t);if(n&&n<200)return A(t)/n}return 0}(i),r=function(e){return P()+we(e)*de(he(e)*(n.flickPower||600),a?1/0:t.Layout.listSize()*(n.flickMaxPages||1))}(o),s=n.rewind&&n.rewindByDrag;E(!1),a?b.scroll(r,0,n.snap):e.is(jt)?b.go(S(we(o))<0?s?"<":"-":s?">":"+"):e.is(Wt)&&M&&s?b.go(B(!0)?">":"<"):b.go(b.toDest(r),!0),E(!0)}(i),ne(i)),h(u,Ot,N),h(u,Ft,R),s=!1}function z(e){!c&&l&&ne(e,!0)}function L(e){r=o,o=e,i=P()}function A(e,t){return F(e,t)-F(O(e),t)}function I(e){return ae(e)-ae(O(e))}function O(e){return o===e&&r||o}function F(e,t){return(W(e)?e.changedTouches[0]:e)["page"+C(t?"Y":"X")]}function W(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent}function U(e){c=e}return{mount:function(){g(k,Ot,w,Vt),g(k,Ft,w,Vt),g(k,It,D,Vt),g(k,"click",z,{capture:!0}),g(k,"dragstart",ne),f([_e,He],H)},disable:U,isDragging:function(){return s}}},Keyboard:function(e,t,n){var i,o,r=We(e),a=r.on,s=r.bind,l=r.unbind,c=e.root,u=t.Direction.resolve;function d(){var e=n.keyboard;e&&(i="global"===e?window:c,s(i,Kt,g))}function f(){l(i,Kt)}function p(){var e=o;o=!0,y(function(){o=e})}function g(t){if(!o){var n=Xt(t);n===u(Ge)?e.go("<"):n===u(Ve)&&e.go(">")}}return{mount:function(){d(),a(He,f),a(He,d),a(Se,p)},destroy:f,disable:function(e){o=e}}},LazyLoad:function(e,t,n){var i=We(e),o=i.on,r=i.off,a=i.bind,s=i.emit,l="sequential"===n.lazyLoad,c=[Pe,ze],u=[];function d(){h(u),t.Slides.forEach(function(e){oe(e.slide,Jt).forEach(function(t){var i=J(t,Yt),o=J(t,qt);if(i!==t.src||o!==t.srcset){var r=n.classes.spinner,a=t.parentElement,s=O(a,"."+r)||X("span",r,a);u.push([t,e,s]),t.src||Y(t,"none")}})}),l?m():(r(c),o(c,f),f())}function f(){(u=u.filter(function(t){var i=n.perPage*((n.preloadPages||1)+1)-1;return!t[1].isWithin(e.index,i)||p(t)})).length||r(c)}function p(e){var t=e[0];z(e[1].slide,Rt),a(t,"load error",v(g,e)),$(t,"src",J(t,Yt)),$(t,"srcset",J(t,qt)),V(t,Yt),V(t,qt)}function g(e,t){var n=e[0],i=e[1];re(i.slide,Rt),"error"!==t.type&&(ee(e[2]),Y(n,""),s(Oe,n,i),s(De)),l&&m()}function m(){u.length&&p(u.shift())}return{mount:function(){n.lazyLoad&&(d(),o(Me,d))},destroy:v(h,u),check:f}},Pagination:function(e,t,n){var i,o,r=We(e),a=r.on,s=r.emit,l=r.bind,c=t.Slides,u=t.Elements,d=t.Controller,f=d.hasFocus,p=d.getIndex,g=d.go,y=t.Direction.resolve,w=u.pagination,b=[];function k(){i&&(ee(w?m(i.children):i),re(i,o),h(b),i=null),r.destroy()}function x(e){g(">"+e,!0)}function E(e,t){var n=b.length,i=Xt(t),o=_(),r=-1;i===y(Ve,!1,o)?r=++e%n:i===y(Ge,!1,o)?r=(--e+n)%n:"Home"===i?r=0:"End"===i&&(r=n-1);var a=b[r];a&&(q(a.button),g(">"+r),ne(t,!0))}function _(){return n.paginationDirection||n.direction}function C(e){return b[d.toPage(e)]}function S(){var e=C(p(!0)),t=C(p());if(e){var n=e.button;re(n,Mt),V(n,tt),$(n,Je,-1)}if(t){var o=t.button;z(o,Mt),$(o,tt,!0),$(o,Je,"")}s("pagination:updated",{list:i,items:b},e,t)}return{items:b,mount:function t(){k(),a([He,Me,Fe],t);var r=n.pagination;w&&Y(w,r?"":"none"),r&&(a([Se,Re,ze],S),function(){var t=e.length,r=n.classes,a=n.i18n,s=n.perPage,p=f()?d.getEnd()+1:ge(t/s);z(i=w||X("ul",r.pagination,u.track.parentElement),o=Et+"--"+_()),$(i,qe,"tablist"),$(i,nt,a.select),$(i,rt,_()===Ke?"vertical":"");for(var g=0;g<p;g++){var h=X("li",null,i),m=X("button",{class:r.page,type:"button"},h),y=c.getIn(g).map(function(e){return e.slide.id}),k=!f()&&s>1?a.pageX:a.slideX;l(m,"click",v(x,g)),n.paginationKeyboard&&l(m,"keydown",v(E,g)),$(h,qe,"presentation"),$(m,qe,"tab"),$(m,Ze,y.join(" ")),$(m,nt,be(k,g+1)),$(m,Je,-1),b.push({li:h,button:m,page:g})}}(),S(),s("pagination:mounted",{list:i,items:b},C(e.index)))},destroy:k,getAt:C,update:S}},Sync:function(e,t,n){var i=n.isNavigation,o=n.slideFocus,r=[];function a(){var t,n;e.splides.forEach(function(t){t.isParent||(l(e,t.splide),l(t.splide,e))}),i&&((n=(t=We(e)).on)(Be,u),n("sk",d),n([_e,He],c),r.push(t),t.emit(Ae,e.splides))}function s(){r.forEach(function(e){e.destroy()}),h(r)}function l(e,t){var n=We(e);n.on(Se,function(e,n,i){t.go(t.is(Ut)?i:e)}),r.push(n)}function c(){$(t.Elements.list,rt,n.direction===Ke?"vertical":"")}function u(t){e.go(t.index)}function d(e,t){D(Qt,Xt(t))&&(u(e),ne(t))}return{setup:v(t.Media.set,{slideFocus:S(o)?i:o},!0),mount:a,destroy:s,remount:function(){s(),a()}}},Wheel:function(e,t,n){var i=We(e).bind,o=0;function r(i){if(i.cancelable){var r=i.deltaY,a=r<0,s=ae(i),l=n.wheelMinThreshold||0,c=n.wheelSleep||0;he(r)>l&&s-o>c&&(e.go(a?"<":">"),o=s),function(i){return!n.releaseWheel||e.state.is(4)||-1!==t.Controller.getAdjacent(i)}(a)&&ne(i)}}return{mount:function(){n.wheel&&i(t.Elements.track,"wheel",r,Vt)}}},Live:function(e,t,n){var i=We(e).on,o=t.Elements.track,r=n.live&&!n.isNavigation,a=X("span",Pt),s=Ue(90,v(l,!1));function l(e){$(o,lt,e),e?(L(o,a),s.start()):(ee(a),s.cancel())}function c(e){r&&$(o,st,e?"off":"polite")}return{mount:function(){r&&(c(!t.Autoplay.isPaused()),$(o,ct,!0),a.textContent="â€¦",i(Te,v(c,!0)),i(Ie,v(c,!1)),i([Pe,ze],v(l,!0)))},disable:c,destroy:function(){V(o,[st,ct,lt]),ee(a)}}}}),en={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:Tt,i18n:{prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function tn(e,t,n){var i=t.Slides;function o(){i.forEach(function(e){e.style("transform","translateX(-"+100*e.index+"%)")})}return{mount:function(){We(e).on([_e,Me],o)},start:function(e,t){i.style("transition","opacity "+n.speed+"ms "+n.easing),y(t)},cancel:w}}function nn(e,t,n){var i,o=t.Move,r=t.Controller,a=t.Scroll,s=t.Elements.list,l=v(K,s,"transition");function c(){l(""),a.cancel()}return{mount:function(){We(e).bind(s,"transitionend",function(e){e.target===s&&i&&(c(),i())})},start:function(t,s){var c=o.toPosition(t,!0),u=o.getPosition(),d=function(t){var i=n.rewindSpeed;if(e.is(Wt)&&i){var o=r.getIndex(!0),a=r.getEnd();if(0===o&&t>=a||o>=a&&0===t)return i}return n.speed}(t);he(c-u)>=1&&d>=1?n.useScroll?a.scroll(c,d,!1,s):(l("transform "+d+"ms "+n.easing),o.translate(c,!0),i=s):(o.jump(t),s())},cancel:c}}var on=function(){function e(t,n){var i;this.event=We(),this.Components={},this.state=(i=1,{set:function(e){i=e},is:function(e){return D(M(e),i)}}),this.splides=[],this._o={},this._E={};var o=C(t)?ie(document,t):t;ue(o,o+" is invalid."),this.root=o,n=j({label:J(o,nt)||"",labelledby:J(o,it)||""},en,e.defaults,n||{});try{j(n,JSON.parse(J(o,ce)))}catch(e){ue(!1,"Invalid JSON")}this._o=Object.create(j({},n))}var t,n,i=e.prototype;return i.mount=function(e,t){var n=this,i=this.state,o=this.Components;return ue(i.is([1,7]),"Already mounted!"),i.set(1),this._C=o,this._T=t||this._T||(this.is(jt)?tn:nn),this._E=e||this._E,W(U({},Zt,this._E,{Transition:this._T}),function(e,t){var i=e(n,o,n._o);o[t]=i,i.setup&&i.setup()}),W(o,function(e){e.mount&&e.mount()}),this.emit(_e),z(this.root,Bt),i.set(3),this.emit(Ce),this},i.sync=function(e){return this.splides.push({splide:e}),e.splides.push({splide:this,isParent:!0}),this.state.is(3)&&(this._C.Sync.remount(),e.Components.Sync.remount()),this},i.go=function(e){return this._C.Controller.go(e),this},i.on=function(e,t){return this.event.on(e,t),this},i.off=function(e){return this.event.off(e),this},i.emit=function(e){var t;return(t=this.event).emit.apply(t,[e].concat(m(arguments,1))),this},i.add=function(e,t){return this._C.Slides.add(e,t),this},i.remove=function(e){return this._C.Slides.remove(e),this},i.is=function(e){return this._o.type===e},i.refresh=function(){return this.emit(Me),this},i.destroy=function(e){void 0===e&&(e=!0);var t=this.event,n=this.state;return n.is(1)?We(this).on(Ce,this.destroy.bind(this,e)):(W(this._C,function(t){t.destroy&&t.destroy(e)},!0),t.emit(Le),t.destroy(),e&&h(this.splides),n.set(7)),this},t=e,(n=[{key:"options",get:function(){return this._o},set:function(e){this._C.Media.set(e,!0,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function rn({blockProps:e,innerBlocksProps:r,attributes:a,clientId:s}){const l=(0,u.useRef)(null),c=(0,u.useRef)(null),{ref:d,...f}=e||{},p=(0,i.useSelect)(e=>{const{getBlocks:t}=e(o.store);return t(s)},[s]),g=(0,u.useMemo)(()=>{const e=e=>{if("string"==typeof e&&e.startsWith("var:preset|")){const t=e.split("|");if(3===t.length)return`var(--wp--preset--${t[1]}--${t[2]})`}return e},i=i=>{const o=i?.attributes||{},r=o.style||{},s=["wp-block-ditty-display-item","ditty-display__item"];o.className&&s.push(o.className),o.backgroundColor&&s.push(`has-${o.backgroundColor}-background-color`,"has-background"),o.textColor&&s.push(`has-${o.textColor}-color`,"has-text-color"),o.fontSize&&s.push(`has-${o.fontSize}-font-size`);const l={},c=r?.spacing?.padding;c&&(c.top&&(l.paddingTop=e(c.top)),c.right&&(l.paddingRight=e(c.right)),c.bottom&&(l.paddingBottom=e(c.bottom)),c.left&&(l.paddingLeft=e(c.left)));const d=r?.border?.radius;d&&("string"==typeof d||"number"==typeof d?l.borderRadius=e(d):(d.topLeft&&(l.borderTopLeftRadius=e(d.topLeft)),d.topRight&&(l.borderTopRightRadius=e(d.topRight)),d.bottomRight&&(l.borderBottomRightRadius=e(d.bottomRight)),d.bottomLeft&&(l.borderBottomLeftRadius=e(d.bottomLeft)))),r?.color?.background&&(l.backgroundColor=e(r.color.background)),r?.color?.text&&(l.color=e(r.color.text));const f=a?.itemMaxWidth||"",p=a?.itemElementsWrap||"nowrap",g={};f&&(g.maxWidth=e(f)),"nowrap"===p&&(g.whiteSpace="nowrap");const h=(0,n.serialize)(i?.innerBlocks||[]);return(0,t.createElement)("div",{className:s.join(" "),style:l},(0,t.createElement)("div",{className:"ditty-display__item__elements",style:g},(0,t.createElement)(u.RawHTML,null,h)))};return Array.isArray(p)&&p.length?p.map(e=>({key:e.clientId,node:i(e),innerLen:(0,n.serialize)(e?.innerBlocks||[]).length})):[]},[a?.itemElementsWrap,a?.itemMaxWidth,p]),{splideOptions:h,splideOptionsKey:m}=(0,u.useMemo)(()=>{const e=function(e){const{carouselLoop:t=!0,carouselSpeed:n=400,carouselRewind:i=!1,carouselRewindSpeed:o=0,carouselRewindByDrag:r=!1,carouselHeight:a="",carouselFixedWidth:s="",carouselFixedHeight:l="",carouselHeightRatio:c=0,carouselAutoWidth:u=!1,carouselAutoHeight:d=!1,carouselStart:f=0,carouselPerPage:p=1,carouselPerMove:g=0,carouselFocus:h="",carouselArrows:m=!0,carouselPagination:v=!0,carouselPaginationDirection:y="",carouselEasing:w="cubic-bezier(0.25, 1, 0.5, 1)",carouselDrag:b="true",carouselSnap:k=!1,carouselAutoplay:x=!0,carouselInterval:E=3e3,carouselPauseOnHover:_=!0,carouselPauseOnFocus:C=!0,carouselResetProgress:S=!0,carouselDirection:P="ltr",carouselUpdateOnMove:B=!1}=e,M=e=>{if("string"==typeof e&&e.startsWith("var:preset|")){const t=e.split("|");if(3===t.length)return`var(--wp--preset--${t[1]}--${t[2]})`}return e},H={gap:M(e?.style?.spacing?.blockGap)||"25px"};return i?(H.type="slide",H.rewind=!0):H.type=!1!==t?"loop":"slide",void 0!==n&&(H.speed=parseInt(n,10)),o&&(H.rewindSpeed=parseInt(o,10)),void 0!==r&&(H.rewindByDrag=Boolean(r)),a&&(H.height=M(a)),s&&(H.fixedWidth=M(s)),l&&(H.fixedHeight=M(l)),c&&(H.heightRatio=parseFloat(c)),H.autoWidth=!0===u,H.autoHeight=!0===d,void 0!==f&&(H.start=parseInt(f,10)),void 0!==p&&(H.perPage=parseInt(p,10)),g&&(H.perMove=parseInt(g,10)),h&&(H.focus="center"===h?"center":parseInt(h,10)),H.arrows=!1!==m,H.pagination=!1!==v,y&&(H.paginationDirection=y),P&&(H.direction=P),w&&(H.easing=w),void 0!==B&&(H.updateOnMove=Boolean(B)),void 0!==b&&(H.drag="false"!==b&&("free"!==b||"free")),void 0!==k&&(H.snap=Boolean(k)),H.autoplay=!1!==x,void 0!==E&&(H.interval=parseInt(E,10)),H.pauseOnHover=!1!==_,H.pauseOnFocus=!1!==C,H.resetProgress=!1!==S,H}(a);return{splideOptions:e,splideOptionsKey:JSON.stringify(e)}},[a]),v=(0,u.useMemo)(()=>g.map(e=>`${e.key}:${e.innerLen}`).join("|"),[g]);return(0,u.useEffect)(()=>{if(l.current){if(c.current)c.current.options=h,c.current.refresh();else{const e=new on(l.current,h);e.mount(),c.current=e}return()=>{c.current&&(c.current.destroy(),c.current=null)}}},[m,v]),(0,t.createElement)("div",{...f,ref:e=>{l.current=e,d&&("function"==typeof d?d(e):void 0!==d?.current&&(d.current=e))},className:`${f.className||""} splide`.trim(),draggable:!1,onDragStart:e=>e.preventDefault()},(0,t.createElement)("div",{className:"splide__track"},(0,t.createElement)("ul",{className:"splide__list"},g.map((e,n)=>(0,t.createElement)("li",{key:e.key||n,className:"splide__slide"},e.node)))))}on.defaults={},on.STATES={CREATED:1,MOUNTED:2,IDLE:3,MOVING:4,SCROLLING:5,DRAGGING:6,DESTROYED:7};const{__}=wp.i18n,an=[["ditty/display-item"],["ditty/display-item"],["ditty/display-item"]],sn=JSON.parse('{"UU":"ditty/display"}'),ln=(0,t.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},(0,t.createElement)(r.Path,{d:"M4 20h28v8H4v-8zm32 4l8-6v12l-8-6z"})),cn=(0,t.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},(0,t.createElement)(r.Path,{d:"M10 12h28v24H10V12zM2 18h6v12H2V18zm38 0h6v12h-6V18z"})),un=[{name:"ticker",title:(0,c.__)("Ticker","ditty-news-ticker"),description:(0,c.__)("A continuously scrolling ticker display.","ditty-news-ticker"),attributes:{type:"ticker",style:{spacing:{blockGap:"25px"}}},isDefault:!0,scope:["block","inserter","transform"],isActive:e=>"ticker"===e.type,icon:ln,innerBlocks:[["ditty/display-item"],["ditty/display-item"],["ditty/display-item"]]},{name:"carousel",title:(0,c.__)("Carousel","ditty-news-ticker"),description:(0,c.__)("A carousel/slider display.","ditty-news-ticker"),attributes:{type:"list",style:{spacing:{blockGap:"25px"}}},scope:["block","inserter","transform"],isActive:e=>"list"===e.type,icon:cn,innerBlocks:[["ditty/display-item"],["ditty/display-item"],["ditty/display-item"]]}],dn=(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},(0,t.createElement)("path",{d:"M4 6h16v2H4V6zm0 5h16v2H4v-2zm0 5h16v2H4v-2z"}));(0,n.registerBlockType)(sn.UU,{icon:dn,variations:un,edit:function({attributes:e,setAttributes:n,clientId:a,name:c}){const{type:d,direction:p,speed:g,hoverPause:h,cloneItems:m,itemMaxWidth:v,itemElementsWrap:y,minHeight:w,fillHeight:b,editMode:k="edit",carouselLoop:x,carouselSpeed:E,carouselRewind:_,carouselRewindSpeed:C,carouselRewindByDrag:S,carouselHeight:P,carouselFixedWidth:B,carouselFixedHeight:M,carouselHeightRatio:H,carouselAutoWidth:D,carouselAutoHeight:N,carouselStart:R,carouselPerPage:z,carouselPerMove:L,carouselFocus:A,carouselArrows:T,carouselPagination:I,carouselPaginationDirection:O,carouselEasing:F,carouselDrag:W,carouselSnap:U,carouselAutoplay:j,carouselInterval:G,carouselPauseOnHover:V,carouselPauseOnFocus:$,carouselResetProgress:X,carouselDirection:K,carouselUpdateOnMove:Y}=e,{hasInnerBlocks:q}=(0,i.useSelect)(e=>{const{getBlocks:t}=e(o.store);return{hasInnerBlocks:t(a).length>0}},[a]),J={};"ticker"===d&&("up"===p||"down"===p)&&(b&&(J.flexDirection="column",J.flex="1",J.height="100%"),w&&(J.minHeight=w));const Q=(0,o.useBlockProps)({className:`ditty-display-editor ditty-display-type-${d}`,style:J}),[Z,ee]=function({attributes:e={},hasInnerBlocks:t=!1}){const{style:n,backgroundColor:i,textColor:o}=e,[r,a]=(0,u.useState)(!(t||i||o||n));return(0,u.useEffect)(()=>{(t||i||o||n)&&a(!1)},[i,o,n,t]),[r,a]}({attributes:e,hasInnerBlocks:q}),te=(0,o.useInnerBlocksProps)(Q,{allowedBlocks:["ditty/display-item"],template:an,templateLock:!1,renderAppender:o.InnerBlocks.ButtonBlockAppender}),{selectBlock:ne}=(0,i.useDispatch)(o.store);return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(o.BlockControls,null,(0,t.createElement)(r.ToolbarGroup,null,(0,t.createElement)(r.ToolbarButton,{icon:"edit"===k?"visibility":"edit",label:__("edit"===k?"Switch to Preview":"Switch to Edit","ditty-news-ticker"),onClick:()=>{n({editMode:"edit"===k?"preview":"edit"})},isPressed:"preview"===k}))),(0,t.createElement)(o.InspectorControls,null,(0,t.createElement)(r.PanelBody,{title:__("Display Settings","ditty-news-ticker"),initialOpen:!0},(0,t.createElement)(r.SelectControl,{__next40pxDefaultSize:!0,label:__("Direction","ditty-news-ticker"),value:p,options:"ticker"===d?[{label:__("Left","ditty-news-ticker"),value:"left"},{label:__("Right","ditty-news-ticker"),value:"right"},{label:__("Up","ditty-news-ticker"),value:"up"},{label:__("Down","ditty-news-ticker"),value:"down"}]:[{label:__("Left","ditty-news-ticker"),value:"left"},{label:__("Right","ditty-news-ticker"),value:"right"}],onChange:e=>n({direction:e}),__nextHasNoMarginBottom:!0}),(0,t.createElement)(r.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Speed","ditty-news-ticker"),value:g,onChange:e=>n({speed:e}),min:1,max:100}),(0,t.createElement)(r.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Pause on Hover","ditty-news-ticker"),checked:h,onChange:e=>n({hoverPause:e})}),"ticker"===d&&(0,t.createElement)(r.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Clone Items","ditty-news-ticker"),help:__("Clone items for seamless looping","ditty-news-ticker"),checked:m,onChange:e=>n({cloneItems:e})}),"ticker"===d&&("up"===p||"down"===p)&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(r.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Fill Parent Height","ditty-news-ticker"),help:__("Stretch ticker to match parent container height","ditty-news-ticker"),checked:b,onChange:e=>n({fillHeight:e})}),(0,t.createElement)(r.__experimentalUnitControl,{label:__("Min Height","ditty-news-ticker"),value:w,onChange:e=>n({minHeight:e})}))),(0,t.createElement)(r.PanelBody,{title:__("Item Settings","ditty-news-ticker"),initialOpen:!1},(0,t.createElement)(r.__experimentalUnitControl,{label:__("Max Width","ditty-news-ticker"),value:v,onChange:e=>n({itemMaxWidth:e})}),(0,t.createElement)(r.SelectControl,{__next40pxDefaultSize:!0,label:__("Text Wrap","ditty-news-ticker"),value:y,options:[{label:__("No Wrap","ditty-news-ticker"),value:"nowrap"},{label:__("Wrap","ditty-news-ticker"),value:"wrap"}],onChange:e=>n({itemElementsWrap:e})})),"list"===d&&(0,t.createElement)(r.PanelBody,{title:__("Carousel Layout","ditty-news-ticker"),initialOpen:!1},(0,t.createElement)(r.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Slides Per Page","ditty-news-ticker"),help:__("Number of slides to display at once","ditty-news-ticker"),value:z,onChange:e=>n({carouselPerPage:e}),min:1,max:10}),(0,t.createElement)(r.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Slides Per Move","ditty-news-ticker"),help:__("Number of slides to move at once (0 = same as per page)","ditty-news-ticker"),value:L,onChange:e=>n({carouselPerMove:e}),min:0,max:10}),(0,t.createElement)(r.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Start Index","ditty-news-ticker"),help:__("The initial slide index to display","ditty-news-ticker"),value:R,onChange:e=>n({carouselStart:e}),min:0,max:20}),(0,t.createElement)(r.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Focus","ditty-news-ticker"),help:__("Which slide should be active when multiple slides are shown","ditty-news-ticker"),value:A,options:[{label:__("Default","ditty-news-ticker"),value:""},{label:__("Center","ditty-news-ticker"),value:"center"},{label:__("Index 0","ditty-news-ticker"),value:"0"},{label:__("Index 1","ditty-news-ticker"),value:"1"},{label:__("Index 2","ditty-news-ticker"),value:"2"}],onChange:e=>n({carouselFocus:e})}),(0,t.createElement)(r.__experimentalUnitControl,{label:__("Height","ditty-news-ticker"),help:__("Defines the carousel height (CSS format)","ditty-news-ticker"),value:P,onChange:e=>n({carouselHeight:e})}),(0,t.createElement)(r.__experimentalUnitControl,{label:__("Fixed Width","ditty-news-ticker"),help:__("Fixes width of slides (CSS format)","ditty-news-ticker"),value:B,onChange:e=>n({carouselFixedWidth:e})}),(0,t.createElement)(r.__experimentalUnitControl,{label:__("Fixed Height","ditty-news-ticker"),help:__("Fixes height of slides (CSS format)","ditty-news-ticker"),value:M,onChange:e=>n({carouselFixedHeight:e})}),(0,t.createElement)(r.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Height Ratio","ditty-news-ticker"),help:__("Height by ratio to carousel width (e.g., 0.5 = 50% height)","ditty-news-ticker"),type:"number",value:H,onChange:e=>n({carouselHeightRatio:parseFloat(e)||0}),min:0,max:2,step:.1}),(0,t.createElement)(r.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Auto Width","ditty-news-ticker"),help:__("Width determined by slide content","ditty-news-ticker"),checked:D,onChange:e=>n({carouselAutoWidth:e})}),(0,t.createElement)(r.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Auto Height","ditty-news-ticker"),help:__("Height determined by slide content","ditty-news-ticker"),checked:N,onChange:e=>n({carouselAutoHeight:e})})),"list"===d&&(0,t.createElement)(r.PanelBody,{title:__("Carousel Navigation","ditty-news-ticker"),initialOpen:!1},(0,t.createElement)(r.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Loop","ditty-news-ticker"),help:__("Enable continuous loop mode","ditty-news-ticker"),checked:x,onChange:e=>n({carouselLoop:e})}),(0,t.createElement)(r.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Rewind","ditty-news-ticker"),help:__("Rewind to start/end instead of looping","ditty-news-ticker"),checked:_,onChange:e=>n({carouselRewind:e})}),_&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(r.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Rewind Speed (ms)","ditty-news-ticker"),help:__("Transition speed for rewind (0 = use main speed)","ditty-news-ticker"),value:C,onChange:e=>n({carouselRewindSpeed:e}),min:0,max:2e3,step:100}),(0,t.createElement)(r.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Rewind By Drag","ditty-news-ticker"),help:__("Allow rewind by dragging","ditty-news-ticker"),checked:S,onChange:e=>n({carouselRewindByDrag:e})})),(0,t.createElement)(r.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Direction","ditty-news-ticker"),value:K,options:[{label:__("Left to Right","ditty-news-ticker"),value:"ltr"},{label:__("Right to Left","ditty-news-ticker"),value:"rtl"},{label:__("Top to Bottom","ditty-news-ticker"),value:"ttb"}],onChange:e=>n({carouselDirection:e})}),(0,t.createElement)(r.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Show Arrows","ditty-news-ticker"),checked:T,onChange:e=>n({carouselArrows:e})}),(0,t.createElement)(r.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Show Pagination","ditty-news-ticker"),checked:I,onChange:e=>n({carouselPagination:e})}),I&&(0,t.createElement)(r.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Pagination Direction","ditty-news-ticker"),help:__("Override pagination direction (leave empty for auto)","ditty-news-ticker"),value:O,options:[{label:__("Auto","ditty-news-ticker"),value:""},{label:__("Left to Right","ditty-news-ticker"),value:"ltr"},{label:__("Right to Left","ditty-news-ticker"),value:"rtl"},{label:__("Top to Bottom","ditty-news-ticker"),value:"ttb"}],onChange:e=>n({carouselPaginationDirection:e})})),"list"===d&&(0,t.createElement)(r.PanelBody,{title:__("Carousel Animation","ditty-news-ticker"),initialOpen:!1},(0,t.createElement)(r.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Transition Speed (ms)","ditty-news-ticker"),help:__("Speed of slide transitions in milliseconds","ditty-news-ticker"),value:E,onChange:e=>n({carouselSpeed:e}),min:0,max:2e3,step:100}),(0,t.createElement)(r.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Easing Function","ditty-news-ticker"),help:__("CSS timing function (e.g., ease, linear, cubic-bezier)","ditty-news-ticker"),value:F,onChange:e=>n({carouselEasing:e})}),(0,t.createElement)(r.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Update on Move","ditty-news-ticker"),help:__("Update active status before transition completes","ditty-news-ticker"),checked:Y,onChange:e=>n({carouselUpdateOnMove:e})})),"list"===d&&(0,t.createElement)(r.PanelBody,{title:__("Carousel Interaction","ditty-news-ticker"),initialOpen:!1},(0,t.createElement)(r.SelectControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Drag","ditty-news-ticker"),help:__("Enable dragging to navigate slides","ditty-news-ticker"),value:W,options:[{label:__("Enabled","ditty-news-ticker"),value:"true"},{label:__("Disabled","ditty-news-ticker"),value:"false"},{label:__("Free Drag","ditty-news-ticker"),value:"free"}],onChange:e=>n({carouselDrag:e})}),"free"===W&&(0,t.createElement)(r.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Snap","ditty-news-ticker"),help:__("Snap to closest slide in free drag mode","ditty-news-ticker"),checked:U,onChange:e=>n({carouselSnap:e})})),"list"===d&&(0,t.createElement)(r.PanelBody,{title:__("Carousel Autoplay","ditty-news-ticker"),initialOpen:!1},(0,t.createElement)(r.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Enable Autoplay","ditty-news-ticker"),checked:j,onChange:e=>n({carouselAutoplay:e})}),j&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(r.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:__("Interval (ms)","ditty-news-ticker"),help:__("Time between automatic slide transitions","ditty-news-ticker"),value:G,onChange:e=>n({carouselInterval:e}),min:500,max:1e4,step:500}),(0,t.createElement)(r.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Pause on Hover","ditty-news-ticker"),checked:V,onChange:e=>n({carouselPauseOnHover:e})}),(0,t.createElement)(r.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Pause on Focus","ditty-news-ticker"),help:__("Pause when carousel contains focused element","ditty-news-ticker"),checked:$,onChange:e=>n({carouselPauseOnFocus:e})}),(0,t.createElement)(r.ToggleControl,{__nextHasNoMarginBottom:!0,label:__("Reset Progress","ditty-news-ticker"),help:__("Reset progress when autoplay restarts","ditty-news-ticker"),checked:X,onChange:e=>n({carouselResetProgress:e})})))),"preview"===k?"list"===d?(0,t.createElement)(rn,{blockProps:Q,innerBlocksProps:te,attributes:e,clientId:a}):(0,t.createElement)("div",{...Q},(0,t.createElement)(s(),{block:c,attributes:e})):(0,t.createElement)(t.Fragment,null,Z&&(0,t.createElement)(l.View,null,te.children,(0,t.createElement)(f,{name:c,onSelect:e=>{n(e.attributes),ne(a,-1),ee(!1)}})),!Z&&(0,t.createElement)("div",{...te})))},save:function(){return(0,t.createElement)(o.InnerBlocks.Content,null)}})})();