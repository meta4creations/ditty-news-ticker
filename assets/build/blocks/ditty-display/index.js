(()=>{"use strict";const e=window.React,t=window.wp.blocks,l=window.wp.data,n=window.wp.blockEditor,i=window.wp.components,o=window.wp.primitives,r=window.wp.i18n,a=window.wp.element,c=(t="ticker")=>{const l={ticker:(0,e.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},(0,e.createElement)(i.Path,{d:"M4 20h28v8H4v-8zm32 4l8-6v12l-8-6z"})),carousel:(0,e.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},(0,e.createElement)(i.Path,{d:"M10 12h28v24H10V12zM2 18h6v12H2V18zm38 0h6v12h-6V18z"}))};return l?.[t]},s=function({name:o,onSelect:s}){const d=(0,l.useSelect)(e=>e(t.store).getBlockVariations(o,"block"),[o]),m=(0,n.useBlockProps)({className:"wp-block-metaphorcreations-ditty-display__placeholder"});return(0,a.useEffect)(()=>{d&&1===d.length&&s(d[0])},[s,d]),(0,e.createElement)("div",{...m},(0,e.createElement)(i.Placeholder,{instructions:(0,r.__)("Create a dynamic display. Select a layout:","ditty-news-ticker")},(0,e.createElement)("ul",{role:"list",className:"wp-block-metaphorcreations-ditty-display__variations","aria-label":(0,r.__)("Block variations","ditty-news-ticker")},d.map(t=>(0,e.createElement)("li",{key:t.name},(0,e.createElement)(i.Button,{__next40pxDefaultSize:!0,variant:"tertiary",icon:c(t.name),iconSize:48,onClick:()=>s(t),className:"wp-block-metaphorcreations-ditty-display__variation-button",label:`${t.title}: ${t.description}`}))))))},{__}=wp.i18n,d=[["ditty/display-title",{lock:{remove:!0,move:!0}}],["ditty/display-contents",{lock:{remove:!0,move:!0}}]],m=JSON.parse('{"UU":"ditty/display"}'),w=(0,e.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},(0,e.createElement)(i.Path,{d:"M4 20h28v8H4v-8zm32 4l8-6v12l-8-6z"})),p=(0,e.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},(0,e.createElement)(i.Path,{d:"M10 12h28v24H10V12zM2 18h6v12H2V18zm38 0h6v12h-6V18z"})),h=[{name:"ticker",title:(0,r.__)("Ticker","ditty-news-ticker"),description:(0,r.__)("A continuously scrolling ticker display.","ditty-news-ticker"),attributes:{type:"ticker"},isDefault:!0,scope:["block","inserter","transform"],isActive:e=>"ticker"===e.type,icon:w,innerBlocks:[["ditty/display-title",{lock:{remove:!0,move:!0}}],["ditty/display-contents",{lock:{remove:!0,move:!0}}]]},{name:"carousel",title:(0,r.__)("Carousel","ditty-news-ticker"),description:(0,r.__)("A carousel/slider display.","ditty-news-ticker"),attributes:{type:"list"},scope:["block","inserter","transform"],isActive:e=>"list"===e.type,icon:p,innerBlocks:[["ditty/display-title",{lock:{remove:!0,move:!0}}],["ditty/display-contents",{lock:{remove:!0,move:!0}}]]}],k=(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},(0,e.createElement)("path",{d:"M4 6h16v2H4V6zm0 5h16v2H4v-2zm0 5h16v2H4v-2z"}));(0,t.registerBlockType)(m.UU,{icon:k,variations:h,edit:function({attributes:t,setAttributes:r,clientId:c,name:m}){const{type:w,showTitle:p,direction:h,speed:k,spacing:y,hoverPause:u,cloneItems:v,itemBgColor:g,itemPadding:b,itemBorderColor:C,itemBorderStyle:E,itemBorderWidth:B,itemBorderRadius:x,itemMaxWidth:_,itemElementsWrap:S}=t,{hasInnerBlocks:P}=(0,l.useSelect)(e=>{const{getBlocks:t}=e(n.store);return{hasInnerBlocks:t(c).length>0}},[c]),f=(0,n.useBlockProps)({className:`ditty-display-editor ditty-display-type-${w}`}),[z,H]=function({attributes:e={},hasInnerBlocks:t=!1}){const{style:l,backgroundColor:n,textColor:i}=e,[o,r]=(0,a.useState)(!(t||n||i||l));return(0,a.useEffect)(()=>{(t||n||i||l)&&r(!1)},[n,i,l,t]),[o,r]}({attributes:t,hasInnerBlocks:P}),M=(0,n.useInnerBlocksProps)(f,{template:d,templateLock:"all",renderAppender:!1}),{selectBlock:T}=(0,l.useDispatch)(n.store),V=[{label:__("None","ditty-news-ticker"),value:""},{label:__("Solid","ditty-news-ticker"),value:"solid"},{label:__("Dashed","ditty-news-ticker"),value:"dashed"},{label:__("Dotted","ditty-news-ticker"),value:"dotted"},{label:__("Double","ditty-news-ticker"),value:"double"}];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.InspectorControls,null,(0,e.createElement)(i.PanelBody,{title:__("Display Settings","ditty-news-ticker"),initialOpen:!0},(0,e.createElement)(i.ToggleControl,{label:__("Show Title","ditty-news-ticker"),checked:p,onChange:e=>r({showTitle:e})}),(0,e.createElement)(i.SelectControl,{label:__("Direction","ditty-news-ticker"),value:h,options:[{label:__("Left","ditty-news-ticker"),value:"left"},{label:__("Right","ditty-news-ticker"),value:"right"}],onChange:e=>r({direction:e}),__nextHasNoMarginBottom:!0}),(0,e.createElement)(i.RangeControl,{label:__("Speed","ditty-news-ticker"),value:k,onChange:e=>r({speed:e}),min:1,max:100}),(0,e.createElement)(i.RangeControl,{label:__("Spacing (px)","ditty-news-ticker"),value:y,onChange:e=>r({spacing:e}),min:0,max:200}),(0,e.createElement)(i.ToggleControl,{label:__("Pause on Hover","ditty-news-ticker"),checked:u,onChange:e=>r({hoverPause:e})}),"ticker"===w&&(0,e.createElement)(i.ToggleControl,{label:__("Clone Items","ditty-news-ticker"),help:__("Clone items for seamless looping","ditty-news-ticker"),checked:v,onChange:e=>r({cloneItems:e})})),(0,e.createElement)(i.PanelBody,{title:__("Item Styles","ditty-news-ticker"),initialOpen:!1},(0,e.createElement)(i.BaseControl,{label:__("Background Color","ditty-news-ticker")},(0,e.createElement)(i.ColorPicker,{color:g,onChange:e=>r({itemBgColor:e}),enableAlpha:!0})),(0,e.createElement)(i.TextControl,{label:__("Padding","ditty-news-ticker"),value:b,onChange:e=>r({itemPadding:e}),placeholder:"e.g. 10px"}),(0,e.createElement)(i.TextControl,{label:__("Max Width","ditty-news-ticker"),value:_,onChange:e=>r({itemMaxWidth:e}),placeholder:"e.g. 300px"}),(0,e.createElement)(i.SelectControl,{label:__("Text Wrap","ditty-news-ticker"),value:S,options:[{label:__("No Wrap","ditty-news-ticker"),value:"nowrap"},{label:__("Wrap","ditty-news-ticker"),value:"wrap"}],onChange:e=>r({itemElementsWrap:e}),__nextHasNoMarginBottom:!0}),(0,e.createElement)(i.SelectControl,{label:__("Border Style","ditty-news-ticker"),value:E,options:V,onChange:e=>r({itemBorderStyle:e}),__nextHasNoMarginBottom:!0}),E&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.TextControl,{label:__("Border Width","ditty-news-ticker"),value:B,onChange:e=>r({itemBorderWidth:e}),placeholder:"e.g. 1px"}),(0,e.createElement)(i.BaseControl,{label:__("Border Color","ditty-news-ticker")},(0,e.createElement)(i.ColorPicker,{color:C,onChange:e=>r({itemBorderColor:e}),enableAlpha:!0}))),(0,e.createElement)(i.TextControl,{label:__("Border Radius","ditty-news-ticker"),value:x,onChange:e=>r({itemBorderRadius:e}),placeholder:"e.g. 4px"}))),z&&(0,e.createElement)(o.View,null,M.children,(0,e.createElement)(s,{name:m,onSelect:e=>{r(e.attributes),T(c,-1),H(!1)}})),!z&&(0,e.createElement)("div",{...M}))},save:function(){return(0,e.createElement)(n.InnerBlocks.Content,null)}})})();