(()=>{"use strict";const e=window.React,t=window.wp.blocks,n=window.wp.data,i=window.wp.blockEditor,l=window.wp.components,o=window.wp.primitives,a=window.wp.i18n,r=window.wp.element,s=(t="ticker")=>{const n={ticker:(0,e.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},(0,e.createElement)(l.Path,{d:"M4 20h28v8H4v-8zm32 4l8-6v12l-8-6z"})),carousel:(0,e.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},(0,e.createElement)(l.Path,{d:"M10 12h28v24H10V12zM2 18h6v12H2V18zm38 0h6v12h-6V18z"}))};return n?.[t]},c=function({name:o,onSelect:c}){const d=(0,n.useSelect)(e=>e(t.store).getBlockVariations(o,"block"),[o]),m=(0,i.useBlockProps)({className:"wp-block-metaphorcreations-ditty-display__placeholder"});return(0,r.useEffect)(()=>{d&&1===d.length&&c(d[0])},[c,d]),(0,e.createElement)("div",{...m},(0,e.createElement)(l.Placeholder,{instructions:(0,a.__)("Create a dynamic display. Select a layout:","ditty-news-ticker")},(0,e.createElement)("ul",{role:"list",className:"wp-block-metaphorcreations-ditty-display__variations","aria-label":(0,a.__)("Block variations","ditty-news-ticker")},d.map(t=>(0,e.createElement)("li",{key:t.name},(0,e.createElement)(l.Button,{__next40pxDefaultSize:!0,variant:"tertiary",icon:s(t.name),iconSize:48,onClick:()=>c(t),className:"wp-block-metaphorcreations-ditty-display__variation-button",label:`${t.title}: ${t.description}`}))))))},{__}=wp.i18n,d=[["ditty/display-title",{lock:{remove:!0,move:!0}}],["ditty/display-contents",{lock:{remove:!0,move:!0}}]],m=JSON.parse('{"UU":"ditty/display"}'),p=(0,e.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},(0,e.createElement)(l.Path,{d:"M4 20h28v8H4v-8zm32 4l8-6v12l-8-6z"})),w=(0,e.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},(0,e.createElement)(l.Path,{d:"M10 12h28v24H10V12zM2 18h6v12H2V18zm38 0h6v12h-6V18z"})),h=[{name:"ticker",title:(0,a.__)("Ticker","ditty-news-ticker"),description:(0,a.__)("A continuously scrolling ticker display.","ditty-news-ticker"),attributes:{type:"ticker"},isDefault:!0,scope:["block","inserter","transform"],isActive:e=>"ticker"===e.type,icon:p,innerBlocks:[["ditty/display-title",{lock:{remove:!0,move:!0}}],["ditty/display-contents",{lock:{remove:!0,move:!0}}]]},{name:"carousel",title:(0,a.__)("Carousel","ditty-news-ticker"),description:(0,a.__)("A carousel/slider display.","ditty-news-ticker"),attributes:{type:"list"},scope:["block","inserter","transform"],isActive:e=>"list"===e.type,icon:w,innerBlocks:[["ditty/display-title",{lock:{remove:!0,move:!0}}],["ditty/display-contents",{lock:{remove:!0,move:!0}}]]}],k=(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},(0,e.createElement)("path",{d:"M4 6h16v2H4V6zm0 5h16v2H4v-2zm0 5h16v2H4v-2z"}));(0,t.registerBlockType)(m.UU,{icon:k,variations:h,edit:function({attributes:t,setAttributes:a,clientId:s,name:m}){const{type:p,showTitle:w,direction:h,speed:k,spacing:y,hoverPause:v,cloneItems:u,itemMaxWidth:g,itemElementsWrap:E}=t,{hasInnerBlocks:b}=(0,n.useSelect)(e=>{const{getBlocks:t}=e(i.store);return{hasInnerBlocks:t(s).length>0}},[s]),C=(0,i.useBlockProps)({className:`ditty-display-editor ditty-display-type-${p}`}),[B,_]=function({attributes:e={},hasInnerBlocks:t=!1}){const{style:n,backgroundColor:i,textColor:l}=e,[o,a]=(0,r.useState)(!(t||i||l||n));return(0,r.useEffect)(()=>{(t||i||l||n)&&a(!1)},[i,l,n,t]),[o,a]}({attributes:t,hasInnerBlocks:b}),x=(0,i.useInnerBlocksProps)(C,{template:d,templateLock:"all",renderAppender:!1}),{selectBlock:S}=(0,n.useDispatch)(i.store);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.InspectorControls,null,(0,e.createElement)(l.PanelBody,{title:__("Display Settings","ditty-news-ticker"),initialOpen:!0},(0,e.createElement)(l.ToggleControl,{label:__("Show Title","ditty-news-ticker"),checked:w,onChange:e=>a({showTitle:e})}),(0,e.createElement)(l.SelectControl,{label:__("Direction","ditty-news-ticker"),value:h,options:[{label:__("Left","ditty-news-ticker"),value:"left"},{label:__("Right","ditty-news-ticker"),value:"right"}],onChange:e=>a({direction:e}),__nextHasNoMarginBottom:!0}),(0,e.createElement)(l.RangeControl,{label:__("Speed","ditty-news-ticker"),value:k,onChange:e=>a({speed:e}),min:1,max:100}),(0,e.createElement)(l.RangeControl,{label:__("Spacing (px)","ditty-news-ticker"),value:y,onChange:e=>a({spacing:e}),min:0,max:200}),(0,e.createElement)(l.ToggleControl,{label:__("Pause on Hover","ditty-news-ticker"),checked:v,onChange:e=>a({hoverPause:e})}),"ticker"===p&&(0,e.createElement)(l.ToggleControl,{label:__("Clone Items","ditty-news-ticker"),help:__("Clone items for seamless looping","ditty-news-ticker"),checked:u,onChange:e=>a({cloneItems:e})})),(0,e.createElement)(l.PanelBody,{title:__("Item Settings","ditty-news-ticker"),initialOpen:!1},(0,e.createElement)(l.TextControl,{label:__("Max Width","ditty-news-ticker"),value:g,onChange:e=>a({itemMaxWidth:e}),placeholder:__("e.g. 300px","ditty-news-ticker")}),(0,e.createElement)(l.SelectControl,{label:__("Text Wrap","ditty-news-ticker"),value:E,options:[{label:__("No Wrap","ditty-news-ticker"),value:"nowrap"},{label:__("Wrap","ditty-news-ticker"),value:"wrap"}],onChange:e=>a({itemElementsWrap:e})}))),B&&(0,e.createElement)(o.View,null,x.children,(0,e.createElement)(c,{name:m,onSelect:e=>{a(e.attributes),S(s,-1),_(!1)}})),!B&&(0,e.createElement)("div",{...x}))},save:function(){return(0,e.createElement)(i.InnerBlocks.Content,null)}})})();