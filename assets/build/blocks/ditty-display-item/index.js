(()=>{"use strict";const e=window.wp.blocks,t=window.React,i=window.wp.element,s=window.wp.i18n,l=window.wp.blockEditor,n=window.wp.data,o=window.wp.hooks;window.wp.serverSideRender;const r=JSON.parse('{"UU":"ditty/display-item"}');(0,e.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:r,clientId:a,context:d,name:c}){const p=d["dittyDisplay/type"]||"ticker",w=d["dittyDisplay/itemMaxWidth"]||"",y=d["dittyDisplay/itemElementsWrap"]||"nowrap",{innerBlockCount:m}=(d["dittyDisplay/editMode"],(0,n.useSelect)(e=>{const{getBlocks:t}=e(l.store);return{innerBlockCount:t(a).length}},[a])),{removeBlock:k}=(0,n.useDispatch)(l.store);(0,i.useEffect)(()=>{if(!(0,o.applyFilters)("ditty.displayItem.allowMultipleInnerBlocks",!1)&&m>1){const{getBlocks:e}=l.store.resolvers?l.store:window.wp.data.select(l.store),t=e(a);for(let e=1;e<t.length;e++)k(t[e].clientId,!1)}},[m,a,k]);const u=(0,l.useBlockProps)({className:`ditty-display-item ditty-display-item--${p}`}),B={};w&&(B.maxWidth=w),"nowrap"===y&&(B.whiteSpace="nowrap");const h=(0,o.applyFilters)("ditty.displayItem.allowedBlocks",["core/paragraph","core/heading"]),I=(0,o.applyFilters)("ditty.displayItem.allowMultipleInnerBlocks",!1),g=(0,l.useInnerBlocksProps)({},{allowedBlocks:h,template:[["core/paragraph",{content:(0,s.__)("This is a sample item. Please edit me!","ditty-news-ticker")}]],templateLock:!I&&"insert",renderAppender:!1});return(0,t.createElement)("div",{...u},(0,t.createElement)("div",{className:"ditty-display__item__elements",style:B},(0,t.createElement)("div",{...g})))},save:function(){return(0,t.createElement)(l.InnerBlocks.Content,null)}})})();