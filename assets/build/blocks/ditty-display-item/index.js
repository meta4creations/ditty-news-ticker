(()=>{"use strict";const e=window.wp.blocks,t=window.React,i=window.wp.element,l=window.wp.i18n,s=window.wp.blockEditor,n=window.wp.data,o=window.wp.hooks,r=JSON.parse('{"UU":"ditty/display-item"}');(0,e.registerBlockType)(r.UU,{edit:function({attributes:e,setAttributes:r,clientId:a,context:c}){const p=c["dittyDisplay/type"]||"ticker",d=c["dittyDisplay/itemMaxWidth"]||"",w=c["dittyDisplay/itemElementsWrap"]||"nowrap",{innerBlockCount:y}=(0,n.useSelect)(e=>{const{getBlocks:t}=e(s.store);return{innerBlockCount:t(a).length}},[a]),{removeBlock:m}=(0,n.useDispatch)(s.store);(0,i.useEffect)(()=>{if(!(0,o.applyFilters)("ditty.displayItem.allowMultipleInnerBlocks",!1)&&y>1){const{getBlocks:e}=s.store.resolvers?s.store:window.wp.data.select(s.store),t=e(a);for(let e=1;e<t.length;e++)m(t[e].clientId,!1)}},[y,a,m]);const k=(0,s.useBlockProps)({className:`ditty-display-item ditty-display-item--${p}`}),u={};d&&(u.maxWidth=d),"nowrap"===w&&(u.whiteSpace="nowrap");const B=(0,o.applyFilters)("ditty.displayItem.allowedBlocks",["core/paragraph","core/heading"]),h=(0,o.applyFilters)("ditty.displayItem.allowMultipleInnerBlocks",!1),I=(0,s.useInnerBlocksProps)({},{allowedBlocks:B,template:[["core/paragraph",{content:(0,l.__)("This is a sample item. Please edit me!","ditty-news-ticker")}]],templateLock:!h&&"insert",renderAppender:!1});return(0,t.createElement)("div",{...k},(0,t.createElement)("div",{className:"ditty-display__item__elements",style:u},(0,t.createElement)("div",{...I})))},save:function(){return(0,t.createElement)(s.InnerBlocks.Content,null)}})})();