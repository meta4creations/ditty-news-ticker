!function(t){var e={init:function(e){return this.each((function(){function i(){P.tick_count=U.find(".mtphr-dnt-tick").length,P.tick_count>0&&("scroll"===N.type?n():"rotate"===N.type&&b()),N.after_load.call(S,U),S.trigger("mtphr_dnt_after_load_single",[P,et]),t("body").trigger("mtphr_dnt_after_load",[S,P,et])}function r(){U.find(".mtphr-dnt-tick").each((function(){t(this).outerHeight()>tt&&(tt=t(this).outerHeight()),"up"!==N.scroll_direction&&"down"!==N.scroll_direction||t(this).css("height","auto")})),U.css("height",tt+"px")}function n(){var e=U.find(".mtphr-dnt-tick:first");if(e.attr("style")){var i,n=e.attr("style").split("width:");rt=!(n.length>1)}U.css({marginLeft:"-"+N.offset+"px",width:"calc( 100% + "+parseFloat(2*N.offset)+"px )"}),et=[],U.find("img").length?U.imagesLoaded((function(){r(),U.find(".mtphr-dnt-tick").each((function(){t(this).show();var e=[{headline:t(this)}];et.push(e)})),v(),a()})):(r(),U.find(".mtphr-dnt-tick").each((function(){t(this).show();var e=[{headline:t(this)}];et.push(e)})),v(),a()),U.hover((function(){N.scroll_pause&&o()}),(function(){N.scroll_pause&&!P.paused&&s()}))}function o(){clearInterval(it)}function s(){a()}function a(){clearInterval(it),it=setInterval((function(){for(var t=0;t<P.tick_count;t++)if(!0===et[t][0].visible){var e="reset";"left"===N.scroll_direction||"right"===N.scroll_direction?"reset"===(e="left"===N.scroll_direction?c(t):p(t))?(e=f(t),et[t][0].headline.css("opacity",0),et[t][0].headline.stop(!0,!0).css("left",e+"px")):(et[t][0].headline.css("opacity",1),et[t][0].headline.stop(!0,!0).animate({left:e+"px"},100,"linear")):"reset"===(e="up"===N.scroll_direction?l(t):_(t))?(e=f(t),et[t][0].headline.css("opacity",0),et[t][0].headline.stop(!0,!0).css("top",e+"px")):(et[t][0].headline.css("opacity",1),et[t][0].headline.stop(!0,!0).animate({top:e+"px"},100,"linear")),et[t][0].position=e}}),100)}function c(t){var e=parseFloat(et[t][0].position-N.scroll_speed);return e<-et[t][0].headline.outerWidth()?e=u(t):e<parseFloat($-et[t][0].headline.outerWidth()-N.scroll_spacing)&&h(t),e}function p(t){var e=et[t][0].position+N.scroll_speed;return e>$?e=u(t):e>N.scroll_spacing&&h(t),e}function l(t){var e=et[t][0].position-N.scroll_speed;return e<-et[t][0].headline.outerHeight()?e=u(t):e<tt-et[t][0].headline.outerHeight()-N.scroll_spacing&&h(t),e}function _(t){var e=et[t][0].position+N.scroll_speed;return e>tt?e=u(t):e>N.scroll_spacing&&h(t),e}function u(e){return P.tick_count>1&&(et[e][0].visible=!1),P.tick_count===e+1&&(S.trigger("mtphr_dnt_scroll_complete",[P,et]),t("body").trigger("mtphr_dnt_scroll_complete",[S,P,et])),"reset"}function d(t){!1===et[t][0].visible&&(P.previous_tick=parseInt(t-1),P.previous_tick<0&&(P.previous_tick=parseInt(P.tick_count-1)),P.current_tick=t,P.next_tick=parseInt(t+1),P.next_tick>=P.tick_count&&(P.next_tick=0))}function h(t){t===P.tick_count-1?N.scroll_loop&&(d(0),et[0][0].visible=!0):(d(parseInt(t+1)),et[t+1][0].visible=!0)}function f(t){var e;$=U.outerWidth(),tt=U.outerHeight();var i=et[t][0].headline;switch(N.scroll_direction){case"left":e=$;break;case"right":e=parseFloat("-"+i.outerWidth());break;case"up":e=parseFloat(tt);break;case"down":e=parseFloat("-"+i.outerHeight());break}return et[t][0].width=i.outerWidth(),et[t][0].height=i.outerHeight(),et[t][0].reset=e,et[t][0].position=e,e}function g(){for(var t=0;t<P.tick_count;t++){var e,i=et[t][0].headline;switch(N.scroll_direction){case"left":e=$,!1===et[t][0].visible&&i.css("left",e+"px");break;case"right":e=parseFloat("-"+i.outerWidth()),!1===et[t][0].visible&&i.css("left",e+"px");break;case"up":rt&&i.css("width",$),e=parseFloat(tt),!1===et[t][0].visible&&i.css("top",e+"px");break;case"down":rt&&i.css("width",$),e=parseFloat("-"+i.outerHeight()),!1===et[t][0].visible&&i.css("top",e+"px");break}et[t][0].width=i.outerWidth(),et[t][0].height=i.outerHeight(),!1===et[t][0].visible&&(et[t][0].position=e),et[t][0].reset=e}}function v(){var t,e;$=U.outerWidth(!0),tt=U.outerHeight(!0);for(var i=0;i<P.tick_count;i++)if(et[i]){switch(e=et[i][0].headline,N.scroll_direction){case"left":t=$,e.stop(!0,!0).css("left",t+"px");break;case"right":t=parseFloat("-"+e.outerWidth()),e.stop(!0,!0).css("left",t+"px");break;case"up":rt&&e.css("width",$),t=parseFloat(tt),e.stop(!0,!0).css("top",t+"px");break;case"down":rt&&e.css("width",$),t=parseFloat("-"+e.outerHeight()),e.stop(!0,!0).css("top",t+"px");break}et[i][0].width=e.outerWidth(),et[i][0].height=e.outerHeight(),et[i][0].position=t,et[i][0].reset=t,et[i][0].visible=!1}if(P.current_tick=0,et[P.current_tick][0].visible=!0,N.scroll_init)for("left"===N.scroll_direction?t=.1*$:"right"===N.scroll_direction?t=.9*$:"up"===N.scroll_direction?t=.1*tt:"down"===N.scroll_direction&&(t=.9*tt),i=0;i<P.tick_count;i++)switch(e=et[i][0].headline,N.scroll_direction){case"left":t<$&&(e.stop(!0,!0).css("left",t+"px"),et[i][0].position=t,et[i][0].visible=!0,t=t+et[i][0].width+N.scroll_spacing);break;case"right":t>0&&(t-=et[i][0].width,e.stop(!0,!0).css("left",t+"px"),et[i][0].position=t,et[i][0].visible=!0,t-=N.scroll_spacing);break;case"up":t<tt&&(e.stop(!0,!0).css("top",t+"px"),et[i][0].position=t,et[i][0].visible=!0,t=t+et[i][0].height+N.scroll_spacing);break;case"down":t>0&&(t-=et[i][0].height,e.stop(!0,!0).css("top",t+"px"),et[i][0].position=t,et[i][0].visible=!0,t-=N.scroll_spacing);break}}function k(){m()}function y(){clearInterval(nt)}function b(){switch(U.find(".mtphr-dnt-tick").each((function(){et.push(t(this)),t(this).imagesLoaded((function(){W()}))})),W(),U.find(".mtphr-dnt-tick").show(),N.rotate_type){case"fade":H(U,et,parseInt(100*N.rotate_speed),N.rotate_ease);break;case"slide_left":L(U,et,parseInt(100*N.rotate_speed),N.rotate_ease);break;case"slide_right":T(U,et,parseInt(100*N.rotate_speed),N.rotate_ease);break;case"slide_down":A(U,et,parseInt(100*N.rotate_speed),N.rotate_ease);break;case"slide_up":R(U,et,parseInt(100*N.rotate_speed),N.rotate_ease);break}w(0),N.auto_rotate&&k(),U.hover((function(){N.auto_rotate&&N.rotate_pause&&!P.running&&y()}),(function(){N.auto_rotate&&N.rotate_pause&&!P.running&&!P.paused&&k()}))}function m(){y(),nt=setInterval((function(){var t=parseInt(P.current_tick+1);t===P.tick_count&&(t=0),x(t)}),parseInt(1e3*N.rotate_delay))}function x(e){P.current_tick!==e&&(N.auto_rotate&&y(),P.next_tick=e,N.before_change.call(S,U),S.trigger("mtphr_dnt_before_change_single",[P,et]),t("body").trigger("mtphr_dnt_before_change",[S,P,et]),P.running=1,F(e),I(e),P.previous_tick=P.current_tick,P.current_tick=e,st=setTimeout((function(){N.after_change.call(S,U),S.trigger("mtphr_dnt_after_change_single",[P,et]),t("body").trigger("mtphr_dnt_after_change",[S,P,et]),ot=N.rotate_type,P.reverse=0,P.running=0,N.auto_rotate&&!P.paused&&m()}),parseInt(100*N.rotate_speed)))}function w(t){Y&&(Y.children("a").removeClass("active"),Y.children('a[href="'+t+'"]').addClass("active"))}function I(e){switch(w(e),ot){case"fade":C(U,t(et[e]),t(et[P.current_tick]),parseInt(100*N.rotate_speed),N.rotate_ease);break;case"slide_left":z(U,t(et[e]),t(et[P.current_tick]),parseInt(100*N.rotate_speed),N.rotate_ease);break;case"slide_right":j(U,t(et[e]),t(et[P.current_tick]),parseInt(100*N.rotate_speed),N.rotate_ease);break;case"slide_down":M(U,t(et[e]),t(et[P.current_tick]),parseInt(100*N.rotate_speed),N.rotate_ease);break;case"slide_up":q(U,t(et[e]),t(et[P.current_tick]),parseInt(100*N.rotate_speed),N.rotate_ease);break}}function F(e){switch(ot){case"fade":D(U,t(et[P.current_tick]),t(et[e]),parseInt(100*N.rotate_speed),N.rotate_ease);break;case"slide_left":O(U,t(et[P.current_tick]),t(et[e]),parseInt(100*N.rotate_speed),N.rotate_ease);break;case"slide_right":E(U,t(et[P.current_tick]),t(et[e]),parseInt(100*N.rotate_speed),N.rotate_ease);break;case"slide_down":Q(U,t(et[P.current_tick]),t(et[e]),parseInt(100*N.rotate_speed),N.rotate_ease);break;case"slide_up":B(U,t(et[P.current_tick]),t(et[e]),parseInt(100*N.rotate_speed),N.rotate_ease);break}}function W(){for(var e=0;e<P.tick_count;e++)t(et[e]).width($+"px"),P.current_tick!==e&&t(et[e]).css({left:parseFloat($+N.offset)+"px"});var i=t(et[P.current_tick]).height();U.stop().css("height",i+"px")}function H(t,e){var i=e[0],r=i.height();t.css("height",r+"px"),i.css({opacity:1,left:"auto"})}function C(t,e,i,r,n){e.css({opacity:0,left:"auto"}),e.stop().animate({opacity:1},r,n);var o=e.height();t.stop().animate({height:o+"px"},r,n)}function D(e,i,r,n,o){i.stop().animate({opacity:0},n,o,(function(){t(this).css({left:parseFloat($+N.offset)+"px"}),i.remove(),e.append(i)}))}function L(t,e){var i=e[0],r=i.height();t.css("height",r+"px"),i.css({opacity:1,left:0})}function z(t,e,i,r,n){var o=e.height();e.css({opacity:1,left:parseFloat($+N.offset)+"px"}),t.stop().animate({height:o+"px"},r,n,(function(){})),e.stop().animate({left:"0"},r,n,(function(){}))}function O(t,e,i,r,n){e.stop().animate({left:"-"+parseFloat($+N.offset)+"px"},r,n,(function(){e.css({opacity:0}),e.remove(),t.append(e)}))}function T(t,e){var i=e[0],r=i.height();t.css("height",r+"px"),i.css({opacity:1,left:0})}function j(t,e,i,r,n){var o=e.height();e.css({opacity:1,left:"-"+parseFloat($+N.offset)+"px"}),t.stop().animate({height:o+"px"},r,n,(function(){})),e.stop().animate({left:"0"},r,n)}function E(t,e,i,r,n){e.stop().animate({left:parseFloat($+N.offset)+"px"},r,n,(function(){e.css({opacity:0}),e.remove(),t.append(e)}))}function A(t,e){var i=e[0],r=i.height();t.css("height",r+"px"),i.css({opacity:1,top:0,left:"auto"})}function M(t,e,i,r,n){var o=e.height();e.css({opacity:1,top:"-"+parseFloat(o+N.offset)+"px",left:"auto"}),t.stop().animate({height:o+"px"},r,n),e.stop().animate({top:"0"},r,n)}function Q(t,e,i,r,n){var o=i.height();e.stop().animate({top:parseFloat(o+N.offset)+"px"},r,n,(function(){e.css({opacity:0}),e.remove(),t.append(e)}))}function R(t,e){var i=e[0],r=i.height();t.css({height:r+"px",left:"auto"}),i.css({opacity:1,top:0})}function q(t,e,i,r,n){var o=e.height();e.css({opacity:1,top:parseFloat(i.height()+N.offset)+"px",left:"auto"}),t.stop().animate({height:o+"px"},r,n),e.stop().animate({top:"0"},r,n)}function B(t,e,i,r,n){var o=e.height();e.stop().animate({top:"-"+parseFloat(o+N.offset)+"px"},r,n,(function(){e.css({opacity:0}),e.remove(),t.append(e)}))}function G(){if(P.running)return!1;var t=parseInt(P.current_tick+1);t===P.tick_count&&(t=0),x(t)}function J(){if(P.running)return!1;var t=parseInt(P.current_tick-1);t<0&&(t=P.tick_count-1),N.nav_reverse&&("slide_left"===N.rotate_type?ot="slide_right":"slide_right"===N.rotate_type?ot="slide_left":"slide_down"===N.rotate_type?ot="slide_up":"slide_up"===N.rotate_type&&(ot="slide_down"),P.reverse=1),x(t)}function K(t){t?(P.paused=!1,Z.removeClass("paused"),"scroll"===N.type?s():k()):(P.paused=!0,Z.addClass("paused"),"scroll"===N.type?o():y()),S.trigger("mtphr_dnt_play_pause",[P,et])}var N={id:"",type:"scroll",scroll_direction:"left",scroll_speed:10,scroll_pause:0,scroll_spacing:40,scroll_units:10,scroll_init:0,scroll_loop:1,rotate_type:"fade",auto_rotate:0,rotate_delay:10,rotate_pause:0,rotate_speed:10,rotate_ease:"easeOutExpo",nav_reverse:0,disable_touchswipe:0,offset:20,before_change:function(){},after_change:function(){},after_load:function(){}},P={id:N.id,tick_count:0,previous_tick:0,current_tick:0,next_tick:0,reverse:0,running:0,paused:0};e&&t.extend(N,e);var S=t(this),U=S.find(".mtphr-dnt-tick-contents"),V=S.find(".mtphr-dnt-nav-prev"),X=S.find(".mtphr-dnt-nav-next"),Y=S.find(".mtphr-dnt-control-links"),Z=S.find(".mtphr-dnt-play-pause"),$=U.outerWidth(!0),tt=0,et=[],it,rt=!0,nt,ot=N.rotate_type,st;if(U.data("ditty:vars",P),V&&"rotate"===N.type&&(V.bind("click",(function(t){t.preventDefault(),J()})),X.bind("click",(function(t){t.preventDefault(),G()}))),Y&&"rotate"===N.type&&Y.children("a").bind("click",(function(e){e.preventDefault();var i=parseInt(t(this).attr("href"));if(P.running)return!1;if(i===P.current_tick)return!1;var r=i<P.current_tick?1:0;N.nav_reverse&&r&&("slide_left"===N.rotate_type?ot="slide_right":"slide_right"===N.rotate_type?ot="slide_left":"slide_down"===N.rotate_type?ot="slide_up":"slide_up"===N.rotate_type&&(ot="slide_down"),P.reverse=1),x(i)})),Z.bind("click",(function(t){t.preventDefault(),K(P.paused)})),"rotate"!==N.type||N.disable_touchswipe||U.swipe({triggerOnTouchEnd:!0,swipeLeft:function(){if(P.running)return!1;var t=parseInt(P.current_tick+1);t===P.tick_count&&(t=0),"slide_left"!==N.rotate_type&&"slide_right"!==N.rotate_type||(ot="slide_left"),x(t)},swipeRight:function(){if(P.running)return!1;var t=parseInt(P.current_tick-1);t<0&&(t=P.tick_count-1),"slide_left"!==N.rotate_type&&"slide_right"!==N.rotate_type||(ot="slide_right"),N.nav_reverse&&("slide_down"===N.rotate_type?ot="slide_up":"slide_up"===N.rotate_type&&(ot="slide_down"),P.reverse=1),x(t)}}),S.on("mtphr_dnt_next",(function(){G()})),S.on("mtphr_dnt_prev",(function(){J()})),S.on("mtphr_dnt_goto",(function(t,e){x(parseInt(e))})),S.on("mtphr_dnt_pause",(function(){K()})),S.on("mtphr_dnt_play",(function(){K(!0)})),t(window).resize((function(){U.outerWidth()!==$&&($=U.outerWidth(!0),"scroll"===N.type?("up"===N.scroll_direction||"down"===N.scroll_direction)&&rt?v():g():"rotate"===N.type&&W())})),S.on("mtphr_dnt_resize_single",(function(){"scroll"===N.type?g():"rotate"===N.type&&W()})),t("body").on("mtphr_dnt_resize",(function(t,e){e&&e.indexOf(N.id)>=0&&("scroll"===N.type?g():"rotate"===N.type&&W())})),S.on("mtphr_dnt_replace_ticks",(function(e,r,n){clearInterval(it),S.find(".mtphr-dnt-tick").remove(),r.each((function(){U.append(t(this))})),setTimeout((function(){i()}),n)})),0===S.outerWidth())var at=setInterval((function(){S.outerWidth()>10&&(clearInterval(at),$=U.outerWidth(),i())}),100);else i()}))}};t.fn.ditty_news_ticker=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist in ditty_news_ticker"):e.init.apply(this,arguments)}}(jQuery);