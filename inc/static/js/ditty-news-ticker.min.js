!function(t){var e={init:function(e){return this.each((function(){function r(){J.tick_count=N.find(".mtphr-dnt-tick").length,J.tick_count>0&&("scroll"===H.type?n():"rotate"===H.type&&m()),H.after_load.call(K,N),K.trigger("mtphr_dnt_after_load_single",[J,tt]),t("body").trigger("mtphr_dnt_after_load",[K,J,tt])}function i(){N.find(".mtphr-dnt-tick").each((function(){t(this).height()>$&&($=t(this).height()),"up"!==H.scroll_direction&&"down"!==H.scroll_direction||t(this).css("height","auto")})),N.css("height",$+"px")}function n(){var e=N.find(".mtphr-dnt-tick:first");if(e.attr("style")){var r,n=e.attr("style").split("width:");rt=!(n.length>1)}tt=[],N.find("img").length?N.imagesLoaded((function(){i(),N.find(".mtphr-dnt-tick").each((function(){t(this).show();var e=[{headline:t(this)}];tt.push(e)})),g(),o()})):(i(),N.find(".mtphr-dnt-tick").each((function(){t(this).show();var e=[{headline:t(this)}];tt.push(e)})),g(),o()),N.hover((function(){H.scroll_pause&&s()}),(function(){H.scroll_pause&&!J.paused&&a()}))}function s(){clearInterval(et)}function a(){o()}function o(){clearInterval(et),et=setInterval((function(){for(var t=0;t<J.tick_count;t++)if(!0===tt[t][0].visible){var e="reset";"left"===H.scroll_direction||"right"===H.scroll_direction?("reset"===(e="left"===H.scroll_direction?c(t):p(t))?(e=tt[t][0].reset,tt[t][0].headline.css("opacity",0)):tt[t][0].headline.css("opacity",1),tt[t][0].headline.css({transform:"translateX( "+e+"px )"})):("reset"===(e="up"===H.scroll_direction?l(t):_(t))?(e=tt[t][0].reset,tt[t][0].headline.css("opacity",0)):tt[t][0].headline.css("opacity",1),tt[t][0].headline.css({transform:"translateY( "+e+"px )"})),tt[t][0].position=e}}),1)}function c(t){var e=parseFloat(tt[t][0].position-.05*H.scroll_speed);return e<-(tt[t][0].headline.width()+H.offset)?e=f(t):e<parseFloat(Z-tt[t][0].headline.width()-H.scroll_spacing)&&u(t),e}function p(t){var e=parseFloat(tt[t][0].position+.05*H.scroll_speed);return e>Z+H.offset?e=f(t):e>H.scroll_spacing&&u(t),e}function l(t){var e=parseFloat(tt[t][0].position-.05*H.scroll_speed);return e<-(tt[t][0].headline.height()+H.offset)?e=f(t):e<$-tt[t][0].headline.height()-H.scroll_spacing&&u(t),e}function _(t){var e=parseFloat(tt[t][0].position+.05*H.scroll_speed);return e>$+H.offset?e=f(t):e>H.scroll_spacing&&u(t),e}function f(e){return J.tick_count>1&&(tt[e][0].visible=!1),J.tick_count===e+1&&(K.trigger("mtphr_dnt_scroll_complete",[J,tt]),t("body").trigger("mtphr_dnt_scroll_complete",[K,J,tt])),"reset"}function d(t){!1===tt[t][0].visible&&(J.previous_tick=parseInt(t-1),J.previous_tick<0&&(J.previous_tick=parseInt(J.tick_count-1)),J.current_tick=t,J.next_tick=parseInt(t+1),J.next_tick>=J.tick_count&&(J.next_tick=0))}function u(t){t===J.tick_count-1?H.scroll_loop&&(d(0),tt[0][0].visible=!0):(d(parseInt(t+1)),tt[t+1][0].visible=!0)}function h(){for(var t=0;t<J.tick_count;t++){var e,r=tt[t][0].headline;switch(H.scroll_direction){case"left":e=Z+H.offset,!1===tt[t][0].visible&&r.css("transform","translateX( "+e+"px )");break;case"right":e=parseInt("-"+(r.width()+H.offset)),!1===tt[t][0].visible&&r.css("transform","translateX( "+e+"px )");break;case"up":rt&&r.css("width",Z),e=parseInt($+H.offset),!1===tt[t][0].visible&&r.css("transform","translateY( "+e+"px )");break;case"down":rt&&r.css("width",Z),e=parseInt("-"+(r.height()+H.offset)),!1===tt[t][0].visible&&r.css("transform","translateY( "+e+"px )");break}tt[t][0].width=r.width(),tt[t][0].height=r.height(),!1===tt[t][0].visible&&(tt[t][0].position=e),tt[t][0].reset=e}}function g(){for(var t,e,r=0;r<J.tick_count;r++)if(tt[r]){switch(e=tt[r][0].headline,H.scroll_direction){case"left":t=Z+H.offset,e.css("transform","translateX( "+t+"px )");break;case"right":t=parseInt("-"+(e.width()+H.offset)),e.css("transform","translateX( "+t+"px )");break;case"up":rt&&e.css("width",Z),t=parseInt($+H.offset),e.css("transform","translateY( "+t+"px )");break;case"down":rt&&e.css("width",Z),t=parseInt("-"+(e.height()+H.offset)),e.css("transform","translateY( "+t+"px )");break}tt[r][0].width=e.width(),tt[r][0].height=e.height(),tt[r][0].position=t,tt[r][0].reset=t,tt[r][0].visible=!1}if(J.current_tick=0,tt[J.current_tick][0].visible=!0,H.scroll_init)for("left"===H.scroll_direction?t=.1*Z:"right"===H.scroll_direction?t=.9*Z:"up"===H.scroll_direction?t=.1*$:"down"===H.scroll_direction&&(t=.9*$),r=0;r<J.tick_count;r++)switch(e=tt[r][0].headline,H.scroll_direction){case"left":t<Z&&(e.css("transform","translateX( "+t+"px )"),tt[r][0].position=t,tt[r][0].visible=!0,t=t+tt[r][0].width+H.scroll_spacing);break;case"right":t>0&&(t-=tt[r][0].width,e.css("transform","translateX( "+t+"px )"),tt[r][0].position=t,tt[r][0].visible=!0,t-=H.scroll_spacing);break;case"up":t<$&&(e.css("transform","translateY( "+t+"px )"),tt[r][0].position=t,tt[r][0].visible=!0,t=t+tt[r][0].height+H.scroll_spacing);break;case"down":t>0&&(e.css("transform","translateY( "+t+"px )"),e.stop(!0,!0).css("top",t+"px"),tt[r][0].position=t,tt[r][0].visible=!0,t-=H.scroll_spacing);break}}function v(){y()}function k(){clearInterval(it)}function m(){switch(N.find(".mtphr-dnt-tick").each((function(){tt.push(t(this)),t(this).imagesLoaded((function(){F()}))})),F(),N.find(".mtphr-dnt-tick").show(),H.rotate_type){case"fade":X(N,tt,parseInt(100*H.rotate_speed),H.rotate_ease);break;case"slide_left":D(N,tt,parseInt(100*H.rotate_speed),H.rotate_ease);break;case"slide_right":L(N,tt,parseInt(100*H.rotate_speed),H.rotate_ease);break;case"slide_down":j(N,tt,parseInt(100*H.rotate_speed),H.rotate_ease);break;case"slide_up":M(N,tt,parseInt(100*H.rotate_speed),H.rotate_ease);break}w(0),H.auto_rotate&&v(),N.hover((function(){H.auto_rotate&&H.rotate_pause&&!J.running&&k()}),(function(){H.auto_rotate&&H.rotate_pause&&!J.running&&!J.paused&&v()}))}function y(){k(),it=setInterval((function(){var t=parseInt(J.current_tick+1);t===J.tick_count&&(t=0),b(t)}),parseInt(1e3*H.rotate_delay))}function b(e){J.current_tick!==e&&(H.auto_rotate&&k(),J.next_tick=e,H.before_change.call(K,N),K.trigger("mtphr_dnt_before_change_single",[J,tt]),t("body").trigger("mtphr_dnt_before_change",[K,J,tt]),J.running=1,I(e),x(e),J.previous_tick=J.current_tick,J.current_tick=e,st=setTimeout((function(){H.after_change.call(K,N),K.trigger("mtphr_dnt_after_change_single",[J,tt]),t("body").trigger("mtphr_dnt_after_change",[K,J,tt]),nt=H.rotate_type,J.reverse=0,J.running=0,H.auto_rotate&&!J.paused&&y()}),parseInt(100*H.rotate_speed)))}function w(t){U&&(U.children("a").removeClass("active"),U.children('a[href="'+t+'"]').addClass("active"))}function x(e){switch(w(e),nt){case"fade":Y(N,t(tt[e]),t(tt[J.current_tick]),parseInt(100*H.rotate_speed),H.rotate_ease);break;case"slide_left":W(N,t(tt[e]),t(tt[J.current_tick]),parseInt(100*H.rotate_speed),H.rotate_ease);break;case"slide_right":O(N,t(tt[e]),t(tt[J.current_tick]),parseInt(100*H.rotate_speed),H.rotate_ease);break;case"slide_down":E(N,t(tt[e]),t(tt[J.current_tick]),parseInt(100*H.rotate_speed),H.rotate_ease);break;case"slide_up":Q(N,t(tt[e]),t(tt[J.current_tick]),parseInt(100*H.rotate_speed),H.rotate_ease);break}}function I(e){switch(nt){case"fade":C(N,t(tt[J.current_tick]),t(tt[e]),parseInt(100*H.rotate_speed),H.rotate_ease);break;case"slide_left":z(N,t(tt[J.current_tick]),t(tt[e]),parseInt(100*H.rotate_speed),H.rotate_ease);break;case"slide_right":T(N,t(tt[J.current_tick]),t(tt[e]),parseInt(100*H.rotate_speed),H.rotate_ease);break;case"slide_down":A(N,t(tt[J.current_tick]),t(tt[e]),parseInt(100*H.rotate_speed),H.rotate_ease);break;case"slide_up":R(N,t(tt[J.current_tick]),t(tt[e]),parseInt(100*H.rotate_speed),H.rotate_ease);break}}function F(){for(var e=0;e<J.tick_count;e++)t(tt[e]).width(Z+"px"),J.current_tick!==e&&t(tt[e]).css({left:parseFloat(Z+H.offset)+"px"});var r=t(tt[J.current_tick]).height();N.stop().css("height",r+"px")}function X(t,e){var r=e[0],i=r.height();t.css("height",i+"px"),r.css({opacity:1,left:"auto"})}function Y(t,e,r,i,n){e.css({opacity:0,left:"auto"}),e.stop().animate({opacity:1},i,n);var s=e.height();t.stop().animate({height:s+"px"},i,n)}function C(e,r,i,n,s){r.stop().animate({opacity:0},n,s,(function(){t(this).css({left:parseFloat(Z+H.offset)+"px"}),r.remove(),e.append(r)}))}function D(t,e){var r=e[0],i=r.height();t.css("height",i+"px"),r.css({opacity:1,left:0})}function W(t,e,r,i,n){var s=e.height();e.css({opacity:1,left:parseFloat(Z+H.offset)+"px"}),t.stop().animate({height:s+"px"},i,n,(function(){})),e.stop().animate({left:"0"},i,n,(function(){}))}function z(t,e,r,i,n){e.stop().animate({left:"-"+parseFloat(Z+H.offset)+"px"},i,n,(function(){e.css({opacity:0}),e.remove(),t.append(e)}))}function L(t,e){var r=e[0],i=r.height();t.css("height",i+"px"),r.css({opacity:1,left:0})}function O(t,e,r,i,n){var s=e.height();e.css({opacity:1,left:"-"+parseFloat(Z+H.offset)+"px"}),t.stop().animate({height:s+"px"},i,n,(function(){})),e.stop().animate({left:"0"},i,n)}function T(t,e,r,i,n){e.stop().animate({left:parseFloat(Z+H.offset)+"px"},i,n,(function(){e.css({opacity:0}),e.remove(),t.append(e)}))}function j(t,e){var r=e[0],i=r.height();t.css("height",i+"px"),r.css({opacity:1,top:0,left:"auto"})}function E(t,e,r,i,n){var s=e.height();e.css({opacity:1,top:"-"+parseFloat(s+H.offset)+"px",left:"auto"}),t.stop().animate({height:s+"px"},i,n),e.stop().animate({top:"0"},i,n)}function A(t,e,r,i,n){var s=r.height();e.stop().animate({top:parseFloat(s+H.offset)+"px"},i,n,(function(){e.css({opacity:0}),e.remove(),t.append(e)}))}function M(t,e){var r=e[0],i=r.height();t.css({height:i+"px",left:"auto"}),r.css({opacity:1,top:0})}function Q(t,e,r,i,n){var s=e.height();e.css({opacity:1,top:parseFloat(r.height()+H.offset)+"px",left:"auto"}),t.stop().animate({height:s+"px"},i,n),e.stop().animate({top:"0"},i,n)}function R(t,e,r,i,n){var s=e.height();e.stop().animate({top:"-"+parseFloat(s+H.offset)+"px"},i,n,(function(){e.css({opacity:0}),e.remove(),t.append(e)}))}function q(){if(J.running)return!1;var t=parseInt(J.current_tick+1);t===J.tick_count&&(t=0),b(t)}function B(){if(J.running)return!1;var t=parseInt(J.current_tick-1);t<0&&(t=J.tick_count-1),H.nav_reverse&&("slide_left"===H.rotate_type?nt="slide_right":"slide_right"===H.rotate_type?nt="slide_left":"slide_down"===H.rotate_type?nt="slide_up":"slide_up"===H.rotate_type&&(nt="slide_down"),J.reverse=1),b(t)}function G(t){t?(J.paused=!1,V.removeClass("paused"),"scroll"===H.type?a():v()):(J.paused=!0,V.addClass("paused"),"scroll"===H.type?s():k()),K.trigger("mtphr_dnt_play_pause",[J,tt])}var H={id:"",type:"scroll",scroll_direction:"left",scroll_speed:10,scroll_pause:0,scroll_spacing:40,scroll_units:10,scroll_init:0,scroll_loop:1,rotate_type:"fade",auto_rotate:0,rotate_delay:10,rotate_pause:0,rotate_speed:10,rotate_ease:"easeOutExpo",nav_reverse:0,disable_touchswipe:0,offset:20,before_change:function(){},after_change:function(){},after_load:function(){}},J={id:H.id,tick_count:0,previous_tick:0,current_tick:0,next_tick:0,reverse:0,running:0,paused:0};e&&t.extend(H,e);var K=t(this),N=K.find(".mtphr-dnt-tick-contents"),P=K.find(".mtphr-dnt-nav-prev"),S=K.find(".mtphr-dnt-nav-next"),U=K.find(".mtphr-dnt-control-links"),V=K.find(".mtphr-dnt-play-pause"),Z=N.outerWidth(!0),$=0,tt=[],et,rt=!0,it,nt=H.rotate_type,st;if(N.data("ditty:vars",J),P&&"rotate"===H.type&&(P.bind("click",(function(t){t.preventDefault(),B()})),S.bind("click",(function(t){t.preventDefault(),q()}))),U&&"rotate"===H.type&&U.children("a").bind("click",(function(e){e.preventDefault();var r=parseInt(t(this).attr("href"));if(J.running)return!1;if(r===J.current_tick)return!1;var i=r<J.current_tick?1:0;H.nav_reverse&&i&&("slide_left"===H.rotate_type?nt="slide_right":"slide_right"===H.rotate_type?nt="slide_left":"slide_down"===H.rotate_type?nt="slide_up":"slide_up"===H.rotate_type&&(nt="slide_down"),J.reverse=1),b(r)})),V.bind("click",(function(t){t.preventDefault(),G(J.paused)})),"rotate"!==H.type||H.disable_touchswipe||N.swipe({triggerOnTouchEnd:!0,swipeLeft:function(){if(J.running)return!1;var t=parseInt(J.current_tick+1);t===J.tick_count&&(t=0),"slide_left"!==H.rotate_type&&"slide_right"!==H.rotate_type||(nt="slide_left"),b(t)},swipeRight:function(){if(J.running)return!1;var t=parseInt(J.current_tick-1);t<0&&(t=J.tick_count-1),"slide_left"!==H.rotate_type&&"slide_right"!==H.rotate_type||(nt="slide_right"),H.nav_reverse&&("slide_down"===H.rotate_type?nt="slide_up":"slide_up"===H.rotate_type&&(nt="slide_down"),J.reverse=1),b(t)}}),K.on("mtphr_dnt_next",(function(){q()})),K.on("mtphr_dnt_prev",(function(){B()})),K.on("mtphr_dnt_goto",(function(t,e){b(parseInt(e))})),K.on("mtphr_dnt_pause",(function(){G()})),K.on("mtphr_dnt_play",(function(){G(!0)})),t(window).resize((function(){N.outerWidth()!==Z&&(Z=N.outerWidth(!0),"scroll"===H.type?("up"===H.scroll_direction||"down"===H.scroll_direction)&&rt?g():h():"rotate"===H.type&&F())})),K.on("mtphr_dnt_resize_single",(function(){"scroll"===H.type?h():"rotate"===H.type&&F()})),t("body").on("mtphr_dnt_resize",(function(t,e){e&&e.indexOf(H.id)>=0&&("scroll"===H.type?h():"rotate"===H.type&&F())})),K.on("mtphr_dnt_replace_ticks",(function(e,i,n){clearInterval(et),K.find(".mtphr-dnt-tick").remove(),i.each((function(){N.append(t(this))})),setTimeout((function(){r()}),n)})),0===K.width())var at=setInterval((function(){K.width()>10&&(clearInterval(at),Z=N.outerWidth(!0),r())}),100);else r()}))}};t.fn.ditty_news_ticker=function(r){return e[r]?e[r].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof r&&r?void t.error("Method "+r+" does not exist in ditty_news_ticker"):e.init.apply(this,arguments)}}(jQuery);